"use strict";var aQ=Object.defineProperty,uQ=Object.defineProperties,lQ=Object.getOwnPropertyDescriptors,qN=Object.getOwnPropertySymbols,cQ=Object.prototype.hasOwnProperty,dQ=Object.prototype.propertyIsEnumerable,zN=(pe,bt,on)=>bt in pe?aQ(pe,bt,{enumerable:!0,configurable:!0,writable:!0,value:on}):pe[bt]=on,WN=(pe,bt)=>{for(var on in bt||(bt={}))cQ.call(bt,on)&&zN(pe,on,bt[on]);if(qN)for(var on of qN(bt))dQ.call(bt,on)&&zN(pe,on,bt[on]);return pe},KN=(pe,bt)=>uQ(pe,lQ(bt));(self.webpackChunkTO_DO_LIST=self.webpackChunkTO_DO_LIST||[]).push([[179],{877:()=>{function pe(n){return"function"==typeof n}function bt(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const on=bt(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function Ka(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class kn{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const o of t)o.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(pe(r))try{r()}catch(o){e=o instanceof on?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{ow(o)}catch(s){e=null!=e?e:[],s instanceof on?e=[...e,...s.errors]:e.push(s)}}if(e)throw new on(e)}}add(e){var t;if(e&&e!==this)if(this.closed)ow(e);else{if(e instanceof kn){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Ka(t,e)}remove(e){const{_finalizers:t}=this;t&&Ka(t,e),e instanceof kn&&e._removeParent(this)}}kn.EMPTY=(()=>{const n=new kn;return n.closed=!0,n})();const rw=kn.EMPTY;function iw(n){return n instanceof kn||n&&"closed"in n&&pe(n.remove)&&pe(n.add)&&pe(n.unsubscribe)}function ow(n){pe(n)?n():n.unsubscribe()}const Ji={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},bc={setTimeout(n,e,...t){const{delegate:r}=bc;return null!=r&&r.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=bc;return((null==e?void 0:e.clearTimeout)||clearTimeout)(n)},delegate:void 0};function sw(n){bc.setTimeout(()=>{const{onUnhandledError:e}=Ji;if(!e)throw n;e(n)})}function aw(){}const QN=sp("C",void 0,void 0);function sp(n,e,t){return{kind:n,value:e,error:t}}let Xi=null;function Ac(n){if(Ji.useDeprecatedSynchronousErrorHandling){const e=!Xi;if(e&&(Xi={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=Xi;if(Xi=null,t)throw r}}else n()}class ap extends kn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,iw(e)&&e.add(this)):this.destination=nV}static create(e,t,r){return new Sc(e,t,r)}next(e){this.isStopped?lp(function JN(n){return sp("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?lp(function YN(n){return sp("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?lp(QN,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ZN=Function.prototype.bind;function up(n,e){return ZN.call(n,e)}class eV{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Mc(r)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Mc(r)}else Mc(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Mc(t)}}}class Sc extends ap{constructor(e,t,r){let i;if(super(),pe(e)||!e)i={next:null!=e?e:void 0,error:null!=t?t:void 0,complete:null!=r?r:void 0};else{let o;this&&Ji.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&up(e.next,o),error:e.error&&up(e.error,o),complete:e.complete&&up(e.complete,o)}):i=e}this.destination=new eV(i)}}function Mc(n){Ji.useDeprecatedSynchronousErrorHandling?function XN(n){Ji.useDeprecatedSynchronousErrorHandling&&Xi&&(Xi.errorThrown=!0,Xi.error=n)}(n):sw(n)}function lp(n,e){const{onStoppedNotification:t}=Ji;t&&bc.setTimeout(()=>t(n,e))}const nV={closed:!0,next:aw,error:function tV(n){throw n},complete:aw},cp="function"==typeof Symbol&&Symbol.observable||"@@observable";function Zi(n){return n}let st=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const o=function iV(n){return n&&n instanceof ap||function rV(n){return n&&pe(n.next)&&pe(n.error)&&pe(n.complete)}(n)&&iw(n)}(t)?t:new Sc(t,r,i);return Ac(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=lw(r))((i,o)=>{const s=new Sc({next:a=>{try{t(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[cp](){return this}pipe(...t){return function uw(n){return 0===n.length?Zi:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}(t)(this)}toPromise(t){return new(t=lw(t))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function lw(n){var e;return null!==(e=null!=n?n:Ji.Promise)&&void 0!==e?e:Promise}const oV=bt(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let fr=(()=>{class n extends st{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new cw(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new oV}next(t){Ac(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){Ac(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Ac(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:o}=this;return r||i?rw:(this.currentObservers=null,o.push(t),new kn(()=>{this.currentObservers=null,Ka(o,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){const t=new st;return t.source=this,t}}return n.create=(e,t)=>new cw(e,t),n})();class cw extends fr{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:rw}}function dw(n){return pe(null==n?void 0:n.lift)}function Ft(n){return e=>{if(dw(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function At(n,e,t,r,i){return new sV(n,e,t,r,i)}class sV extends ap{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Te(n,e){return Ft((t,r)=>{let i=0;t.subscribe(At(r,o=>{r.next(n.call(e,o,i++))}))})}function eo(n){return this instanceof eo?(this.v=n,this):new eo(n)}function lV(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(n,e||[]),o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(h){r[h]&&(i[h]=function(f){return new Promise(function(p,g){o.push([h,f,p,g])>1||a(h,f)})})}function a(h,f){try{!function u(h){h.value instanceof eo?Promise.resolve(h.value.v).then(l,c):d(o[0][2],h)}(r[h](f))}catch(p){d(o[0][3],p)}}function l(h){a("next",h)}function c(h){a("throw",h)}function d(h,f){h(f),o.shift(),o.length&&a(o[0][0],o[0][1])}}function cV(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function pw(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,u){!function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}(a,u,(s=n[o](s)).done,s.value)})}}}const gw=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function mw(n){return pe(null==n?void 0:n.then)}function _w(n){return pe(n[cp])}function yw(n){return Symbol.asyncIterator&&pe(null==n?void 0:n[Symbol.asyncIterator])}function vw(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Ew=function hV(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function ww(n){return pe(null==n?void 0:n[Ew])}function Cw(n){return lV(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:i}=yield eo(t.read());if(i)return yield eo(void 0);yield yield eo(r)}}finally{t.releaseLock()}})}function Dw(n){return pe(null==n?void 0:n.getReader)}function pr(n){if(n instanceof st)return n;if(null!=n){if(_w(n))return function fV(n){return new st(e=>{const t=n[cp]();if(pe(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(gw(n))return function pV(n){return new st(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(mw(n))return function gV(n){return new st(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,sw)})}(n);if(yw(n))return Iw(n);if(ww(n))return function mV(n){return new st(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(Dw(n))return function _V(n){return Iw(Cw(n))}(n)}throw vw(n)}function Iw(n){return new st(e=>{(function yV(n,e){var t,r,i,o;return function aV(n,e,t,r){return new(t||(t=Promise))(function(o,s){function a(c){try{l(r.next(c))}catch(d){s(d)}}function u(c){try{l(r.throw(c))}catch(d){s(d)}}function l(c){c.done?o(c.value):function i(o){return o instanceof t?o:new t(function(s){s(o)})}(c.value).then(a,u)}l((r=r.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=cV(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function kr(n,e,t,r=0,i=!1){const o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function Ot(n,e,t=1/0){return pe(e)?Ot((r,i)=>Te((o,s)=>e(r,o,i,s))(pr(n(r,i))),t):("number"==typeof e&&(t=e),Ft((r,i)=>function vV(n,e,t,r,i,o,s,a){const u=[];let l=0,c=0,d=!1;const h=()=>{d&&!u.length&&!l&&e.complete()},f=g=>l<r?p(g):u.push(g),p=g=>{o&&e.next(g),l++;let m=!1;pr(t(g,c++)).subscribe(At(e,_=>{null==i||i(_),o?f(_):e.next(_)},()=>{m=!0},void 0,()=>{if(m)try{for(l--;u.length&&l<r;){const _=u.shift();s?kr(e,s,()=>p(_)):p(_)}h()}catch(_){e.error(_)}}))};return n.subscribe(At(e,f,()=>{d=!0,h()})),()=>{null==a||a()}}(r,i,n,t)))}function es(n=1/0){return Ot(Zi,n)}const Lr=new st(n=>n.complete());function hp(n){return n[n.length-1]}function Tw(n){return pe(hp(n))?n.pop():void 0}function Qa(n){return function wV(n){return n&&pe(n.schedule)}(hp(n))?n.pop():void 0}function bw(n,e=0){return Ft((t,r)=>{t.subscribe(At(r,i=>kr(r,n,()=>r.next(i),e),()=>kr(r,n,()=>r.complete(),e),i=>kr(r,n,()=>r.error(i),e)))})}function Aw(n,e=0){return Ft((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function Sw(n,e){if(!n)throw new Error("Iterable cannot be null");return new st(t=>{kr(t,e,()=>{const r=n[Symbol.asyncIterator]();kr(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function vt(n,e){return e?function SV(n,e){if(null!=n){if(_w(n))return function DV(n,e){return pr(n).pipe(Aw(e),bw(e))}(n,e);if(gw(n))return function TV(n,e){return new st(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(mw(n))return function IV(n,e){return pr(n).pipe(Aw(e),bw(e))}(n,e);if(yw(n))return Sw(n,e);if(ww(n))return function bV(n,e){return new st(t=>{let r;return kr(t,e,()=>{r=n[Ew](),kr(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){return void t.error(s)}o?t.complete():t.next(i)},0,!0)}),()=>pe(null==r?void 0:r.return)&&r.return()})}(n,e);if(Dw(n))return function AV(n,e){return Sw(Cw(n),e)}(n,e)}throw vw(n)}(n,e):pr(n)}function Ya(n){return n<=0?()=>Lr:Ft((e,t)=>{let r=0;e.subscribe(At(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function fp(n,e,...t){return!0===e?(n(),null):!1===e?null:e(...t).pipe(Ya(1)).subscribe(()=>n())}function Pe(n){for(let e in n)if(n[e]===Pe)return e;throw Error("Could not find renamed property on target object.")}function pp(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Ne(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Ne).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function gp(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const xV=Pe({__forward_ref__:Pe});function ke(n){return n.__forward_ref__=ke,n.toString=function(){return Ne(this())},n}function J(n){return mp(n)?n():n}function mp(n){return"function"==typeof n&&n.hasOwnProperty(xV)&&n.__forward_ref__===ke}class ae extends Error{constructor(e,t){super(function Rc(n,e){return`NG0${Math.abs(n)}${e?": "+e.trim():""}`}(e,t)),this.code=e}}function ne(n){return"string"==typeof n?n:null==n?"":String(n)}function xc(n,e){throw new ae(-201,!1)}function Dn(n,e){null==n&&function be(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(e,n,null,"!=")}function z(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function In(n){return{providers:n.providers||[],imports:n.imports||[]}}function _p(n){return Mw(n,Pc)||Mw(n,xw)}function Mw(n,e){return n.hasOwnProperty(e)?n[e]:null}function Rw(n){return n&&(n.hasOwnProperty(yp)||n.hasOwnProperty(BV))?n[yp]:null}const Pc=Pe({\u0275prov:Pe}),yp=Pe({\u0275inj:Pe}),xw=Pe({ngInjectableDef:Pe}),BV=Pe({ngInjectorDef:Pe});var K=(()=>((K=K||{})[K.Default=0]="Default",K[K.Host=1]="Host",K[K.Self=2]="Self",K[K.SkipSelf=4]="SkipSelf",K[K.Optional=8]="Optional",K))();let vp;function gr(n){const e=vp;return vp=n,e}function Pw(n,e,t){const r=_p(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&K.Optional?null:void 0!==e?e:void xc(Ne(n))}function pi(n){return{toString:n}.toString()}var Yn=(()=>((Yn=Yn||{})[Yn.OnPush=0]="OnPush",Yn[Yn.Default=1]="Default",Yn))(),mr=(()=>{return(n=mr||(mr={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",mr;var n})();const Re=(()=>"undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof global&&global||"undefined"!=typeof window&&window||"undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self)(),ts={},Ie=[],Nc=Pe({\u0275cmp:Pe}),Ep=Pe({\u0275dir:Pe}),wp=Pe({\u0275pipe:Pe}),Nw=Pe({\u0275mod:Pe}),jr=Pe({\u0275fac:Pe}),Ja=Pe({__NG_ELEMENT_ID__:Pe});let UV=0;function Jn(n){return pi(()=>{const t=!0===n.standalone,r={},i={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===Yn.OnPush,directiveDefs:null,pipeDefs:null,standalone:t,dependencies:t&&n.dependencies||null,getStandaloneInjector:null,selectors:n.selectors||Ie,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||mr.Emulated,id:"c"+UV++,styles:n.styles||Ie,_:null,setInput:null,schemas:n.schemas||null,tView:null},o=n.dependencies,s=n.features;return i.inputs=Ow(n.inputs,r),i.outputs=Ow(n.outputs),s&&s.forEach(a=>a(i)),i.directiveDefs=o?()=>("function"==typeof o?o():o).map(Vw).filter(Fw):null,i.pipeDefs=o?()=>("function"==typeof o?o():o).map(an).filter(Fw):null,i})}function Xa(n,e,t){const r=n.\u0275cmp;r.directiveDefs=()=>("function"==typeof e?e():e).map(Vw),r.pipeDefs=()=>("function"==typeof t?t():t).map(an)}function Vw(n){return Ve(n)||sn(n)}function Fw(n){return null!==n}const $V={};function Ln(n){return pi(()=>{const e={type:n.type,bootstrap:n.bootstrap||Ie,declarations:n.declarations||Ie,imports:n.imports||Ie,exports:n.exports||Ie,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&($V[n.id]=n.type),e})}function Ow(n,e){if(null==n)return ts;const t={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),t[i]=r,e&&(e[i]=o)}return t}const X=Jn;function _n(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function Ve(n){return n[Nc]||null}function sn(n){return n[Ep]||null}function an(n){return n[wp]||null}function Tn(n,e){const t=n[Nw]||null;if(!t&&!0===e)throw new Error(`Type ${Ne(n)} does not have '\u0275mod' property.`);return t}function yn(n){return Array.isArray(n)&&"object"==typeof n[1]}function Zn(n){return Array.isArray(n)&&!0===n[1]}function Ip(n){return 0!=(8&n.flags)}function kc(n){return 2==(2&n.flags)}function Lc(n){return 1==(1&n.flags)}function er(n){return null!==n.template}function WV(n){return 0!=(256&n[2])}function oo(n,e){return n.hasOwnProperty(jr)?n[jr]:null}class YV{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function jn(){return Bw}function Bw(n){return n.type.prototype.ngOnChanges&&(n.setInput=XV),JV}function JV(){const n=Uw(this),e=null==n?void 0:n.current;if(e){const t=n.previous;if(t===ts)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function XV(n,e,t,r){const i=Uw(n)||function ZV(n,e){return n[jw]=e}(n,{previous:ts,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[t],u=s[a];o[a]=new YV(u&&u.currentValue,e,s===ts),n[r]=e}jn.ngInherit=!0;const jw="__ngSimpleChanges__";function Uw(n){return n[jw]||null}let Mp;function tt(n){return!!n.listen}const $w={createRenderer:(n,e)=>function Rp(){return void 0!==Mp?Mp:"undefined"!=typeof document?document:void 0}()};function ht(n){for(;Array.isArray(n);)n=n[0];return n}function Bc(n,e){return ht(e[n])}function $n(n,e){return ht(e[n.index])}function xp(n,e){return n.data[e]}function ss(n,e){return n[e]}function An(n,e){const t=e[n];return yn(t)?t:t[0]}function Hw(n){return 4==(4&n[2])}function Pp(n){return 64==(64&n[2])}function gi(n,e){return null==e?null:n[e]}function Gw(n){n[18]=0}function Np(n,e){n[5]+=e;let t=n,r=n[3];for(;null!==r&&(1===e&&1===t[5]||-1===e&&0===t[5]);)r[5]+=e,t=r,r=r[3]}const ee={lFrame:Zw(null),bindingsEnabled:!0};function zw(){return ee.bindingsEnabled}function A(){return ee.lFrame.lView}function Ee(){return ee.lFrame.tView}function ce(n){return ee.lFrame.contextLView=n,n[8]}function de(n){return ee.lFrame.contextLView=null,n}function Et(){let n=Ww();for(;null!==n&&64===n.type;)n=n.parent;return n}function Ww(){return ee.lFrame.currentTNode}function _r(n,e){const t=ee.lFrame;t.currentTNode=n,t.isParent=e}function Vp(){return ee.lFrame.isParent}function un(){const n=ee.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function as(){return ee.lFrame.bindingIndex++}function $r(n){const e=ee.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function mF(n,e){const t=ee.lFrame;t.bindingIndex=t.bindingRootIndex=n,Op(e)}function Op(n){ee.lFrame.currentDirectiveIndex=n}function Yw(){return ee.lFrame.currentQueryIndex}function Lp(n){ee.lFrame.currentQueryIndex=n}function yF(n){const e=n[1];return 2===e.type?e.declTNode:1===e.type?n[6]:null}function Jw(n,e,t){if(t&K.SkipSelf){let i=e,o=n;for(;!(i=i.parent,null!==i||t&K.Host||(i=yF(o),null===i||(o=o[15],10&i.type))););if(null===i)return!1;e=i,n=o}const r=ee.lFrame=Xw();return r.currentTNode=e,r.lView=n,!0}function Uc(n){const e=Xw(),t=n[1];ee.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function Xw(){const n=ee.lFrame,e=null===n?null:n.child;return null===e?Zw(n):e}function Zw(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function eC(){const n=ee.lFrame;return ee.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const tC=eC;function $c(){const n=eC();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function ln(){return ee.lFrame.selectedIndex}function mi(n){ee.lFrame.selectedIndex=n}function nt(){const n=ee.lFrame;return xp(n.tView,n.selectedIndex)}function Hc(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:c}=o;s&&(n.contentHooks||(n.contentHooks=[])).push(-t,s),a&&((n.contentHooks||(n.contentHooks=[])).push(t,a),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(t,a)),u&&(n.viewHooks||(n.viewHooks=[])).push(-t,u),l&&((n.viewHooks||(n.viewHooks=[])).push(t,l),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(t,l)),null!=c&&(n.destroyHooks||(n.destroyHooks=[])).push(t,c)}}function Gc(n,e,t){nC(n,e,3,t)}function qc(n,e,t,r){(3&n[2])===t&&nC(n,e,t,r)}function Bp(n,e){let t=n[2];(3&t)===e&&(t&=2047,t+=1,n[2]=t)}function nC(n,e,t,r){const o=null!=r?r:-1,s=e.length-1;let a=0;for(let u=void 0!==r?65535&n[18]:0;u<s;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(n[18]+=65536),(a<o||-1==o)&&(AF(n,t,e,u),n[18]=(4294901760&n[18])+u+2),u++}function AF(n,e,t,r){const i=t[r]<0,o=t[r+1],a=n[i?-t[r]:t[r]];if(i){if(n[2]>>11<n[18]>>16&&(3&n[2])===e){n[2]+=2048;try{o.call(a)}finally{}}}else try{o.call(a)}finally{}}class ru{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function zc(n,e,t){const r=tt(n);let i=0;for(;i<t.length;){const o=t[i];if("number"==typeof o){if(0!==o)break;i++;const s=t[i++],a=t[i++],u=t[i++];r?n.setAttribute(e,a,u,s):e.setAttributeNS(s,a,u)}else{const s=o,a=t[++i];Up(s)?r&&n.setProperty(e,s,a):r?n.setAttribute(e,s,a):e.setAttribute(s,a),i++}}return i}function rC(n){return 3===n||4===n||6===n}function Up(n){return 64===n.charCodeAt(0)}function Wc(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?t=i:0===t||iC(n,t,i,null,-1===t||2===t?e[++r]:null)}}return n}function iC(n,e,t,r,i){let o=0,s=n.length;if(-1===e)s=-1;else for(;o<n.length;){const a=n[o++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=o-1;break}}}for(;o<n.length;){const a=n[o];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(n[o+1]=i));if(r===n[o+1])return void(n[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),null!==r&&n.splice(o++,0,r),null!==i&&n.splice(o++,0,i)}function oC(n){return-1!==n}function us(n){return 32767&n}function ls(n,e){let t=function PF(n){return n>>16}(n),r=e;for(;t>0;)r=r[15],t--;return r}let $p=!0;function Kc(n){const e=$p;return $p=n,e}let NF=0;const yr={};function ou(n,e){const t=Gp(n,e);if(-1!==t)return t;const r=e[1];r.firstCreatePass&&(n.injectorIndex=e.length,Hp(r.data,n),Hp(e,null),Hp(r.blueprint,null));const i=Qc(n,e),o=n.injectorIndex;if(oC(i)){const s=us(i),a=ls(i,e),u=a[1].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|u[s+l]}return e[o+8]=i,o}function Hp(n,e){n.push(0,0,0,0,0,0,0,0,e)}function Gp(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function Qc(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;null!==i;){if(r=pC(i),null===r)return-1;if(t++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return-1}function Yc(n,e,t){!function VF(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(Ja)&&(r=t[Ja]),null==r&&(r=t[Ja]=NF++);const i=255&r;e.data[n+(i>>5)]|=1<<i}(n,e,t)}function uC(n,e,t){if(t&K.Optional)return n;xc()}function lC(n,e,t,r){if(t&K.Optional&&void 0===r&&(r=null),0==(t&(K.Self|K.Host))){const i=n[9],o=gr(void 0);try{return i?i.get(e,r,t&K.Optional):Pw(e,r,t&K.Optional)}finally{gr(o)}}return uC(r,0,t)}function cC(n,e,t,r=K.Default,i){if(null!==n){if(1024&e[2]){const s=function BF(n,e,t,r,i){let o=n,s=e;for(;null!==o&&null!==s&&1024&s[2]&&!(256&s[2]);){const a=dC(o,s,t,r|K.Self,yr);if(a!==yr)return a;let u=o.parent;if(!u){const l=s[21];if(l){const c=l.get(t,yr,r);if(c!==yr)return c}u=pC(s),s=s[15]}o=u}return i}(n,e,t,r,yr);if(s!==yr)return s}const o=dC(n,e,t,r,yr);if(o!==yr)return o}return lC(e,t,r,i)}function dC(n,e,t,r,i){const o=function kF(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(Ja)?n[Ja]:void 0;return"number"==typeof e?e>=0?255&e:LF:e}(t);if("function"==typeof o){if(!Jw(e,n,r))return r&K.Host?uC(i,0,r):lC(e,t,r,i);try{const s=o(r);if(null!=s||r&K.Optional)return s;xc()}finally{tC()}}else if("number"==typeof o){let s=null,a=Gp(n,e),u=-1,l=r&K.Host?e[16][6]:null;for((-1===a||r&K.SkipSelf)&&(u=-1===a?Qc(n,e):e[a+8],-1!==u&&fC(r,!1)?(s=e[1],a=us(u),e=ls(u,e)):a=-1);-1!==a;){const c=e[1];if(hC(o,a,c.data)){const d=OF(a,e,t,s,r,l);if(d!==yr)return d}u=e[a+8],-1!==u&&fC(r,e[1].data[a+8]===l)&&hC(o,a,e)?(s=c,a=us(u),e=ls(u,e)):a=-1}}return i}function OF(n,e,t,r,i,o){const s=e[1],a=s.data[n+8],c=Jc(a,s,t,null==r?kc(a)&&$p:r!=s&&0!=(3&a.type),i&K.Host&&o===a);return null!==c?su(e,s,c,a):yr}function Jc(n,e,t,r,i){const o=n.providerIndexes,s=e.data,a=1048575&o,u=n.directiveStart,c=o>>20,h=i?a+c:n.directiveEnd;for(let f=r?a:a+c;f<h;f++){const p=s[f];if(f<u&&t===p||f>=u&&p.type===t)return f}if(i){const f=s[u];if(f&&er(f)&&f.type===t)return u}return null}function su(n,e,t,r){let i=n[t];const o=e.data;if(function SF(n){return n instanceof ru}(i)){const s=i;s.resolving&&function PV(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new ae(-200,`Circular dependency in DI detected for ${n}${t}`)}(function De(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():ne(n)}(o[t]));const a=Kc(s.canSeeViewProviders);s.resolving=!0;const u=s.injectImpl?gr(s.injectImpl):null;Jw(n,r,K.Default);try{i=n[t]=s.factory(void 0,o,n,r),e.firstCreatePass&&t>=r.directiveStart&&function bF(n,e,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const s=Bw(e);(t.preOrderHooks||(t.preOrderHooks=[])).push(n,s),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,s)}i&&(t.preOrderHooks||(t.preOrderHooks=[])).push(0-n,i),o&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n,o),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,o))}(t,o[t],e)}finally{null!==u&&gr(u),Kc(a),s.resolving=!1,tC()}}return i}function hC(n,e,t){return!!(t[e+(n>>5)]&1<<n)}function fC(n,e){return!(n&K.Self||n&K.Host&&e)}class cs{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return cC(this._tNode,this._lView,e,r,t)}}function LF(){return new cs(Et(),A())}function zt(n){return pi(()=>{const e=n.prototype.constructor,t=e[jr]||qp(e),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const o=i[jr]||qp(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function qp(n){return mp(n)?()=>{const e=qp(J(n));return e&&e()}:oo(n)}function pC(n){const e=n[1],t=e.type;return 2===t?e.declTNode:1===t?n[6]:null}function au(n){return function FF(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const r=t.length;let i=0;for(;i<r;){const o=t[i];if(rC(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof t[i];)i++;else{if(o===e)return t[i+1];i+=2}}}return null}(Et(),n)}const hs="__parameters__";function ps(n,e,t){return pi(()=>{const r=function zp(n){return function(...t){if(n){const r=n(...t);for(const i in r)this[i]=r[i]}}}(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(u,l,c){const d=u.hasOwnProperty(hs)?u[hs]:Object.defineProperty(u,hs,{value:[]})[hs];for(;d.length<=c;)d.push(null);return(d[c]=d[c]||[]).push(s),u}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}class Q{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=z({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const UF=new Q("AnalyzeForEntryComponents");function Sn(n,e){void 0===e&&(e=n);for(let t=0;t<n.length;t++){let r=n[t];Array.isArray(r)?(e===n&&(e=n.slice(0,t)),Sn(r,e)):e!==n&&e.push(r)}return e}function Hr(n,e){n.forEach(t=>Array.isArray(t)?Hr(t,e):e(t))}function mC(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Xc(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function Mn(n,e,t){let r=gs(n,e);return r>=0?n[1|r]=t:(r=~r,function GF(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(1===i)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;)n[i]=n[i-2],i--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function Kp(n,e){const t=gs(n,e);if(t>=0)return n[1|t]}function gs(n,e){return function vC(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){const o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}(n,e,1)}const du={},Yp="__NG_DI_FLAG__",ed="ngTempTokenPath",XF=/\n/gm,EC="__source";let hu;function td(n){const e=hu;return hu=n,e}function eO(n,e=K.Default){if(void 0===hu)throw new ae(-203,!1);return null===hu?Pw(n,void 0,e):hu.get(n,e&K.Optional?null:void 0,e)}function k(n,e=K.Default){return(function jV(){return vp}()||eO)(J(n),e)}function Jp(n){const e=[];for(let t=0;t<n.length;t++){const r=J(n[t]);if(Array.isArray(r)){if(0===r.length)throw new ae(900,!1);let i,o=K.Default;for(let s=0;s<r.length;s++){const a=r[s],u=nO(a);"number"==typeof u?-1===u?i=a.token:o|=u:i=a}e.push(k(i,o))}else e.push(k(r))}return e}function fu(n,e){return n[Yp]=e,n.prototype[Yp]=e,n}function nO(n){return n[Yp]}const nd=fu(ps("Inject",n=>({token:n})),-1),Gr=fu(ps("Optional"),8),pu=fu(ps("SkipSelf"),4);class PC{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function yi(n){return n instanceof PC?n.changingThisBreaksApplicationSecurity:n}const TO=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,bO=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var ft=(()=>((ft=ft||{})[ft.NONE=0]="NONE",ft[ft.HTML=1]="HTML",ft[ft.STYLE=2]="STYLE",ft[ft.SCRIPT=3]="SCRIPT",ft[ft.URL=4]="URL",ft[ft.RESOURCE_URL=5]="RESOURCE_URL",ft))();function ig(n){const e=function vu(){const n=A();return n&&n[12]}();return e?e.sanitize(ft.URL,n)||"":function _u(n,e){const t=function wO(n){return n instanceof PC&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see https://g.co/ng/security#xss)`)}return t===e}(n,"URL")?yi(n):function ad(n){return(n=String(n)).match(TO)||n.match(bO)?n:"unsafe:"+n}(ne(n))}function sg(n){return n.ngOriginalError}class ys{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&sg(e);for(;t&&sg(t);)t=sg(t);return t||null}}const ag=new Map;let KO=0;const lg="__ngContext__";function Wt(n,e){yn(e)?(n[lg]=e[20],function YO(n){ag.set(n[20],n)}(e)):n[lg]=e}function Eu(n){const e=n[lg];return"number"==typeof e?function $C(n){return ag.get(n)||null}(e):e||null}function cg(n){const e=Eu(n);return e?yn(e)?e:e.lView:null}const ok=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Re))();function dg(n){return n.ownerDocument.defaultView}function qr(n){return n instanceof Function?n():n}var Rn=(()=>((Rn=Rn||{})[Rn.Important=1]="Important",Rn[Rn.DashCase=2]="DashCase",Rn))();function fg(n,e){return undefined(n,e)}function wu(n){const e=n[3];return Zn(e)?e[3]:e}function pg(n){return JC(n[13])}function gg(n){return JC(n[4])}function JC(n){for(;null!==n&&!Zn(n);)n=n[4];return n}function Es(n,e,t,r,i){if(null!=r){let o,s=!1;Zn(r)?o=r:yn(r)&&(s=!0,r=r[0]);const a=ht(r);0===n&&null!==t?null==i?rD(e,t,a):so(e,t,a,i||null,!0):1===n&&null!==t?so(e,t,a,i||null,!0):2===n?function dD(n,e,t){const r=ld(n,e);r&&function vk(n,e,t,r){tt(n)?n.removeChild(e,t,r):e.removeChild(t)}(n,r,e,t)}(e,a,s):3===n&&e.destroyNode(a),null!=o&&function Ck(n,e,t,r,i){const o=t[7];o!==ht(t)&&Es(e,n,r,o,i);for(let a=10;a<t.length;a++){const u=t[a];Cu(u[1],u,n,e,r,o)}}(e,n,o,t,i)}}function _g(n,e,t){if(tt(n))return n.createElement(e,t);{const r=null!==t?function rF(n){const e=n.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(t):null;return null===r?n.createElement(e):n.createElementNS(r,e)}}function ZC(n,e){const t=n[9],r=t.indexOf(e),i=e[3];512&e[2]&&(e[2]&=-513,Np(i,-1)),t.splice(r,1)}function yg(n,e){if(n.length<=10)return;const t=10+e,r=n[t];if(r){const i=r[17];null!==i&&i!==n&&ZC(i,r),e>0&&(n[t-1][4]=r[4]);const o=Xc(n,10+e);!function dk(n,e){Cu(n,e,e[11],2,null,null),e[0]=null,e[6]=null}(r[1],r);const s=o[19];null!==s&&s.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-65}return r}function eD(n,e){if(!(128&e[2])){const t=e[11];tt(t)&&t.destroyNode&&Cu(n,e,t,3,null,null),function pk(n){let e=n[13];if(!e)return vg(n[1],n);for(;e;){let t=null;if(yn(e))t=e[13];else{const r=e[10];r&&(t=r)}if(!t){for(;e&&!e[4]&&e!==n;)yn(e)&&vg(e[1],e),e=e[3];null===e&&(e=n),yn(e)&&vg(e[1],e),t=e&&e[4]}e=t}}(e)}}function vg(n,e){if(!(128&e[2])){e[2]&=-65,e[2]|=128,function yk(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const i=e[t[r]];if(!(i instanceof ru)){const o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],u=o[s+1];try{u.call(a)}finally{}}else try{o.call(i)}finally{}}}}(n,e),function _k(n,e){const t=n.cleanup,r=e[7];let i=-1;if(null!==t)for(let o=0;o<t.length-1;o+=2)if("string"==typeof t[o]){const s=t[o+1],a="function"==typeof s?s(e):ht(e[s]),u=r[i=t[o+2]],l=t[o+3];"boolean"==typeof l?a.removeEventListener(t[o],u,l):l>=0?r[i=l]():r[i=-l].unsubscribe(),o+=2}else{const s=r[i=t[o+1]];t[o].call(s)}if(null!==r){for(let o=i+1;o<r.length;o++)r[o]();e[7]=null}}(n,e),1===e[1].type&&tt(e[11])&&e[11].destroy();const t=e[17];if(null!==t&&Zn(e[3])){t!==e[3]&&ZC(t,e);const r=e[19];null!==r&&r.detachView(n)}!function JO(n){ag.delete(n[20])}(e)}}function tD(n,e,t){return function nD(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[0];if(2&r.flags){const i=n.data[r.directiveStart].encapsulation;if(i===mr.None||i===mr.Emulated)return null}return $n(r,t)}(n,e.parent,t)}function so(n,e,t,r,i){tt(n)?n.insertBefore(e,t,r,i):(oD(e)?e.content:e).insertBefore(t,r,i)}function rD(n,e,t){tt(n)?n.appendChild(e,t):(oD(e)?e.content:e).appendChild(t)}function iD(n,e,t,r,i){null!==r?so(n,e,t,r,i):rD(n,e,t)}function oD(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}function ld(n,e){return tt(n)?n.parentNode(e):e.parentNode}let uD=function aD(n,e,t){return 40&n.type?$n(n,t):null};function cd(n,e,t,r){const i=tD(n,r,e),o=e[11],a=function sD(n,e,t){return uD(n,e,t)}(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(t))for(let u=0;u<t.length;u++)iD(o,i,t[u],a,!1);else iD(o,i,t,a,!1)}function dd(n,e){if(null!==e){const t=e.type;if(3&t)return $n(e,n);if(4&t)return wg(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return dd(n,r);{const i=n[e.index];return Zn(i)?wg(-1,i):ht(i)}}if(32&t)return fg(e,n)()||ht(n[e.index]);{const r=cD(n,e);return null!==r?Array.isArray(r)?r[0]:dd(wu(n[16]),r):dd(n,e.next)}}return null}function cD(n,e){return null!==e?n[16][6].projection[e.projection]:null}function wg(n,e){const t=10+n+1;if(t<e.length){const r=e[t],i=r[1].firstChild;if(null!==i)return dd(r,i)}return e[7]}function Cg(n,e,t,r,i,o,s){for(;null!=t;){const a=r[t.index],u=t.type;if(s&&0===e&&(a&&Wt(ht(a),r),t.flags|=4),64!=(64&t.flags))if(8&u)Cg(n,e,t.child,r,i,o,!1),Es(e,n,i,a,o);else if(32&u){const l=fg(t,r);let c;for(;c=l();)Es(e,n,i,c,o);Es(e,n,i,a,o)}else 16&u?hD(n,e,r,t,i,o):Es(e,n,i,a,o);t=s?t.projectionNext:t.next}}function Cu(n,e,t,r,i,o){Cg(t,r,n.firstChild,e,i,o,!1)}function hD(n,e,t,r,i,o){const s=t[16],u=s[6].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++)Es(e,n,i,u[l],o);else Cg(n,e,u,s[3],i,o,!0)}function fD(n,e,t){tt(n)?n.setAttribute(e,"style",t):e.style.cssText=t}function Dg(n,e,t){tt(n)?""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t):e.className=t}function pD(n,e,t){let r=n.length;for(;;){const i=n.indexOf(e,t);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}const gD="ng-template";function Ik(n,e,t){let r=0;for(;r<n.length;){let i=n[r++];if(t&&"class"===i){if(i=n[r],-1!==pD(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<n.length&&"string"==typeof(i=n[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function mD(n){return 4===n.type&&n.value!==gD}function Tk(n,e,t){return e===(4!==n.type||t?n.value:gD)}function bk(n,e,t){let r=4;const i=n.attrs||[],o=function Mk(n){for(let e=0;e<n.length;e++)if(rC(n[e]))return e;return n.length}(i);let s=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!Tk(n,u,t)||""===u&&1===e.length){if(tr(r))return!1;s=!0}}else{const l=8&r?u:e[++a];if(8&r&&null!==n.attrs){if(!Ik(n.attrs,l,t)){if(tr(r))return!1;s=!0}continue}const d=Ak(8&r?"class":u,i,mD(n),t);if(-1===d){if(tr(r))return!1;s=!0;continue}if(""!==l){let h;h=d>o?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==pD(f,l,0)||2&r&&l!==h){if(tr(r))return!1;s=!0}}}}else{if(!s&&!tr(r)&&!tr(u))return!1;if(s&&tr(u))continue;s=!1,r=u|1&r}}return tr(r)||s}function tr(n){return 0==(1&n)}function Ak(n,e,t,r){if(null===e)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){const s=e[i];if(s===n)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function Rk(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function _D(n,e,t=!1){for(let r=0;r<e.length;r++)if(bk(n,e[r],t))return!0;return!1}function yD(n,e){return n?":not("+e.trim()+")":e}function Pk(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if("string"==typeof s)if(2&r){const a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!tr(s)&&(e+=yD(o,i),i=""),r=s,o=o||!tr(r);t++}return""!==i&&(e+=yD(o,i)),e}const re={};function D(n){vD(Ee(),A(),ln()+n,!1)}function vD(n,e,t,r){if(!r)if(3==(3&e[2])){const o=n.preOrderCheckHooks;null!==o&&Gc(e,o,t)}else{const o=n.preOrderHooks;null!==o&&qc(e,o,0,t)}mi(t)}const DD=new Q("ENVIRONMENT_INITIALIZER"),ID=new Q("INJECTOR_DEF_TYPES");function jk(...n){return{\u0275providers:TD(0,n)}}function TD(n,...e){const t=[],r=new Set;let i;return Hr(e,o=>{const s=o;Ig(s,t,[],r)&&(i||(i=[]),i.push(s))}),void 0!==i&&bD(i,t),t}function bD(n,e){for(let t=0;t<n.length;t++){const{providers:i}=n[t];Hr(i,o=>{e.push(o)})}}function Ig(n,e,t,r){if(!(n=J(n)))return!1;let i=null,o=Rw(n);const s=!o&&Ve(n);if(o||s){if(s&&!s.standalone)return!1;i=n}else{const u=n.ngModule;if(o=Rw(u),!o)return!1;i=u}const a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){const u="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const l of u)Ig(l,e,t,r)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let l;r.add(i);try{Hr(o.imports,c=>{Ig(c,e,t,r)&&(l||(l=[]),l.push(c))})}finally{}void 0!==l&&bD(l,e)}if(!a){const l=oo(i)||(()=>new i);e.push({provide:i,useFactory:l,deps:Ie},{provide:ID,useValue:i,multi:!0},{provide:DD,useValue:()=>k(i),multi:!0})}const u=o.providers;null==u||a||Hr(u,c=>{e.push(c)})}}return i!==n&&void 0!==n.providers}const Uk=Pe({provide:String,useValue:Pe});function Tg(n){return null!==n&&"object"==typeof n&&Uk in n}function ao(n){return"function"==typeof n}const bg=new Q("INJECTOR",-1);class MD{get(e,t=du){if(t===du){const r=new Error(`NullInjectorError: No provider for ${Ne(e)}!`);throw r.name="NullInjectorError",r}return t}}const Ag=new Q("Set Injector scope."),hd={},Hk={};let Sg;function Mg(){return void 0===Sg&&(Sg=new MD),Sg}class uo{}class RD extends uo{constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,xg(e,s=>this.processProvider(s)),this.records.set(bg,ws(void 0,this)),i.has("environment")&&this.records.set(uo,ws(void 0,this));const o=this.records.get(Ag);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(ID.multi,Ie,K.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();for(const e of this._onDestroyHooks)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(e){this._onDestroyHooks.push(e)}get(e,t=du,r=K.Default){this.assertNotDestroyed();const i=td(this),o=gr(void 0);try{if(!(r&K.SkipSelf)){let a=this.records.get(e);if(void 0===a){const u=function Kk(n){return"function"==typeof n||"object"==typeof n&&n instanceof Q}(e)&&_p(e);a=u&&this.injectableDefInScope(u)?ws(Rg(e),hd):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&K.Self?Mg():this.parent).get(e,t=r&K.Optional&&t===du?null:t)}catch(s){if("NullInjectorError"===s.name){if((s[ed]=s[ed]||[]).unshift(Ne(e)),i)throw s;return function rO(n,e,t,r){const i=n[ed];throw e[EC]&&i.unshift(e[EC]),n.message=function iO(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let i=Ne(e);if(Array.isArray(e))i=e.map(Ne).join(" -> ");else if("object"==typeof e){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):Ne(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(XF,"\n  ")}`}("\n"+n.message,i,t,r),n.ngTokenPath=i,n[ed]=null,n}(s,e,"R3InjectorError",this.source)}throw s}finally{gr(o),td(i)}}resolveInjectorInitializers(){const e=td(this),t=gr(void 0);try{const r=this.get(DD.multi,Ie,K.Self);for(const i of r)i()}finally{td(e),gr(t)}}toString(){const e=[],t=this.records;for(const r of t.keys())e.push(Ne(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ae(205,!1)}processProvider(e){let t=ao(e=J(e))?e:J(e&&e.provide);const r=function qk(n){return Tg(n)?ws(void 0,n.useValue):ws(xD(n),hd)}(e);if(ao(e)||!0!==e.multi)this.records.get(t);else{let i=this.records.get(t);i||(i=ws(void 0,hd,!0),i.factory=()=>Jp(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){return t.value===hd&&(t.value=Hk,t.value=t.factory()),"object"==typeof t.value&&t.value&&function Wk(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=J(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}}function Rg(n){const e=_p(n),t=null!==e?e.factory:oo(n);if(null!==t)return t;if(n instanceof Q)throw new ae(204,!1);if(n instanceof Function)return function Gk(n){const e=n.length;if(e>0)throw function cu(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}(e,"?"),new ae(204,!1);const t=function kV(n){const e=n&&(n[Pc]||n[xw]);if(e){const t=function LV(n){if(n.hasOwnProperty("name"))return n.name;const e=(""+n).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${t}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${t}" class.`),e}return null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new ae(204,!1)}function xD(n,e,t){let r;if(ao(n)){const i=J(n);return oo(i)||Rg(i)}if(Tg(n))r=()=>J(n.useValue);else if(function SD(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...Jp(n.deps||[]));else if(function AD(n){return!(!n||!n.useExisting)}(n))r=()=>k(J(n.useExisting));else{const i=J(n&&(n.useClass||n.provide));if(!function zk(n){return!!n.deps}(n))return oo(i)||Rg(i);r=()=>new i(...Jp(n.deps))}return r}function ws(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function Qk(n){return!!n.\u0275providers}function xg(n,e){for(const t of n)Array.isArray(t)?xg(t,e):Qk(t)?xg(t.\u0275providers,e):e(t)}function PD(n,e=null,t=null,r){const i=ND(n,e,t,r);return i.resolveInjectorInitializers(),i}function ND(n,e=null,t=null,r,i=new Set){const o=[t||Ie,jk(n)];return r=r||("object"==typeof n?void 0:Ne(n)),new RD(o,e||Mg(),r||null,i)}let Kt=(()=>{class n{static create(t,r){var i;if(Array.isArray(t))return PD({name:""},r,t,"");{const o=null!==(i=t.name)&&void 0!==i?i:"";return PD({name:o},t.parent,t.providers,o)}}}return n.THROW_IF_NOT_FOUND=du,n.NULL=new MD,n.\u0275prov=z({token:n,providedIn:"any",factory:()=>k(bg)}),n.__NG_ELEMENT_ID__=-1,n})();function T(n,e=K.Default){const t=A();return null===t?k(n,e):cC(Et(),t,J(n),e)}function Og(){throw new Error("invalid")}function pd(n,e){return n<<17|e<<2}function nr(n){return n>>17&32767}function jg(n){return 2|n}function zr(n){return(131068&n)>>2}function Ug(n,e){return-131069&n|e<<2}function $g(n){return 1|n}function ZD(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const i=t[r],o=t[r+1];if(-1!==o){const s=n.data[o];Lp(i),s.contentQueries(2,e[o],o)}}}function Du(n,e,t,r,i,o,s,a,u,l,c){const d=e.blueprint.slice();return d[0]=i,d[2]=76|r,(null!==c||n&&1024&n[2])&&(d[2]|=1024),Gw(d),d[3]=d[15]=n,d[8]=t,d[10]=s||n&&n[10],d[11]=a||n&&n[11],d[12]=u||n&&n[12]||null,d[9]=l||n&&n[9]||null,d[6]=o,d[20]=function QO(){return KO++}(),d[21]=c,d[16]=2==e.type?n[16]:d,d}function Ds(n,e,t,r,i){let o=n.data[e];if(null===o)o=function Jg(n,e,t,r,i){const o=Ww(),s=Vp(),u=n.data[e]=function AL(n,e,t,r,i,o){return{type:t,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,t,e,r,i);return null===n.firstChild&&(n.firstChild=u),null!==o&&(s?null==o.child&&null!==u.parent&&(o.child=u):null===o.next&&(o.next=u)),u}(n,e,t,r,i),function gF(){return ee.lFrame.inI18n}()&&(o.flags|=64);else if(64&o.type){o.type=t,o.value=r,o.attrs=i;const s=function nu(){const n=ee.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return _r(o,!0),o}function Is(n,e,t,r){if(0===t)return-1;const i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function Iu(n,e,t){Uc(e);try{const r=n.viewQuery;null!==r&&sm(1,r,t);const i=n.template;null!==i&&eI(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&ZD(n,e),n.staticViewQueries&&sm(2,n.viewQuery,t);const o=n.components;null!==o&&function IL(n,e){for(let t=0;t<e.length;t++)qL(n,e[t])}(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[2]&=-5,$c()}}function Ts(n,e,t,r){const i=e[2];if(128!=(128&i)){Uc(e);try{Gw(e),function Kw(n){return ee.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&eI(n,e,t,2,r);const s=3==(3&i);if(s){const l=n.preOrderCheckHooks;null!==l&&Gc(e,l,null)}else{const l=n.preOrderHooks;null!==l&&qc(e,l,0,null),Bp(e,0)}if(function HL(n){for(let e=pg(n);null!==e;e=gg(e)){if(!e[2])continue;const t=e[9];for(let r=0;r<t.length;r++){const i=t[r],o=i[3];0==(512&i[2])&&Np(o,1),i[2]|=512}}}(e),function $L(n){for(let e=pg(n);null!==e;e=gg(e))for(let t=10;t<e.length;t++){const r=e[t],i=r[1];Pp(r)&&Ts(i,r,i.template,r[8])}}(e),null!==n.contentQueries&&ZD(n,e),s){const l=n.contentCheckHooks;null!==l&&Gc(e,l)}else{const l=n.contentHooks;null!==l&&qc(e,l,1),Bp(e,1)}!function CL(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let r=0;r<t.length;r++){const i=t[r];if(i<0)mi(~i);else{const o=i,s=t[++r],a=t[++r];mF(s,o),a(2,e[o])}}}finally{mi(-1)}}(n,e);const a=n.components;null!==a&&function DL(n,e){for(let t=0;t<e.length;t++)GL(n,e[t])}(e,a);const u=n.viewQuery;if(null!==u&&sm(2,u,r),s){const l=n.viewCheckHooks;null!==l&&Gc(e,l)}else{const l=n.viewHooks;null!==l&&qc(e,l,2),Bp(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[2]&=-41,512&e[2]&&(e[2]&=-513,Np(e[3],-1))}finally{$c()}}}function TL(n,e,t,r){const i=e[10],s=Hw(e);try{!s&&i.begin&&i.begin(),s&&Iu(n,e,r),Ts(n,e,t,r)}finally{!s&&i.end&&i.end()}}function eI(n,e,t,r,i){const o=ln(),s=2&r;try{mi(-1),s&&e.length>22&&vD(n,e,22,!1),t(r,i)}finally{mi(o)}}function Xg(n,e,t){!zw()||(function VL(n,e,t,r){const i=t.directiveStart,o=t.directiveEnd;n.firstCreatePass||ou(t,e),Wt(r,e);const s=t.initialInputs;for(let a=i;a<o;a++){const u=n.data[a],l=er(u);l&&BL(e,t,u);const c=su(e,n,a,t);Wt(c,e),null!==s&&jL(0,a-i,c,u,0,s),l&&(An(t.index,e)[8]=c)}}(n,e,t,$n(t,e)),128==(128&t.flags)&&function FL(n,e,t){const r=t.directiveStart,i=t.directiveEnd,o=t.index,s=function _F(){return ee.lFrame.currentDirectiveIndex}();try{mi(o);for(let a=r;a<i;a++){const u=n.data[a],l=e[a];Op(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&uI(u,l)}}finally{mi(-1),Op(s)}}(n,e,t))}function Zg(n,e,t=$n){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?t(e,n):n[s];n[i++]=a}}}function nI(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=_d(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):e}function _d(n,e,t,r,i,o,s,a,u,l){const c=22+r,d=c+i,h=function bL(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:re);return t}(c,d),f="function"==typeof l?l():l;return h[1]={type:n,blueprint:h,template:t,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,c),bindingStartIndex:c,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:f,incompleteFirstPass:!1}}function oI(n,e,t,r){const i=pI(e);null===t?i.push(r):(i.push(t),n.firstCreatePass&&gI(n).push(r,i.length-1))}function sI(n,e,t){for(let r in n)if(n.hasOwnProperty(r)){const i=n[r];(t=null===t?{}:t).hasOwnProperty(r)?t[r].push(e,i):t[r]=[e,i]}return t}function xn(n,e,t,r,i,o,s,a){const u=$n(e,t);let c,l=e.inputs;!a&&null!=l&&(c=l[r])?(yI(n,t,c,r,i),kc(e)&&function RL(n,e){const t=An(e,n);16&t[2]||(t[2]|=32)}(t,e.index)):3&e.type&&(r=function ML(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=s?s(i,e.value||"",r):i,tt(o)?o.setProperty(u,r,i):Up(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function em(n,e,t,r){let i=!1;if(zw()){const o=function OL(n,e,t){const r=n.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];_D(t,s.selectors,!1)&&(i||(i=[]),Yc(ou(t,e),n,s.type),er(s)?(lI(n,t),i.unshift(s)):i.push(s))}return i}(n,e,t),s=null===r?null:{"":-1};if(null!==o){i=!0,cI(t,n.data.length,o.length);for(let c=0;c<o.length;c++){const d=o[c];d.providersResolver&&d.providersResolver(d)}let a=!1,u=!1,l=Is(n,e,o.length,null);for(let c=0;c<o.length;c++){const d=o[c];t.mergedAttrs=Wc(t.mergedAttrs,d.hostAttrs),dI(n,t,e,l,d),LL(l,d,s),null!==d.contentQueries&&(t.flags|=8),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(t.flags|=128);const h=d.type.prototype;!a&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t.index),a=!0),!u&&(h.ngOnChanges||h.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t.index),u=!0),l++}!function SL(n,e){const r=e.directiveEnd,i=n.data,o=e.attrs,s=[];let a=null,u=null;for(let l=e.directiveStart;l<r;l++){const c=i[l],d=c.inputs,h=null===o||mD(e)?null:UL(d,o);s.push(h),a=sI(d,l,a),u=sI(c.outputs,l,u)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=s,e.inputs=a,e.outputs=u}(n,t)}s&&function kL(n,e,t){if(e){const r=n.localNames=[];for(let i=0;i<e.length;i+=2){const o=t[e[i+1]];if(null==o)throw new ae(-301,!1);r.push(e[i],o)}}}(t,r,s)}return t.mergedAttrs=Wc(t.mergedAttrs,t.attrs),i}function aI(n,e,t,r,i,o){const s=o.hostBindings;if(s){let a=n.hostBindingOpCodes;null===a&&(a=n.hostBindingOpCodes=[]);const u=~e.index;(function NL(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(a)!=u&&a.push(u),a.push(r,i,s)}}function uI(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function lI(n,e){e.flags|=2,(n.components||(n.components=[])).push(e.index)}function LL(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;er(e)&&(t[""]=n)}}function cI(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function dI(n,e,t,r,i){n.data[r]=i;const o=i.factory||(i.factory=oo(i.type)),s=new ru(o,er(i),T);n.blueprint[r]=s,t[r]=s,aI(n,e,0,r,Is(n,t,i.hostVars,re),i)}function BL(n,e,t){const r=$n(e,n),i=nI(t),o=n[10],s=yd(n,Du(n,i,null,t.onPush?32:16,r,e,o,o.createRenderer(r,t),null,null,null));n[e.index]=s}function Er(n,e,t,r,i,o){const s=$n(n,e);!function tm(n,e,t,r,i,o,s){if(null==o)tt(n)?n.removeAttribute(e,i,t):e.removeAttribute(i);else{const a=null==s?ne(o):s(o,r||"",i);tt(n)?n.setAttribute(e,i,a,t):t?e.setAttributeNS(t,i,a):e.setAttribute(i,a)}}(e[11],s,o,n.value,t,r,i)}function jL(n,e,t,r,i,o){const s=o[e];if(null!==s){const a=r.setInput;for(let u=0;u<s.length;){const l=s[u++],c=s[u++],d=s[u++];null!==a?r.setInput(t,d,l,c):t[c]=d}}}function UL(n,e){let t=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;n.hasOwnProperty(i)&&(null===t&&(t=[]),t.push(i,n[i],e[r+1])),r+=2}else r+=2;else r+=4}return t}function hI(n,e,t,r){return new Array(n,!0,!1,e,null,0,r,t,null,null)}function GL(n,e){const t=An(e,n);if(Pp(t)){const r=t[1];48&t[2]?Ts(r,t,r.template,t[8]):t[5]>0&&nm(t)}}function nm(n){for(let r=pg(n);null!==r;r=gg(r))for(let i=10;i<r.length;i++){const o=r[i];if(512&o[2]){const s=o[1];Ts(s,o,s.template,o[8])}else o[5]>0&&nm(o)}const t=n[1].components;if(null!==t)for(let r=0;r<t.length;r++){const i=An(t[r],n);Pp(i)&&i[5]>0&&nm(i)}}function qL(n,e){const t=An(e,n),r=t[1];(function zL(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])})(r,t),Iu(r,t,t[8])}function yd(n,e){return n[13]?n[14][4]=e:n[13]=e,n[14]=e,e}function rm(n){for(;n;){n[2]|=32;const e=wu(n);if(WV(n)&&!e)return n;n=e}return null}function fI(n){!function im(n){for(let e=0;e<n.components.length;e++){const t=n.components[e],r=cg(t);if(null!==r){const i=r[1];TL(i,r,i.template,t)}}}(n[8])}function sm(n,e,t){Lp(0),e(n,t)}const KL=(()=>Promise.resolve(null))();function pI(n){return n[7]||(n[7]=[])}function gI(n){return n.cleanup||(n.cleanup=[])}function _I(n,e){const t=n[9],r=t?t.get(ys,null):null;r&&r.handleError(e)}function yI(n,e,t,r,i){for(let o=0;o<t.length;){const s=t[o++],a=t[o++],u=e[s],l=n.data[s];null!==l.setInput?l.setInput(u,i,r,a):u[a]=i}}function Wr(n,e,t){const r=Bc(e,n);!function XC(n,e,t){tt(n)?n.setValue(e,t):e.textContent=t}(n[11],r,t)}function vd(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?o=a:1==o?i=gp(i,a):2==o&&(r=gp(r,a+": "+e[++s]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function o2(){const n=Et();Hc(A()[1],n)}function Ae(n){let e=function RI(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let i;if(er(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new ae(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);const s=n;s.inputs=um(n.inputs),s.declaredInputs=um(n.declaredInputs),s.outputs=um(n.outputs);const a=i.hostBindings;a&&l2(n,a);const u=i.viewQuery,l=i.contentQueries;if(u&&a2(n,u),l&&u2(n,l),pp(n.inputs,i.inputs),pp(n.declaredInputs,i.declaredInputs),pp(n.outputs,i.outputs),er(i)&&i.data.animation){const c=n.data;c.animation=(c.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(n),a===Ae&&(t=!1)}}e=Object.getPrototypeOf(e)}!function s2(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Wc(i.hostAttrs,t=Wc(t,i.hostAttrs))}}(r)}function um(n){return n===ts?{}:n===Ie?[]:n}function a2(n,e){const t=n.viewQuery;n.viewQuery=t?(r,i)=>{e(r,i),t(r,i)}:e}function u2(n,e){const t=n.contentQueries;n.contentQueries=t?(r,i,o)=>{e(r,i,o),t(r,i,o)}:e}function l2(n,e){const t=n.hostBindings;n.hostBindings=t?(r,i)=>{e(r,i),t(r,i)}:e}let Ed=null;function lo(){if(!Ed){const n=Re.Symbol;if(n&&n.iterator)Ed=n.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const r=e[t];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Ed=r)}}}return Ed}function Tu(n){return!!lm(n)&&(Array.isArray(n)||!(n instanceof Map)&&lo()in n)}function lm(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function wr(n,e,t){return n[e]=t}function Qt(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function co(n,e,t,r){const i=Qt(n,e,t);return Qt(n,e+1,r)||i}function Cr(n,e,t,r){const i=A();return Qt(i,as(),e)&&(Ee(),Er(nt(),i,n,e,t,r)),Cr}function As(n,e,t,r){return Qt(n,as(),t)?e+ne(t)+r:re}function Ss(n,e,t,r,i,o){const a=co(n,function Ur(){return ee.lFrame.bindingIndex}(),t,i);return $r(2),a?e+ne(t)+r+ne(i)+o:re}function we(n,e,t,r,i,o,s,a){const u=A(),l=Ee(),c=n+22,d=l.firstCreatePass?function m2(n,e,t,r,i,o,s,a,u){const l=e.consts,c=Ds(e,n,4,s||null,gi(l,a));em(e,t,c,gi(l,u)),Hc(e,c);const d=c.tViews=_d(2,c,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l);return null!==e.queries&&(e.queries.template(e,c),d.queries=e.queries.embeddedTView(c)),c}(c,l,u,e,t,r,i,o,s):l.data[c];_r(d,!1);const h=u[11].createComment("");cd(l,u,h,d),Wt(h,u),yd(u,u[c]=hI(h,u,h,d)),Lc(d)&&Xg(l,u,d),null!=s&&Zg(u,d,a)}function $e(n){return ss(function pF(){return ee.lFrame.contextLView}(),22+n)}function V(n,e,t){const r=A();return Qt(r,as(),e)&&xn(Ee(),nt(),r,n,e,r[11],t,!1),V}function cm(n,e,t,r,i){const s=i?"class":"style";yI(n,t,e.inputs[s],s,r)}function E(n,e,t,r){const i=A(),o=Ee(),s=22+n,a=i[11],u=i[s]=_g(a,e,function TF(){return ee.lFrame.currentNamespace}()),l=o.firstCreatePass?function y2(n,e,t,r,i,o,s){const a=e.consts,l=Ds(e,n,2,i,gi(a,o));return em(e,t,l,gi(a,s)),null!==l.attrs&&vd(l,l.attrs,!1),null!==l.mergedAttrs&&vd(l,l.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,l),l}(s,o,i,0,e,t,r):o.data[s];_r(l,!0);const c=l.mergedAttrs;null!==c&&zc(a,u,c);const d=l.classes;null!==d&&Dg(a,u,d);const h=l.styles;return null!==h&&fD(a,u,h),64!=(64&l.flags)&&cd(o,i,u,l),0===function lF(){return ee.lFrame.elementDepthCount}()&&Wt(u,i),function cF(){ee.lFrame.elementDepthCount++}(),Lc(l)&&(Xg(o,i,l),function tI(n,e,t){if(Ip(e)){const i=e.directiveEnd;for(let o=e.directiveStart;o<i;o++){const s=n.data[o];s.contentQueries&&s.contentQueries(1,t[o],o)}}}(o,l,i)),null!==r&&Zg(i,l),E}function w(){let n=Et();Vp()?function Fp(){ee.lFrame.isParent=!1}():(n=n.parent,_r(n,!1));const e=n;!function dF(){ee.lFrame.elementDepthCount--}();const t=Ee();return t.firstCreatePass&&(Hc(t,n),Ip(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function RF(n){return 0!=(16&n.flags)}(e)&&cm(t,e,A(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function xF(n){return 0!=(32&n.flags)}(e)&&cm(t,e,A(),e.stylesWithoutHost,!1),w}function j(n,e,t,r){return E(n,e,t,r),w(),j}function Xe(){return A()}function Au(n){return!!n&&"function"==typeof n.then}const fm=function UI(n){return!!n&&"function"==typeof n.subscribe};function x(n,e,t,r){const i=A(),o=Ee(),s=Et();return function HI(n,e,t,r,i,o,s,a){const u=Lc(r),c=n.firstCreatePass&&gI(n),d=e[8],h=pI(e);let f=!0;if(3&r.type||a){const m=$n(r,e),_=a?a(m):m,I=h.length,y=a?b=>a(ht(b[r.index])):r.index;if(tt(t)){let b=null;if(!a&&u&&(b=function E2(n,e,t,r){const i=n.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===t&&i[o+1]===r){const a=e[7],u=i[o+2];return a.length>u?a[u]:null}"string"==typeof s&&(o+=2)}return null}(n,e,i,r.index)),null!==b)(b.__ngLastListenerFn__||b).__ngNextListenerFn__=o,b.__ngLastListenerFn__=o,f=!1;else{o=pm(r,e,d,o,!1);const U=t.listen(_,i,o);h.push(o,U),c&&c.push(i,y,I,I+1)}}else o=pm(r,e,d,o,!0),_.addEventListener(i,o,s),h.push(o),c&&c.push(i,y,I,s)}else o=pm(r,e,d,o,!1);const p=r.outputs;let g;if(f&&null!==p&&(g=p[i])){const m=g.length;if(m)for(let _=0;_<m;_+=2){const q=e[g[_]][g[_+1]].subscribe(o),Oe=h.length;h.push(o,q),c&&c.push(i,r.index,Oe,-(Oe+1))}}}(o,i,i[11],s,n,e,!!t,r),x}function GI(n,e,t,r){try{return!1!==t(r)}catch(i){return _I(n,i),!1}}function pm(n,e,t,r,i){return function o(s){if(s===Function)return r;rm(2&n.flags?An(n.index,e):e);let u=GI(e,0,r,s),l=o.__ngNextListenerFn__;for(;l;)u=GI(e,0,l,s)&&u,l=l.__ngNextListenerFn__;return i&&!1===u&&(s.preventDefault(),s.returnValue=!1),u}}function Fe(n=1){return function vF(n){return(ee.lFrame.contextLView=function EF(n,e){for(;n>0;)e=e[15],n--;return e}(n,ee.lFrame.contextLView))[8]}(n)}function Su(n,e,t){return gm(n,"",e,"",t),Su}function gm(n,e,t,r,i){const o=A(),s=As(o,e,t,r);return s!==re&&xn(Ee(),nt(),o,n,s,o[11],i,!1),gm}function ZI(n,e,t,r,i){const o=n[t+1],s=null===e;let a=r?nr(o):zr(o),u=!1;for(;0!==a&&(!1===u||s);){const c=n[a+1];b2(n[a],e)&&(u=!0,n[a+1]=r?$g(c):jg(c)),a=r?nr(c):zr(c)}u&&(n[t+1]=r?jg(o):$g(o))}function b2(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&gs(n,e)>=0}function Gn(n,e,t){return ir(n,e,t,!1),Gn}function Cd(n,e){return ir(n,e,null,!0),Cd}function ir(n,e,t,r){const i=A(),o=Ee(),s=$r(2);o.firstUpdatePass&&function aT(n,e,t,r){const i=n.data;if(null===i[t+1]){const o=i[ln()],s=function sT(n,e){return e>=n.expandoStartIndex}(n,t);(function dT(n,e){return 0!=(n.flags&(e?16:32))})(o,r)&&null===e&&!s&&(e=!1),e=function F2(n,e,t,r){const i=function kp(n){const e=ee.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(t=Mu(t=mm(null,n,e,t,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||n[s]!==i)if(t=mm(i,n,e,t,r),null===o){let u=function O2(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==zr(r))return n[nr(r)]}(n,e,r);void 0!==u&&Array.isArray(u)&&(u=mm(null,n,e,u[1],r),u=Mu(u,e.attrs,r),function k2(n,e,t,r){n[nr(t?e.classBindings:e.styleBindings)]=r}(n,e,r,u))}else o=function L2(n,e,t){let r;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=Mu(r,n[o].hostAttrs,t);return Mu(r,e.attrs,t)}(n,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),t}(i,o,e,r),function I2(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=nr(s),u=zr(s);n[r]=t;let c,l=!1;if(Array.isArray(t)){const d=t;c=d[1],(null===c||gs(d,c)>0)&&(l=!0)}else c=t;if(i)if(0!==u){const h=nr(n[a+1]);n[r+1]=pd(h,a),0!==h&&(n[h+1]=Ug(n[h+1],r)),n[a+1]=function hL(n,e){return 131071&n|e<<17}(n[a+1],r)}else n[r+1]=pd(a,0),0!==a&&(n[a+1]=Ug(n[a+1],r)),a=r;else n[r+1]=pd(u,0),0===a?a=r:n[u+1]=Ug(n[u+1],r),u=r;l&&(n[r+1]=jg(n[r+1])),ZI(n,c,r,!0),ZI(n,c,r,!1),function T2(n,e,t,r,i){const o=i?n.residualClasses:n.residualStyles;null!=o&&"string"==typeof e&&gs(o,e)>=0&&(t[r+1]=$g(t[r+1]))}(e,c,n,r,o),s=pd(a,u),o?e.classBindings=s:e.styleBindings=s}(i,o,e,t,s,r)}}(o,n,s,r),e!==re&&Qt(i,s,e)&&function lT(n,e,t,r,i,o,s,a){if(!(3&e.type))return;const u=n.data,l=u[a+1];Dd(function qD(n){return 1==(1&n)}(l)?cT(u,e,t,i,zr(l),s):void 0)||(Dd(o)||function GD(n){return 2==(2&n)}(l)&&(o=cT(u,null,t,i,a,s)),function Dk(n,e,t,r,i){const o=tt(n);if(e)i?o?n.addClass(t,r):t.classList.add(r):o?n.removeClass(t,r):t.classList.remove(r);else{let s=-1===r.indexOf("-")?void 0:Rn.DashCase;if(null==i)o?n.removeStyle(t,r,s):t.style.removeProperty(r);else{const a="string"==typeof i&&i.endsWith("!important");a&&(i=i.slice(0,-10),s|=Rn.Important),o?n.setStyle(t,r,i,s):t.style.setProperty(r,i,a?"important":"")}}}(r,s,Bc(ln(),t),i,o))}(o,o.data[ln()],i,i[11],n,i[s+1]=function U2(n,e){return null==n||("string"==typeof e?n+=e:"object"==typeof n&&(n=Ne(yi(n)))),n}(e,t),r,s)}function mm(n,e,t,r,i){let o=null;const s=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<s&&(o=e[a],r=Mu(r,o.hostAttrs,i),o!==n);)a++;return null!==n&&(t.directiveStylingLast=a),r}function Mu(n,e,t){const r=t?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Mn(n,s,!!t||e[++o]))}return void 0===n?null:n}function cT(n,e,t,r,i,o){const s=null===e;let a;for(;i>0;){const u=n[i],l=Array.isArray(u),c=l?u[1]:u,d=null===c;let h=t[i+1];h===re&&(h=d?Ie:void 0);let f=d?Kp(h,r):c===r?h:void 0;if(l&&!Dd(f)&&(f=Kp(u,r)),Dd(f)&&(a=f,s))return a;const p=n[i+1];i=s?nr(p):zr(p)}if(null!==e){let u=o?e.residualClasses:e.residualStyles;null!=u&&(a=Kp(u,r))}return a}function Dd(n){return void 0!==n}function R(n,e=""){const t=A(),r=Ee(),i=n+22,o=r.firstCreatePass?Ds(r,i,1,e,null):r.data[i],s=t[i]=function mg(n,e){return tt(n)?n.createText(e):n.createTextNode(e)}(t[11],e);cd(r,t,s,o),_r(o,!1)}function He(n){return dn("",n,""),He}function dn(n,e,t){const r=A(),i=As(r,n,e,t);return i!==re&&Wr(r,ln(),i),dn}function _m(n,e,t,r,i){const o=A(),s=Ss(o,n,e,t,r,i);return s!==re&&Wr(o,ln(),s),_m}const ho=void 0;var a3=["en",[["a","p"],["AM","PM"],ho],[["AM","PM"],ho,ho],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ho,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ho,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ho,"{1} 'at' {0}",ho],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function s3(n){const t=Math.floor(Math.abs(n)),r=n.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===r?1:5}];let Os={};function hn(n){const e=function u3(n){return n.toLowerCase().replace(/_/g,"-")}(n);let t=xT(e);if(t)return t;const r=e.split("-")[0];if(t=xT(r),t)return t;if("en"===r)return a3;throw new Error(`Missing locale data for the locale "${n}".`)}function xT(n){return n in Os||(Os[n]=Re.ng&&Re.ng.common&&Re.ng.common.locales&&Re.ng.common.locales[n]),Os[n]}var B=(()=>((B=B||{})[B.LocaleId=0]="LocaleId",B[B.DayPeriodsFormat=1]="DayPeriodsFormat",B[B.DayPeriodsStandalone=2]="DayPeriodsStandalone",B[B.DaysFormat=3]="DaysFormat",B[B.DaysStandalone=4]="DaysStandalone",B[B.MonthsFormat=5]="MonthsFormat",B[B.MonthsStandalone=6]="MonthsStandalone",B[B.Eras=7]="Eras",B[B.FirstDayOfWeek=8]="FirstDayOfWeek",B[B.WeekendRange=9]="WeekendRange",B[B.DateFormat=10]="DateFormat",B[B.TimeFormat=11]="TimeFormat",B[B.DateTimeFormat=12]="DateTimeFormat",B[B.NumberSymbols=13]="NumberSymbols",B[B.NumberFormats=14]="NumberFormats",B[B.CurrencyCode=15]="CurrencyCode",B[B.CurrencySymbol=16]="CurrencySymbol",B[B.CurrencyName=17]="CurrencyName",B[B.Currencies=18]="Currencies",B[B.Directionality=19]="Directionality",B[B.PluralCase=20]="PluralCase",B[B.ExtraData=21]="ExtraData",B))();const ks="en-US";let PT=ks;function Em(n,e,t,r,i){if(n=J(n),Array.isArray(n))for(let o=0;o<n.length;o++)Em(n[o],e,t,r,i);else{const o=Ee(),s=A();let a=ao(n)?n:J(n.provide),u=xD(n);const l=Et(),c=1048575&l.providerIndexes,d=l.directiveStart,h=l.providerIndexes>>20;if(ao(n)||!n.multi){const f=new ru(u,i,T),p=Cm(a,e,i?c:c+h,d);-1===p?(Yc(ou(l,s),o,a),wm(o,n,e.length),e.push(a),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),t.push(f),s.push(f)):(t[p]=f,s[p]=f)}else{const f=Cm(a,e,c+h,d),p=Cm(a,e,c,c+h),g=f>=0&&t[f],m=p>=0&&t[p];if(i&&!m||!i&&!g){Yc(ou(l,s),o,a);const _=function oB(n,e,t,r,i){const o=new ru(n,t,T);return o.multi=[],o.index=e,o.componentProviders=0,rb(o,i,r&&!t),o}(i?iB:rB,t.length,i,r,u);!i&&m&&(t[p].providerFactory=_),wm(o,n,e.length,0),e.push(a),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),t.push(_),s.push(_)}else wm(o,n,f>-1?f:p,rb(t[i?p:f],u,!i&&r));!i&&r&&m&&t[p].componentProviders++}}}function wm(n,e,t,r){const i=ao(e),o=function $k(n){return!!n.useClass}(e);if(i||o){const u=(o?J(e.useClass):e).prototype.ngOnDestroy;if(u){const l=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){const c=l.indexOf(t);-1===c?l.push(t,[r,u]):l[c+1].push(r,u)}else l.push(t,u)}}}function rb(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Cm(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function rB(n,e,t,r){return Dm(this.multi,[])}function iB(n,e,t,r){const i=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=su(t,t[1],this.providerFactory.index,r);o=a.slice(0,s),Dm(i,o);for(let u=s;u<a.length;u++)o.push(a[u])}else o=[],Dm(i,o);return o}function Dm(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function Ke(n,e=[]){return t=>{t.providersResolver=(r,i)=>function nB(n,e,t){const r=Ee();if(r.firstCreatePass){const i=er(n);Em(t,r.data,r.blueprint,i,!0),Em(e,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,e)}}class aB{resolveComponentFactory(e){throw function sB(n){const e=Error(`No component factory found for ${Ne(n)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=n,e}(e)}}let Vu=(()=>{class n{}return n.NULL=new aB,n})();class wi{}class ob{}class sb{}function lB(){return Bs(Et(),A())}function Bs(n,e){return new Pn($n(n,e))}let Pn=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=lB,n})();function cB(n){return n instanceof Pn?n.nativeElement:n}class ab{}let Kr=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function hB(){const n=A(),t=An(Et().index,n);return function dB(n){return n[11]}(yn(t)?t:n)}(),n})(),fB=(()=>{class n{}return n.\u0275prov=z({token:n,providedIn:"root",factory:()=>null}),n})();class Fu{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const pB=new Fu("14.0.3"),Im={};function Sd(n,e,t,r,i=!1){for(;null!==t;){const o=e[t.index];if(null!==o&&r.push(ht(o)),Zn(o))for(let a=10;a<o.length;a++){const u=o[a],l=u[1].firstChild;null!==l&&Sd(u[1],u,l,r)}const s=t.type;if(8&s)Sd(n,e,t.child,r);else if(32&s){const a=fg(t,e);let u;for(;u=a();)r.push(u)}else if(16&s){const a=cD(e,t);if(Array.isArray(a))r.push(...a);else{const u=wu(e[16]);Sd(u[1],u,a,r,!0)}}t=i?t.projectionNext:t.next}return r}class Ou{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,t=e[1];return Sd(t,e,t.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(Zn(e)){const t=e[8],r=t?t.indexOf(this):-1;r>-1&&(yg(e,r),Xc(t,r))}this._attachedToViewContainer=!1}eD(this._lView[1],this._lView)}onDestroy(e){oI(this._lView[1],this._lView,null,e)}markForCheck(){rm(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){!function om(n,e,t){const r=e[10];r.begin&&r.begin();try{Ts(n,e,n.template,t)}catch(i){throw _I(e,i),i}finally{r.end&&r.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ae(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function fk(n,e){Cu(n,e,e[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new ae(902,!1);this._appRef=e}}class gB extends Ou{constructor(e){super(e),this._view=e}detectChanges(){fI(this._view)}checkNoChanges(){}get context(){return null}}class Tm extends Vu{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=Ve(e);return new bm(t,this.ngModule)}}function ub(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class _B{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){const i=this.injector.get(e,Im,r);return i!==Im||t===Im?i:this.parentInjector.get(e,t,r)}}class bm extends sb{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function Nk(n){return n.map(Pk).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return ub(this.componentDef.inputs)}get outputs(){return ub(this.componentDef.outputs)}create(e,t,r,i){let o=(i=i||this.ngModule)instanceof uo?i:null==i?void 0:i.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new _B(e,o):e,a=s.get(ab,$w),u=s.get(fB,null),l=a.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",d=r?function iI(n,e,t){if(tt(n))return n.selectRootElement(e,t===mr.ShadowDom);let r="string"==typeof e?n.querySelector(e):e;return r.textContent="",r}(l,r,this.componentDef.encapsulation):_g(a.createRenderer(null,this.componentDef),c,function mB(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(c)),h=this.componentDef.onPush?288:272,f=function MI(n,e){return{components:[],scheduler:n||ok,clean:KL,playerHandler:e||null,flags:0}}(),p=_d(0,null,null,1,0,null,null,null,null,null),g=Du(null,p,f,h,null,null,a,l,u,s,null);let m,_;Uc(g);try{const I=function AI(n,e,t,r,i,o){const s=t[1];t[22]=n;const u=Ds(s,22,2,"#host",null),l=u.mergedAttrs=e.hostAttrs;null!==l&&(vd(u,l,!0),null!==n&&(zc(i,n,l),null!==u.classes&&Dg(i,n,u.classes),null!==u.styles&&fD(i,n,u.styles)));const c=r.createRenderer(n,e),d=Du(t,nI(e),null,e.onPush?32:16,t[22],u,r,c,o||null,null,null);return s.firstCreatePass&&(Yc(ou(u,t),s,e.type),lI(s,u),cI(u,t.length,1)),yd(t,d),t[22]=d}(d,this.componentDef,g,a,l);if(d)if(r)zc(l,d,["ng-version",pB.full]);else{const{attrs:y,classes:b}=function Vk(n){const e=[],t=[];let r=1,i=2;for(;r<n.length;){let o=n[r];if("string"==typeof o)2===i?""!==o&&e.push(o,n[++r]):8===i&&t.push(o);else{if(!tr(i))break;i=o}r++}return{attrs:e,classes:t}}(this.componentDef.selectors[0]);y&&zc(l,d,y),b&&b.length>0&&Dg(l,d,b.join(" "))}if(_=xp(p,22),void 0!==t){const y=_.projection=[];for(let b=0;b<this.ngContentSelectors.length;b++){const U=t[b];y.push(null!=U?Array.from(U):null)}}m=function SI(n,e,t,r,i){const o=t[1],s=function PL(n,e,t){const r=Et();n.firstCreatePass&&(t.providersResolver&&t.providersResolver(t),dI(n,r,e,Is(n,e,1,null),t));const i=su(e,n,r.directiveStart,r);Wt(i,e);const o=$n(r,e);return o&&Wt(o,e),i}(o,t,e);if(r.components.push(s),n[8]=s,null!==i)for(const u of i)u(s,e);if(e.contentQueries){const u=Et();e.contentQueries(1,s,u.directiveStart)}const a=Et();return!o.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(mi(a.index),aI(t[1],a,0,a.directiveStart,a.directiveEnd,e),uI(e,s)),s}(I,this.componentDef,g,f,[o2]),Iu(p,g,null)}finally{$c()}return new vB(this.componentType,m,Bs(_,g),g,_)}}class vB extends class uB{}{constructor(e,t,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.instance=t,this.hostView=this.changeDetectorRef=new gB(i),this.componentType=e}get injector(){return new cs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}class lb extends wi{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Tm(this);const r=Tn(e);this._bootstrapComponents=qr(r.bootstrap),this._r3Injector=ND(e,t,[{provide:wi,useValue:this},{provide:Vu,useValue:this.componentFactoryResolver}],Ne(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this.get(e)}get(e,t=Kt.THROW_IF_NOT_FOUND,r=K.Default){return e===Kt||e===wi||e===bg?this:this._r3Injector.get(e,t,r)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Am extends ob{constructor(e){super(),this.moduleType=e}create(e){return new lb(this.moduleType,e)}}class wB extends wi{constructor(e,t,r){super(),this.componentFactoryResolver=new Tm(this),this.instance=null;const i=new RD([...e,{provide:wi,useValue:this},{provide:Vu,useValue:this.componentFactoryResolver}],t||Mg(),r,new Set(["environment"]));this.injector=i,i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function Md(n,e=null,t=null){return new wB(n,e,t).injector}function Sm(n,e,t){const r=un()+n,i=A();return i[r]===re?wr(i,r,t?e.call(t):e()):function bu(n,e){return n[e]}(i,r)}function db(n,e,t,r,i,o,s){const a=e+t;return co(n,a,i,o)?wr(n,a+2,s?r.call(s,i,o):r(i,o)):function ku(n,e){const t=n[e];return t===re?void 0:t}(n,a+2)}function Mm(n){return e=>{setTimeout(n,void 0,e)}}const Ge=class BB extends fr{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){var i,o,s;let a=e,u=t||(()=>null),l=r;if(e&&"object"==typeof e){const d=e;a=null===(i=d.next)||void 0===i?void 0:i.bind(d),u=null===(o=d.error)||void 0===o?void 0:o.bind(d),l=null===(s=d.complete)||void 0===s?void 0:s.bind(d)}this.__isAsync&&(u=Mm(u),a&&(a=Mm(a)),l&&(l=Mm(l)));const c=super.subscribe({next:a,error:u,complete:l});return e instanceof kn&&e.add(c),c}};function jB(){return this._results[lo()]()}class Rm{constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=lo(),r=Rm.prototype;r[t]||(r[t]=jB)}get changes(){return this._changes||(this._changes=new Ge)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const r=this;r.dirty=!1;const i=Sn(e);(this._changesDetected=!function $F(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=e[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}(r._results,i,t))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Qr=(()=>{class n{}return n.__NG_ELEMENT_ID__=HB,n})();const UB=Qr,$B=class extends UB{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}createEmbeddedView(e,t){const r=this._declarationTContainer.tViews,i=Du(this._declarationLView,r,e,16,null,r.declTNode,null,null,null,null,t||null);i[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[19];return null!==s&&(i[19]=s.createEmbeddedView(r)),Iu(r,i,e),new Ou(i)}};function HB(){return Rd(Et(),A())}function Rd(n,e){return 4&n.type?new $B(e,n,Bs(n,e)):null}let sr=(()=>{class n{}return n.__NG_ELEMENT_ID__=GB,n})();function GB(){return vb(Et(),A())}const qB=sr,_b=class extends qB{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Bs(this._hostTNode,this._hostLView)}get injector(){return new cs(this._hostTNode,this._hostLView)}get parentInjector(){const e=Qc(this._hostTNode,this._hostLView);if(oC(e)){const t=ls(e,this._hostLView),r=us(e);return new cs(t[1].data[r+8],t)}return new cs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=yb(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,t,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const s=e.createEmbeddedView(t||{},o);return this.insert(s,i),s}createComponent(e,t,r,i,o){const s=e&&!function lu(n){return"function"==typeof n}(e);let a;if(s)a=t;else{const d=t||{};a=d.index,r=d.injector,i=d.projectableNodes,o=d.environmentInjector||d.ngModuleRef}const u=s?e:new bm(Ve(e)),l=r||this.parentInjector;if(!o&&null==u.ngModule){const h=(s?l:this.parentInjector).get(uo,null);h&&(o=h)}const c=u.create(l,i,void 0,o);return this.insert(c.hostView,a),c}insert(e,t){const r=e._lView,i=r[1];if(function uF(n){return Zn(n[3])}(r)){const c=this.indexOf(e);if(-1!==c)this.detach(c);else{const d=r[3],h=new _b(d,d[6],d[3]);h.detach(h.indexOf(e))}}const o=this._adjustIndex(t),s=this._lContainer;!function gk(n,e,t,r){const i=10+r,o=t.length;r>0&&(t[i-1][4]=e),r<o-10?(e[4]=t[i],mC(t,10+r,e)):(t.push(e),e[4]=null),e[3]=t;const s=e[17];null!==s&&t!==s&&function mk(n,e){const t=n[9];e[16]!==e[3][3][16]&&(n[2]=!0),null===t?n[9]=[e]:t.push(e)}(s,e);const a=e[19];null!==a&&a.insertView(n),e[2]|=64}(i,r,s,o);const a=wg(o,s),u=r[11],l=ld(u,s[7]);return null!==l&&function hk(n,e,t,r,i,o){r[0]=i,r[6]=e,Cu(n,r,t,1,i,o)}(i,s[6],u,r,l,a),e.attachToViewContainerRef(),mC(xm(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=yb(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=yg(this._lContainer,t);r&&(Xc(xm(this._lContainer),t),eD(r[1],r))}detach(e){const t=this._adjustIndex(e,-1),r=yg(this._lContainer,t);return r&&null!=Xc(xm(this._lContainer),t)?new Ou(r):null}_adjustIndex(e,t=0){return null==e?this.length+t:e}};function yb(n){return n[8]}function xm(n){return n[8]||(n[8]=[])}function vb(n,e){let t;const r=e[n.index];if(Zn(r))t=r;else{let i;if(8&n.type)i=ht(r);else{const o=e[11];i=o.createComment("");const s=$n(n,e);so(o,ld(o,s),i,function Ek(n,e){return tt(n)?n.nextSibling(e):e.nextSibling}(o,s),!1)}e[n.index]=t=hI(r,e,i,n),yd(e,t)}return new _b(t,n,e)}class Pm{constructor(e){this.queryList=e,this.matches=null}clone(){return new Pm(this.queryList)}setDirty(){this.queryList.setDirty()}}class Nm{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const r=null!==e.contentQueries?e.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){const s=t.getByIndex(o);i.push(this.queries[s.indexInDeclarationView].clone())}return new Nm(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==Ib(e,t).matches&&this.queries[t].setDirty()}}class Eb{constructor(e,t,r=null){this.predicate=e,this.flags=t,this.read=r}}class Vm{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){const i=null!==t?t.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,null!==t?t.push(o):t=[o])}return null!==t?new Vm(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class Fm{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new Fm(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const o=r[i];this.matchTNodeWithReadOption(e,t,KB(t,o)),this.matchTNodeWithReadOption(e,t,Jc(t,e,o,!1,!1))}else r===Qr?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Jc(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===Pn||i===sr||i===Qr&&4&t.type)this.addMatch(t.index,-2);else{const o=Jc(t,e,i,!1,!1);null!==o&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function KB(n,e){const t=n.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1];return null}function YB(n,e,t,r){return-1===t?function QB(n,e){return 11&n.type?Bs(n,e):4&n.type?Rd(n,e):null}(e,n):-2===t?function JB(n,e,t){return t===Pn?Bs(e,n):t===Qr?Rd(e,n):t===sr?vb(e,n):void 0}(n,e,r):su(n,n[1],t,e)}function wb(n,e,t,r){const i=e[19].queries[r];if(null===i.matches){const o=n.data,s=t.matches,a=[];for(let u=0;u<s.length;u+=2){const l=s[u];a.push(l<0?null:YB(e,o[l],s[u+1],t.metadata.read))}i.matches=a}return i.matches}function Om(n,e,t,r){const i=n.queries.getByIndex(t),o=i.matches;if(null!==o){const s=wb(n,e,i,t);for(let a=0;a<o.length;a+=2){const u=o[a];if(u>0)r.push(s[a/2]);else{const l=o[a+1],c=e[-u];for(let d=10;d<c.length;d++){const h=c[d];h[17]===h[3]&&Om(h[1],h,l,r)}if(null!==c[9]){const d=c[9];for(let h=0;h<d.length;h++){const f=d[h];Om(f[1],f,l,r)}}}}}return r}function Bu(n){const e=A(),t=Ee(),r=Yw();Lp(r+1);const i=Ib(t,r);if(n.dirty&&Hw(e)===(2==(2&i.metadata.flags))){if(null===i.matches)n.reset([]);else{const o=i.crossesNgTemplate?Om(t,e,r,[]):wb(t,e,i,r);n.reset(o,cB),n.notifyOnChanges()}return!0}return!1}function km(n,e,t){const r=Ee();r.firstCreatePass&&(Db(r,new Eb(n,e,t),-1),2==(2&e)&&(r.staticViewQueries=!0)),Cb(r,A(),e)}function Lm(n,e,t,r){const i=Ee();if(i.firstCreatePass){const o=Et();Db(i,new Eb(e,t,r),o.index),function ZB(n,e){const t=n.contentQueries||(n.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(n.queries.length-1,e)}(i,n),2==(2&t)&&(i.staticContentQueries=!0)}Cb(i,A(),t)}function ju(){return function XB(n,e){return n[19].queries[e].queryList}(A(),Yw())}function Cb(n,e,t){const r=new Rm(4==(4&t));oI(n,e,r,r.destroy),null===e[19]&&(e[19]=new Nm),e[19].queries.push(new Pm(r))}function Db(n,e,t){null===n.queries&&(n.queries=new Vm),n.queries.track(new Fm(e,t))}function Ib(n,e){return n.queries.getByIndex(e)}function Pd(...n){}const Hm=new Q("Application Initializer");let Nd=(()=>{class n{constructor(t){this.appInits=t,this.resolve=Pd,this.reject=Pd,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const t=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const o=this.appInits[i]();if(Au(o))t.push(o);else if(fm(o)){const s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});t.push(s)}}Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)(k(Hm,8))},n.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const $u=new Q("AppId",{providedIn:"root",factory:function Hb(){return`${Gm()}${Gm()}${Gm()}`}});function Gm(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Gb=new Q("Platform Initializer"),qm=new Q("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),qb=new Q("appBootstrapListener");let Ej=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Yr=new Q("LocaleId",{providedIn:"root",factory:()=>function tO(n,e=K.Default){return k(n,e)}(Yr,K.Optional|K.SkipSelf)||function wj(){return"undefined"!=typeof $localize&&$localize.locale||ks}()});class Dj{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let zm=(()=>{class n{compileModuleSync(t){return new Am(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),o=qr(Tn(t).declarations).reduce((s,a)=>{const u=Ve(a);return u&&s.push(new bm(u)),s},[]);return new Dj(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Tj=(()=>Promise.resolve(0))();function Wm(n){"undefined"==typeof Zone?Tj.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class pt{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ge(!1),this.onMicrotaskEmpty=new Ge(!1),this.onStable=new Ge(!1),this.onError=new Ge(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function bj(){let n=Re.requestAnimationFrame,e=Re.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&e){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function Mj(n){const e=()=>{!function Sj(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Re,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,Qm(n),n.isCheckStableRunning=!0,Km(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),Qm(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,o,s,a)=>{try{return zb(n),t.invokeTask(i,o,s,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&e(),Wb(n)}},onInvoke:(t,r,i,o,s,a,u)=>{try{return zb(n),t.invoke(i,o,s,a,u)}finally{n.shouldCoalesceRunChangeDetection&&e(),Wb(n)}},onHasTask:(t,r,i,o)=>{t.hasTask(i,o),r===i&&("microTask"==o.change?(n._hasPendingMicrotasks=o.microTask,Qm(n),Km(n)):"macroTask"==o.change&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(t,r,i,o)=>(t.handleError(i,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!pt.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(pt.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,Aj,Pd,Pd);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const Aj={};function Km(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Qm(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function zb(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function Wb(n){n._nesting--,Km(n)}class Rj{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ge,this.onMicrotaskEmpty=new Ge,this.onStable=new Ge,this.onError=new Ge}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}}const Kb=new Q(""),Vd=new Q("");let Hu,Ym=(()=>{class n{constructor(t,r,i){this._ngZone=t,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Hu||(function xj(n){Hu=n}(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{pt.assertNotInAngularZone(),Wm(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Wm(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:o,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}}return n.\u0275fac=function(t){return new(t||n)(k(pt),k(Jm),k(Vd))},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})(),Jm=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){var i;return null!==(i=null==Hu?void 0:Hu.findTestabilityInTree(this,t,r))&&void 0!==i?i:null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),Tr=null;const Qb=new Q("AllowMultipleToken"),Yb=new Q("PlatformOnDestroy");class Jb{constructor(e,t){this.name=e,this.token=t}}function Zb(n,e,t=[]){const r=`Platform: ${e}`,i=new Q(r);return(o=[])=>{let s=Xm();if(!s||s.injector.get(Qb,!1)){const a=[...t,...o,{provide:i,useValue:!0}];n?n(a):function Vj(n){if(Tr&&!Tr.get(Qb,!1))throw new ae(400,!1);Tr=n;const e=n.get(tA);(function Xb(n){const e=n.get(Gb,null);e&&e.forEach(t=>t())})(n)}(function eA(n=[],e){return Kt.create({name:e,providers:[{provide:Ag,useValue:"platform"},{provide:Yb,useValue:()=>Tr=null},...n]})}(a,r))}return function Oj(n){const e=Xm();if(!e)throw new ae(401,!1);return e}()}}function Xm(){var n;return null!==(n=null==Tr?void 0:Tr.get(tA))&&void 0!==n?n:null}let tA=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const i=function kj(n,e){let t;return t="noop"===n?new Rj:("zone.js"===n?void 0:n)||new pt(e),t}(null==r?void 0:r.ngZone,function nA(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(r)),o=[{provide:pt,useValue:i}];return i.run(()=>{const s=Kt.create({providers:o,parent:this.injector,name:t.moduleType.name}),a=t.create(s),u=a.injector.get(ys,null);if(!u)throw new ae(402,!1);return i.runOutsideAngular(()=>{const l=i.onError.subscribe({next:c=>{u.handleError(c)}});a.onDestroy(()=>{Od(this._modules,a),l.unsubscribe()})}),function rA(n,e,t){try{const r=t();return Au(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(u,i,()=>{const l=a.injector.get(Nd);return l.runInitializers(),l.donePromise.then(()=>(function NT(n){Dn(n,"Expected localeId to be defined"),"string"==typeof n&&(PT=n.toLowerCase().replace(/_/g,"-"))}(a.injector.get(Yr,ks)||ks),this._moduleDoBootstrap(a),a))})})}bootstrapModule(t,r=[]){const i=iA({},r);return function Pj(n,e,t){const r=new Am(t);return Promise.resolve(r)}(0,0,t).then(o=>this.bootstrapModuleFactory(o,i))}_moduleDoBootstrap(t){const r=t.injector.get(Fd);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new ae(403,!1);t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ae(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const t=this._injector.get(Yb,null);null==t||t(),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)(k(Kt))},n.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function iA(n,e){return Array.isArray(e)?e.reduce(iA,n):Object.assign(Object.assign({},n),e)}let Fd=(()=>{class n{constructor(t,r,i,o){this._zone=t,this._injector=r,this._exceptionHandler=i,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new st(u=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{u.next(this._stable),u.complete()})}),a=new st(u=>{let l;this._zone.runOutsideAngular(()=>{l=this._zone.onStable.subscribe(()=>{pt.assertNotInAngularZone(),Wm(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,u.next(!0))})})});const c=this._zone.onUnstable.subscribe(()=>{pt.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{u.next(!1)}))});return()=>{l.unsubscribe(),c.unsubscribe()}});this.isStable=function MV(...n){const e=Qa(n),t=function CV(n,e){return"number"==typeof hp(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?pr(r[0]):es(t)(vt(r,e)):Lr}(s,a.pipe(function RV(n={}){const{connector:e=(()=>new fr),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return o=>{let s=null,a=null,u=null,l=0,c=!1,d=!1;const h=()=>{null==a||a.unsubscribe(),a=null},f=()=>{h(),s=u=null,c=d=!1},p=()=>{const g=s;f(),null==g||g.unsubscribe()};return Ft((g,m)=>{l++,!d&&!c&&h();const _=u=null!=u?u:e();m.add(()=>{l--,0===l&&!d&&!c&&(a=fp(p,i))}),_.subscribe(m),s||(s=new Sc({next:I=>_.next(I),error:I=>{d=!0,h(),a=fp(f,t,I),_.error(I)},complete:()=>{c=!0,h(),a=fp(f,r),_.complete()}}),vt(g).subscribe(s))})(o)}}()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,r){const i=t instanceof sb;if(!this._initStatus.done)throw!i&&function Us(n){const e=Ve(n)||sn(n)||an(n);return null!==e&&e.standalone}(t),new ae(405,false);let o;o=i?t:this._injector.get(Vu).resolveComponentFactory(t),this.componentTypes.push(o.componentType);const s=function Nj(n){return n.isBoundToModule}(o)?void 0:this._injector.get(wi),u=o.create(Kt.NULL,[],r||o.selector,s),l=u.location.nativeElement,c=u.injector.get(Kb,null);return null==c||c.registerApplication(l),u.onDestroy(()=>{this.detachView(u.hostView),Od(this.components,u),null==c||c.unregisterApplication(l)}),this._loadComponent(u),u}tick(){if(this._runningTick)throw new ae(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;Od(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(qb,[]).concat(this._bootstrapListeners).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Od(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new ae(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(t){return new(t||n)(k(pt),k(Kt),k(ys),k(Nd))},n.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Od(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}let kd=(()=>{class n{}return n.__NG_ELEMENT_ID__=jj,n})();function jj(n){return function Uj(n,e,t){if(kc(n)&&!t){const r=An(n.index,e);return new Ou(r,r)}return 47&n.type?new Ou(e[16],e):null}(Et(),A(),16==(16&n))}class dA{constructor(){}supports(e){return Tu(e)}create(e){return new Wj(e)}}const zj=(n,e)=>e;class Wj{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||zj}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){const s=!r||t&&t.currentIndex<fA(r,i,o)?t:r,a=fA(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,null==s.previousIndex)i++;else{o||(o=[]);const l=a-i,c=u-i;if(l!=c){for(let h=0;h<l;h++){const f=h<o.length?o[h]:o[h]=0,p=f+h;c<=p&&p<l&&(o[h]=f+1)}o[s.previousIndex]=c-l}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!Tu(e))throw new ae(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,o,s,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),null!==t&&Object.is(t.trackById,s)?(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)):(t=this._mismatch(t,o,s,a),r=!0),t=t._next}else i=0,function p2(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[lo()]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,a=>{s=this._trackByFn(i,a),null!==t&&Object.is(t.trackById,s)?(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,s,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new Kj(t,r),o,i),e}_verifyReinsertion(e,t,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,o=e._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new hA),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new hA),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class Kj{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Qj{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class hA{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new Qj,this.map.set(t,r)),r.add(e)}get(e,t){const i=this.map.get(e);return i?i.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function fA(n,e,t){const r=n.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}class pA{constructor(){}supports(e){return e instanceof Map||lm(e)}create(){return new Yj}}class Yj{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||lm(e)))throw new ae(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{const o=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,o)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,t);const o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}const r=new Jj(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}}class Jj{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function gA(){return new jd([new dA])}let jd=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||gA()),deps:[[n,new pu,new Gr]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new ae(901,!1)}}return n.\u0275prov=z({token:n,providedIn:"root",factory:gA}),n})();function mA(){return new Gu([new pA])}let Gu=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||mA()),deps:[[n,new pu,new Gr]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(r)return r;throw new ae(901,!1)}}return n.\u0275prov=z({token:n,providedIn:"root",factory:mA}),n})();const eU=Zb(null,"core",[]);let tU=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)(k(Fd))},n.\u0275mod=Ln({type:n}),n.\u0275inj=In({}),n})();function Xr(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}let Ud=null;function br(){return Ud}const Mt=new Q("DocumentToken");let qu=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=z({token:n,factory:function(){return function oU(){return k(_A)}()},providedIn:"platform"}),n})();const sU=new Q("Location Initialized");let _A=(()=>{class n extends qu{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return br().getBaseHref(this._doc)}onPopState(t){const r=br().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=br().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){yA()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){yA()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(k(Mt))},n.\u0275prov=z({token:n,factory:function(){return function aU(){return new _A(k(Mt))}()},providedIn:"platform"}),n})();function yA(){return!!window.history.pushState}function r_(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function vA(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Zr(n){return n&&"?"!==n[0]?"?"+n:n}let Hs=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=z({token:n,factory:function(){return function uU(){const n=k(Mt).location;return new EA(k(qu),n&&n.origin||"")}()},providedIn:"root"}),n})();const $d=new Q("appBaseHref");let EA=(()=>{class n extends Hs{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return r_(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Zr(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){const s=this.prepareExternalUrl(i+Zr(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){const s=this.prepareExternalUrl(i+Zr(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(k(qu),k($d,8))},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})(),lU=(()=>{class n extends Hs{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=r_(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Zr(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Zr(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(k(qu),k($d,8))},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})(),i_=(()=>{class n{constructor(t){this._subject=new Ge,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._baseHref=vA(wA(r)),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){var t;null===(t=this._urlChangeSubscription)||void 0===t||t.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Zr(r))}normalize(t){return n.stripTrailingSlash(function dU(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,wA(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Zr(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Zr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){var r,i;null===(i=(r=this._locationStrategy).historyGo)||void 0===i||i.call(r,t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{var r;const i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(null===(r=this._urlChangeSubscription)||void 0===r||r.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=Zr,n.joinWithSlash=r_,n.stripTrailingSlash=vA,n.\u0275fac=function(t){return new(t||n)(k(Hs))},n.\u0275prov=z({token:n,factory:function(){return function cU(){return new i_(k(Hs))}()},providedIn:"root"}),n})();function wA(n){return n.replace(/\/index.html$/,"")}var at=(()=>((at=at||{})[at.Format=0]="Format",at[at.Standalone=1]="Standalone",at))(),fe=(()=>((fe=fe||{})[fe.Narrow=0]="Narrow",fe[fe.Abbreviated=1]="Abbreviated",fe[fe.Wide=2]="Wide",fe[fe.Short=3]="Short",fe))(),Ze=(()=>((Ze=Ze||{})[Ze.Short=0]="Short",Ze[Ze.Medium=1]="Medium",Ze[Ze.Long=2]="Long",Ze[Ze.Full=3]="Full",Ze))(),W=(()=>((W=W||{})[W.Decimal=0]="Decimal",W[W.Group=1]="Group",W[W.List=2]="List",W[W.PercentSign=3]="PercentSign",W[W.PlusSign=4]="PlusSign",W[W.MinusSign=5]="MinusSign",W[W.Exponential=6]="Exponential",W[W.SuperscriptingExponent=7]="SuperscriptingExponent",W[W.PerMille=8]="PerMille",W[W.Infinity=9]="Infinity",W[W.NaN=10]="NaN",W[W.TimeSeparator=11]="TimeSeparator",W[W.CurrencyDecimal=12]="CurrencyDecimal",W[W.CurrencyGroup=13]="CurrencyGroup",W))();function Hd(n,e){return zn(hn(n)[B.DateFormat],e)}function Gd(n,e){return zn(hn(n)[B.TimeFormat],e)}function qd(n,e){return zn(hn(n)[B.DateTimeFormat],e)}function qn(n,e){const t=hn(n),r=t[B.NumberSymbols][e];if(void 0===r){if(e===W.CurrencyDecimal)return t[B.NumberSymbols][W.Decimal];if(e===W.CurrencyGroup)return t[B.NumberSymbols][W.Group]}return r}function DA(n){if(!n[B.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[B.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function zn(n,e){for(let t=e;t>-1;t--)if(void 0!==n[t])return n[t];throw new Error("Locale data API: locale data undefined")}function s_(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const IU=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,zu={},TU=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Dt=(()=>((Dt=Dt||{})[Dt.Short=0]="Short",Dt[Dt.ShortGMT=1]="ShortGMT",Dt[Dt.Long=2]="Long",Dt[Dt.Extended=3]="Extended",Dt))(),Y=(()=>((Y=Y||{})[Y.FullYear=0]="FullYear",Y[Y.Month=1]="Month",Y[Y.Date=2]="Date",Y[Y.Hours=3]="Hours",Y[Y.Minutes=4]="Minutes",Y[Y.Seconds=5]="Seconds",Y[Y.FractionalSeconds=6]="FractionalSeconds",Y[Y.Day=7]="Day",Y))(),le=(()=>((le=le||{})[le.DayPeriods=0]="DayPeriods",le[le.Days=1]="Days",le[le.Months=2]="Months",le[le.Eras=3]="Eras",le))();function bU(n,e,t,r){let i=function FU(n){if(bA(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[i,o=1,s=1]=n.split("-").map(a=>+a);return zd(i,o-1,s)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(IU))return function OU(n){const e=new Date(0);let t=0,r=0;const i=n[8]?e.setUTCFullYear:e.setFullYear,o=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const s=Number(n[4]||0)-t,a=Number(n[5]||0)-r,u=Number(n[6]||0),l=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return o.call(e,s,a,u,l),e}(r)}const e=new Date(n);if(!bA(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=ei(t,e)||e;let a,s=[];for(;e;){if(a=TU.exec(e),!a){s.push(e);break}{s=s.concat(a.slice(1));const c=s.pop();if(!c)break;e=c}}let u=i.getTimezoneOffset();r&&(u=TA(r,u),i=function VU(n,e,t){const r=t?-1:1,i=n.getTimezoneOffset();return function NU(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,r*(TA(e,i)-i))}(i,r,!0));let l="";return s.forEach(c=>{const d=function PU(n){if(u_[n])return u_[n];let e;switch(n){case"G":case"GG":case"GGG":e=Be(le.Eras,fe.Abbreviated);break;case"GGGG":e=Be(le.Eras,fe.Wide);break;case"GGGGG":e=Be(le.Eras,fe.Narrow);break;case"y":e=mt(Y.FullYear,1,0,!1,!0);break;case"yy":e=mt(Y.FullYear,2,0,!0,!0);break;case"yyy":e=mt(Y.FullYear,3,0,!1,!0);break;case"yyyy":e=mt(Y.FullYear,4,0,!1,!0);break;case"Y":e=Yd(1);break;case"YY":e=Yd(2,!0);break;case"YYY":e=Yd(3);break;case"YYYY":e=Yd(4);break;case"M":case"L":e=mt(Y.Month,1,1);break;case"MM":case"LL":e=mt(Y.Month,2,1);break;case"MMM":e=Be(le.Months,fe.Abbreviated);break;case"MMMM":e=Be(le.Months,fe.Wide);break;case"MMMMM":e=Be(le.Months,fe.Narrow);break;case"LLL":e=Be(le.Months,fe.Abbreviated,at.Standalone);break;case"LLLL":e=Be(le.Months,fe.Wide,at.Standalone);break;case"LLLLL":e=Be(le.Months,fe.Narrow,at.Standalone);break;case"w":e=a_(1);break;case"ww":e=a_(2);break;case"W":e=a_(1,!0);break;case"d":e=mt(Y.Date,1);break;case"dd":e=mt(Y.Date,2);break;case"c":case"cc":e=mt(Y.Day,1);break;case"ccc":e=Be(le.Days,fe.Abbreviated,at.Standalone);break;case"cccc":e=Be(le.Days,fe.Wide,at.Standalone);break;case"ccccc":e=Be(le.Days,fe.Narrow,at.Standalone);break;case"cccccc":e=Be(le.Days,fe.Short,at.Standalone);break;case"E":case"EE":case"EEE":e=Be(le.Days,fe.Abbreviated);break;case"EEEE":e=Be(le.Days,fe.Wide);break;case"EEEEE":e=Be(le.Days,fe.Narrow);break;case"EEEEEE":e=Be(le.Days,fe.Short);break;case"a":case"aa":case"aaa":e=Be(le.DayPeriods,fe.Abbreviated);break;case"aaaa":e=Be(le.DayPeriods,fe.Wide);break;case"aaaaa":e=Be(le.DayPeriods,fe.Narrow);break;case"b":case"bb":case"bbb":e=Be(le.DayPeriods,fe.Abbreviated,at.Standalone,!0);break;case"bbbb":e=Be(le.DayPeriods,fe.Wide,at.Standalone,!0);break;case"bbbbb":e=Be(le.DayPeriods,fe.Narrow,at.Standalone,!0);break;case"B":case"BB":case"BBB":e=Be(le.DayPeriods,fe.Abbreviated,at.Format,!0);break;case"BBBB":e=Be(le.DayPeriods,fe.Wide,at.Format,!0);break;case"BBBBB":e=Be(le.DayPeriods,fe.Narrow,at.Format,!0);break;case"h":e=mt(Y.Hours,1,-12);break;case"hh":e=mt(Y.Hours,2,-12);break;case"H":e=mt(Y.Hours,1);break;case"HH":e=mt(Y.Hours,2);break;case"m":e=mt(Y.Minutes,1);break;case"mm":e=mt(Y.Minutes,2);break;case"s":e=mt(Y.Seconds,1);break;case"ss":e=mt(Y.Seconds,2);break;case"S":e=mt(Y.FractionalSeconds,1);break;case"SS":e=mt(Y.FractionalSeconds,2);break;case"SSS":e=mt(Y.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Kd(Dt.Short);break;case"ZZZZZ":e=Kd(Dt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Kd(Dt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Kd(Dt.Long);break;default:return null}return u_[n]=e,e}(c);l+=d?d(i,t,u):"''"===c?"'":c.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function zd(n,e,t){const r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function ei(n,e){const t=function hU(n){return hn(n)[B.LocaleId]}(n);if(zu[t]=zu[t]||{},zu[t][e])return zu[t][e];let r="";switch(e){case"shortDate":r=Hd(n,Ze.Short);break;case"mediumDate":r=Hd(n,Ze.Medium);break;case"longDate":r=Hd(n,Ze.Long);break;case"fullDate":r=Hd(n,Ze.Full);break;case"shortTime":r=Gd(n,Ze.Short);break;case"mediumTime":r=Gd(n,Ze.Medium);break;case"longTime":r=Gd(n,Ze.Long);break;case"fullTime":r=Gd(n,Ze.Full);break;case"short":const i=ei(n,"shortTime"),o=ei(n,"shortDate");r=Wd(qd(n,Ze.Short),[i,o]);break;case"medium":const s=ei(n,"mediumTime"),a=ei(n,"mediumDate");r=Wd(qd(n,Ze.Medium),[s,a]);break;case"long":const u=ei(n,"longTime"),l=ei(n,"longDate");r=Wd(qd(n,Ze.Long),[u,l]);break;case"full":const c=ei(n,"fullTime"),d=ei(n,"fullDate");r=Wd(qd(n,Ze.Full),[c,d])}return r&&(zu[t][e]=r),r}function Wd(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return null!=e&&r in e?e[r]:t})),n}function ar(n,e,t="-",r,i){let o="";(n<0||i&&n<=0)&&(i?n=1-n:(n=-n,o=t));let s=String(n);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function mt(n,e,t=0,r=!1,i=!1){return function(o,s){let a=function SU(n,e){switch(n){case Y.FullYear:return e.getFullYear();case Y.Month:return e.getMonth();case Y.Date:return e.getDate();case Y.Hours:return e.getHours();case Y.Minutes:return e.getMinutes();case Y.Seconds:return e.getSeconds();case Y.FractionalSeconds:return e.getMilliseconds();case Y.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,o);if((t>0||a>-t)&&(a+=t),n===Y.Hours)0===a&&-12===t&&(a=12);else if(n===Y.FractionalSeconds)return function AU(n,e){return ar(n,3).substring(0,e)}(a,e);const u=qn(s,W.MinusSign);return ar(a,e,u,r,i)}}function Be(n,e,t=at.Format,r=!1){return function(i,o){return function MU(n,e,t,r,i,o){switch(t){case le.Months:return function gU(n,e,t){const r=hn(n),o=zn([r[B.MonthsFormat],r[B.MonthsStandalone]],e);return zn(o,t)}(e,i,r)[n.getMonth()];case le.Days:return function pU(n,e,t){const r=hn(n),o=zn([r[B.DaysFormat],r[B.DaysStandalone]],e);return zn(o,t)}(e,i,r)[n.getDay()];case le.DayPeriods:const s=n.getHours(),a=n.getMinutes();if(o){const l=function vU(n){const e=hn(n);return DA(e),(e[B.ExtraData][2]||[]).map(r=>"string"==typeof r?s_(r):[s_(r[0]),s_(r[1])])}(e),c=function EU(n,e,t){const r=hn(n);DA(r);const o=zn([r[B.ExtraData][0],r[B.ExtraData][1]],e)||[];return zn(o,t)||[]}(e,i,r),d=l.findIndex(h=>{if(Array.isArray(h)){const[f,p]=h,g=s>=f.hours&&a>=f.minutes,m=s<p.hours||s===p.hours&&a<p.minutes;if(f.hours<p.hours){if(g&&m)return!0}else if(g||m)return!0}else if(h.hours===s&&h.minutes===a)return!0;return!1});if(-1!==d)return c[d]}return function fU(n,e,t){const r=hn(n),o=zn([r[B.DayPeriodsFormat],r[B.DayPeriodsStandalone]],e);return zn(o,t)}(e,i,r)[s<12?0:1];case le.Eras:return function mU(n,e){return zn(hn(n)[B.Eras],e)}(e,r)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(i,o,n,e,t,r)}}function Kd(n){return function(e,t,r){const i=-1*r,o=qn(t,W.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case Dt.Short:return(i>=0?"+":"")+ar(s,2,o)+ar(Math.abs(i%60),2,o);case Dt.ShortGMT:return"GMT"+(i>=0?"+":"")+ar(s,1,o);case Dt.Long:return"GMT"+(i>=0?"+":"")+ar(s,2,o)+":"+ar(Math.abs(i%60),2,o);case Dt.Extended:return 0===r?"Z":(i>=0?"+":"")+ar(s,2,o)+":"+ar(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${n}"`)}}}function IA(n){return zd(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function a_(n,e=!1){return function(t,r){let i;if(e){const o=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,s=t.getDate();i=1+Math.floor((s+o)/7)}else{const o=IA(t),s=function xU(n){const e=zd(n,0,1).getDay();return zd(n,0,1+(e<=4?4:11)-e)}(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return ar(i,n,qn(r,W.MinusSign))}}function Yd(n,e=!1){return function(t,r){return ar(IA(t).getFullYear(),n,qn(r,W.MinusSign),e)}}const u_={};function TA(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function bA(n){return n instanceof Date&&!isNaN(n.valueOf())}function RA(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,o]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}let po=(()=>{class n{constructor(t,r,i,o){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=o,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(Tu(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${Ne(r.item)}`);this._toggleClass(r.item,!0)}),t.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!0)):Object.keys(t).forEach(r=>this._toggleClass(r,!!t[r])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!1)):Object.keys(t).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(t,r){(t=t.trim())&&t.split(/\s+/g).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(t){return new(t||n)(T(jd),T(Gu),T(Pn),T(Kr))},n.\u0275dir=X({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class QU{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Gs=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new QU(i.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)r.remove(null===o?void 0:o);else if(null!==o){const a=r.get(o);r.move(a,s),PA(a,i)}});for(let i=0,o=r.length;i<o;i++){const a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{PA(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(T(sr),T(Qr),T(jd))},n.\u0275dir=X({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function PA(n,e){n.context.$implicit=e.item}let go=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new YU,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){NA("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){NA("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(T(sr),T(Qr))},n.\u0275dir=X({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class YU{constructor(){this.$implicit=null,this.ngIf=null}}function NA(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${Ne(e)}'.`)}const d$=new Q("DATE_PIPE_DEFAULT_TIMEZONE");let FA=(()=>{class n{constructor(t,r){this.locale=t,this.defaultTimezone=r}transform(t,r="mediumDate",i,o){var s;if(null==t||""===t||t!=t)return null;try{return bU(t,r,o||this.locale,null!==(s=null!=i?i:this.defaultTimezone)&&void 0!==s?s:void 0)}catch(a){throw function ur(n,e){return new ae(2100,!1)}()}}}return n.\u0275fac=function(t){return new(t||n)(T(Yr,16),T(d$,24))},n.\u0275pipe=_n({name:"date",type:n,pure:!0}),n})(),C$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ln({type:n}),n.\u0275inj=In({}),n})();let b$=(()=>{class n{}return n.\u0275prov=z({token:n,providedIn:"root",factory:()=>new A$(k(Mt),window)}),n})();class A${constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function S$(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=LA(this.window.history)||LA(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function LA(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class BA{}class y_ extends class M$ extends class iU{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function rU(n){Ud||(Ud=n)}(new y_)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function R$(){return Ku=Ku||document.querySelector("base"),Ku?Ku.getAttribute("href"):null}();return null==t?null:function x$(n){Xd=Xd||document.createElement("a"),Xd.setAttribute("href",n);const e=Xd.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Ku=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return RA(document.cookie,e)}}let Xd,Ku=null;const jA=new Q("TRANSITION_ID"),N$=[{provide:Hm,useFactory:function P$(n,e,t){return()=>{t.get(Nd).donePromise.then(()=>{const r=br(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let o=0;o<i.length;o++)r.remove(i[o])})}},deps:[jA,Mt,Kt],multi:!0}];let F$=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})();const Zd=new Q("EventManagerPlugins");let eh=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let o=0;o<i.length;o++){const s=i[o];if(s.supports(t))return this._eventNameToPlugin.set(t,s),s}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(k(Zd),k(pt))},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})();class UA{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=br().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let $A=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})(),Qu=(()=>{class n extends $A{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(o=>{const s=this._doc.createElement("style");s.textContent=o,i.push(r.appendChild(s))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(HA),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(HA))}}return n.\u0275fac=function(t){return new(t||n)(k(Mt))},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})();function HA(n){br().remove(n)}const v_={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},E_=/%COMP%/g;function th(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?th(n,i,t):(i=i.replace(E_,n),t.push(i))}return t}function zA(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let w_=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new C_(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case mr.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new U$(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case mr.ShadowDom:return new $$(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=th(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(k(eh),k(Qu),k($u))},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})();class C_{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(v_[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(KA(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(KA(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const o=v_[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=v_[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Rn.DashCase|Rn.Important)?e.style.setProperty(t,r,i&Rn.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Rn.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,zA(r)):this.eventManager.addEventListener(e,t,zA(r))}}function KA(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class U$ extends C_{constructor(e,t,r,i){super(e),this.component=r;const o=th(i+"-"+r.id,r.styles,[]);t.addStyles(o),this.contentAttr=function L$(n){return"_ngcontent-%COMP%".replace(E_,n)}(i+"-"+r.id),this.hostAttr=function B$(n){return"_nghost-%COMP%".replace(E_,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class $$ extends C_{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=th(i.id,i.styles,[]);for(let s=0;s<o.length;s++){const a=document.createElement("style");a.textContent=o[s],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let H$=(()=>{class n extends UA{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(k(Mt))},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})();const QA=["alt","control","meta","shift"],q$={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},YA={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},z$={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let W$=(()=>{class n extends UA{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const o=n.parseEventName(r),s=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>br().onAndCancel(t,o.domEventName,s))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=n._normalizeKey(r.pop());let s="";if(QA.forEach(u=>{const l=r.indexOf(u);l>-1&&(r.splice(l,1),s+=u+".")}),s+=o,0!=r.length||0===o.length)return null;const a={};return a.domEventName=i,a.fullKey=s,a}static getEventFullKey(t){let r="",i=function K$(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&YA.hasOwnProperty(e)&&(e=YA[e]))}return q$[e]||e}(t);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),QA.forEach(o=>{o!=i&&z$[o](t)&&(r+=o+".")}),r+=i,r}static eventCallback(t,r,i){return o=>{n.getEventFullKey(o)===t&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(k(Mt))},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})();const JA=[{provide:qm,useValue:"browser"},{provide:Gb,useValue:function Q$(){y_.makeCurrent()},multi:!0},{provide:Mt,useFactory:function J$(){return function iF(n){Mp=n}(document),document},deps:[]}],X$=Zb(eU,"browser",JA),XA=new Q(""),ZA=[{provide:Vd,useClass:class V${addToWindow(e){Re.getAngularTestability=(r,i=!0)=>{const o=e.findTestabilityInTree(r,i);if(null==o)throw new Error("Could not find testability for element.");return o},Re.getAllAngularTestabilities=()=>e.getAllTestabilities(),Re.getAllAngularRootElements=()=>e.getAllRootElements(),Re.frameworkStabilizers||(Re.frameworkStabilizers=[]),Re.frameworkStabilizers.push(r=>{const i=Re.getAllAngularTestabilities();let o=i.length,s=!1;const a=function(u){s=s||u,o--,0==o&&r(s)};i.forEach(function(u){u.whenStable(a)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const i=e.getTestability(t);return null!=i?i:r?br().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}},deps:[]},{provide:Kb,useClass:Ym,deps:[pt,Jm,Vd]},{provide:Ym,useClass:Ym,deps:[pt,Jm,Vd]}],eS=[{provide:Ag,useValue:"root"},{provide:ys,useFactory:function Y$(){return new ys},deps:[]},{provide:Zd,useClass:H$,multi:!0,deps:[Mt,pt,qm]},{provide:Zd,useClass:W$,multi:!0,deps:[Mt]},{provide:w_,useClass:w_,deps:[eh,Qu,$u]},{provide:ab,useExisting:w_},{provide:$A,useExisting:Qu},{provide:Qu,useClass:Qu,deps:[Mt]},{provide:eh,useClass:eh,deps:[Zd,pt]},{provide:BA,useClass:F$,deps:[]},[]];let Z$=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:$u,useValue:t.appId},{provide:jA,useExisting:$u},N$]}}}return n.\u0275fac=function(t){return new(t||n)(k(XA,12))},n.\u0275mod=Ln({type:n}),n.\u0275inj=In({providers:[...eS,...ZA],imports:[C$,tU]}),n})(),tS=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(k(Mt))},n.\u0275prov=z({token:n,factory:function(t){let r=null;return r=t?new t:function tH(){return new tS(k(Mt))}(),r},providedIn:"root"}),n})();"undefined"!=typeof window&&window;const{isArray:cH}=Array,{getPrototypeOf:dH,prototype:hH,keys:fH}=Object;function iS(n){if(1===n.length){const e=n[0];if(cH(e))return{args:e,keys:null};if(function pH(n){return n&&"object"==typeof n&&dH(n)===hH}(e)){const t=fH(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:gH}=Array;function oS(n){return Te(e=>function mH(n,e){return gH(e)?n(...e):n(e)}(n,e))}function sS(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}let aS=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(T(Kr),T(Pn))},n.\u0275dir=X({type:n}),n})(),mo=(()=>{class n extends aS{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=zt(n)))(r||n)}}(),n.\u0275dir=X({type:n,features:[Ae]}),n})();const Ar=new Q("NgValueAccessor"),yH={provide:Ar,useExisting:ke(()=>qs),multi:!0};let qs=(()=>{class n extends mo{writeValue(t){this.setProperty("checked",t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=zt(n)))(r||n)}}(),n.\u0275dir=X({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,r){1&t&&x("change",function(o){return r.onChange(o.target.checked)})("blur",function(){return r.onTouched()})},features:[Ke([yH]),Ae]}),n})();const vH={provide:Ar,useExisting:ke(()=>_o),multi:!0},wH=new Q("CompositionEventMode");let _o=(()=>{class n extends aS{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function EH(){const n=br()?br().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(T(Kr),T(Pn),T(wH,8))},n.\u0275dir=X({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&x("input",function(o){return r._handleInput(o.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(o){return r._compositionEnd(o.target.value)})},features:[Ke([vH]),Ae]}),n})();const Yt=new Q("NgValidators"),Ii=new Q("NgAsyncValidators"),CH=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;function fS(n){return function Di(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}(n.value)||CH.test(n.value)?null:{email:!0}}function nh(n){return null}function _S(n){return null!=n}function yS(n){const e=Au(n)?vt(n):n;return fm(e),e}function vS(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function ES(n,e){return e.map(t=>t(n))}function wS(n){return n.map(e=>function DH(n){return!n.validate}(e)?e:t=>e.validate(t))}function T_(n){return null!=n?function CS(n){if(!n)return null;const e=n.filter(_S);return 0==e.length?null:function(t){return vS(ES(t,e))}}(wS(n)):null}function b_(n){return null!=n?function DS(n){if(!n)return null;const e=n.filter(_S);return 0==e.length?null:function(t){return function _H(...n){const e=Tw(n),{args:t,keys:r}=iS(n),i=new st(o=>{const{length:s}=t;if(!s)return void o.complete();const a=new Array(s);let u=s,l=s;for(let c=0;c<s;c++){let d=!1;pr(t[c]).subscribe(At(o,h=>{d||(d=!0,l--),a[c]=h},()=>u--,void 0,()=>{(!u||!d)&&(l||o.next(r?sS(r,a):a),o.complete())}))}});return e?i.pipe(oS(e)):i}(ES(t,e).map(yS)).pipe(Te(vS))}}(wS(n)):null}function IS(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function A_(n){return n?Array.isArray(n)?n:[n]:[]}function rh(n,e){return Array.isArray(n)?n.includes(e):n===e}function AS(n,e){const t=A_(e);return A_(n).forEach(i=>{rh(t,i)||t.push(i)}),t}function SS(n,e){return A_(e).filter(t=>!rh(n,t))}class MS{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=T_(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=b_(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Ti extends MS{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class pn extends MS{get formDirective(){return null}get path(){return null}}let zs=(()=>{class n extends class RS{constructor(e){this._cd=e}get isTouched(){var e,t;return!(null===(t=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===t||!t.touched)}get isUntouched(){var e,t;return!(null===(t=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===t||!t.untouched)}get isPristine(){var e,t;return!(null===(t=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===t||!t.pristine)}get isDirty(){var e,t;return!(null===(t=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===t||!t.dirty)}get isValid(){var e,t;return!(null===(t=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===t||!t.valid)}get isInvalid(){var e,t;return!(null===(t=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===t||!t.invalid)}get isPending(){var e,t;return!(null===(t=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===t||!t.pending)}get isSubmitted(){var e;return!(null===(e=this._cd)||void 0===e||!e.submitted)}}{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(T(Ti,2))},n.\u0275dir=X({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&Cd("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[Ae]}),n})();const Yu="VALID",oh="INVALID",Ws="PENDING",Ju="DISABLED";function PS(n){return Array.isArray(n)?T_(n):n||null}function NS(n){return Array.isArray(n)?b_(n):n||null}function sh(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function Xu(n,e){var t,r;(function V_(n,e){const t=function TS(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(IS(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function bS(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(IS(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();lh(e._rawValidators,i),lh(e._rawAsyncValidators,i)})(n,e),e.valueAccessor.writeValue(n.value),n.disabled&&(null===(r=(t=e.valueAccessor).setDisabledState)||void 0===r||r.call(t,!0)),function NH(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&kS(n,e)})}(n,e),function FH(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function VH(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&kS(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function PH(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function lh(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function kS(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function US(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function $S(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const HH={provide:Ti,useExisting:ke(()=>yo)},zS=(()=>Promise.resolve(null))();let yo=(()=>{class n extends Ti{constructor(t,r,i,o,s){super(),this._changeDetectorRef=s,this.control=new class extends class OS{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=PS(this._rawValidators),this._composedAsyncValidatorFn=NS(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Yu}get invalid(){return this.status===oh}get pending(){return this.status==Ws}get disabled(){return this.status===Ju}get enabled(){return this.status!==Ju}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=PS(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=NS(e)}addValidators(e){this.setValidators(AS(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(AS(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(SS(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(SS(e,this._rawAsyncValidators))}hasValidator(e){return rh(this._rawValidators,e)}hasAsyncValidator(e){return rh(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Ws,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Ju,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Yu,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Yu||this.status===Ws)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ju:Yu}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Ws,this._hasOwnPendingAsyncValidator=!0;const t=yS(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Ge,this.statusChanges=new Ge}_calculateStatus(){return this._allControlsDisabled()?Ju:this.errors?oh:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ws)?Ws:this._anyControlsHaveStatus(oh)?oh:Yu}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){sh(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}}{constructor(e=null,t,r){super(function x_(n){return(sh(n)?n.validators:n)||null}(t),function P_(n,e){return(sh(e)?e.asyncValidators:n)||null}(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),sh(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=$S(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){US(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){US(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){$S(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},this._registered=!1,this.update=new Ge,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function O_(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(o=>{o.constructor===_o?t=o:function LH(n){return Object.getPrototypeOf(n.constructor)===mo}(o)?r=o:i=o}),i||r||t||null}(0,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function F_(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Xu(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){zS.then(()=>{var r;this.control.setValue(t,{emitViewToModelChange:!1}),null===(r=this._changeDetectorRef)||void 0===r||r.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=0!==r&&Xr(r);zS.then(()=>{var o;i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),null===(o=this._changeDetectorRef)||void 0===o||o.markForCheck()})}_getPath(t){return this._parent?function ah(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(T(pn,9),T(Yt,10),T(Ii,10),T(Ar,10),T(kd,8))},n.\u0275dir=X({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Ke([HH]),Ae,jn]}),n})(),KS=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ln({type:n}),n.\u0275inj=In({}),n})();let vo=(()=>{class n{constructor(){this._validator=nh}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):nh,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=X({type:n,features:[jn]}),n})();const c5={provide:Yt,useExisting:ke(()=>G_),multi:!0};let G_=(()=>{class n extends vo{constructor(){super(...arguments),this.inputName="email",this.normalizeInput=Xr,this.createValidator=t=>fS}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=zt(n)))(r||n)}}(),n.\u0275dir=X({type:n,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},features:[Ke([c5]),Ae]}),n})();const h5={provide:Yt,useExisting:ke(()=>dh),multi:!0};let dh=(()=>{class n extends vo{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=t=>function r1(n){return"number"==typeof n?n:parseInt(n,10)}(t),this.createValidator=t=>function gS(n){return e=>function uS(n){return null!=n&&"number"==typeof n.length}(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=zt(n)))(r||n)}}(),n.\u0275dir=X({type:n,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(t,r){2&t&&Cr("maxlength",r._enabled?r.maxlength:null)},inputs:{maxlength:"maxlength"},features:[Ke([h5]),Ae]}),n})(),p5=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ln({type:n}),n.\u0275inj=In({imports:[KS]}),n})(),g5=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ln({type:n}),n.\u0275inj=In({imports:[p5]}),n})();function ie(...n){return vt(n,Qa(n))}function Ks(n,e){return pe(e)?Ot(n,e,1):Ot(n,1)}function Eo(n,e){return Ft((t,r)=>{let i=0;t.subscribe(At(r,o=>n.call(e,o,i++)&&r.next(o)))})}class c1{}class d1{}class ti{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),o=i.toLowerCase(),s=t.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const i=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(t,i))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof ti?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new ti;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof ti?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const o=e.value;if(o){let s=this.headers.get(t);if(!s)return;s=s.filter(a=>-1===o.indexOf(a)),0===s.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class y5{encodeKey(e){return h1(e)}encodeValue(e){return h1(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const E5=/%(\d[a-f0-9])/gi,w5={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function h1(n){return encodeURIComponent(n).replace(E5,(e,t)=>{var r;return null!==(r=w5[t])&&void 0!==r?r:e})}function hh(n){return`${n}`}class bi{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new y5,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function v5(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const o=i.indexOf("="),[s,a]=-1==o?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],u=t.get(s)||[];u.push(a),t.set(s,u)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],i=Array.isArray(r)?r.map(hh):[hh(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new bi({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(hh(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(hh(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class C5{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function f1(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function p1(n){return"undefined"!=typeof Blob&&n instanceof Blob}function g1(n){return"undefined"!=typeof FormData&&n instanceof FormData}class el{constructor(e,t,r,i){let o;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function D5(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new ti),this.context||(this.context=new C5),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+s}}else this.params=new bi,this.urlWithParams=t}serializeBody(){return null===this.body?null:f1(this.body)||p1(this.body)||g1(this.body)||function I5(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof bi?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||g1(this.body)?null:p1(this.body)?this.body.type||null:f1(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof bi?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var t;const r=e.method||this.method,i=e.url||this.url,o=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,a=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,u=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let l=e.headers||this.headers,c=e.params||this.params;const d=null!==(t=e.context)&&void 0!==t?t:this.context;return void 0!==e.setHeaders&&(l=Object.keys(e.setHeaders).reduce((h,f)=>h.set(f,e.setHeaders[f]),l)),e.setParams&&(c=Object.keys(e.setParams).reduce((h,f)=>h.set(f,e.setParams[f]),c)),new el(r,i,s,{params:c,headers:l,context:d,reportProgress:u,responseType:o,withCredentials:a})}}var _t=(()=>((_t=_t||{})[_t.Sent=0]="Sent",_t[_t.UploadProgress=1]="UploadProgress",_t[_t.ResponseHeader=2]="ResponseHeader",_t[_t.DownloadProgress=3]="DownloadProgress",_t[_t.Response=4]="Response",_t[_t.User=5]="User",_t))();class q_{constructor(e,t=200,r="OK"){this.headers=e.headers||new ti,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class z_ extends q_{constructor(e={}){super(e),this.type=_t.ResponseHeader}clone(e={}){return new z_({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class fh extends q_{constructor(e={}){super(e),this.type=_t.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new fh({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class m1 extends q_{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function W_(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let T5=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof el)o=t;else{let u,l;u=i.headers instanceof ti?i.headers:new ti(i.headers),i.params&&(l=i.params instanceof bi?i.params:new bi({fromObject:i.params})),o=new el(t,r,void 0!==i.body?i.body:null,{headers:u,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const s=ie(o).pipe(Ks(u=>this.handler.handle(u)));if(t instanceof el||"events"===i.observe)return s;const a=s.pipe(Eo(u=>u instanceof fh));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(Te(u=>{if(null!==u.body&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return a.pipe(Te(u=>{if(null!==u.body&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return a.pipe(Te(u=>{if(null!==u.body&&"string"!=typeof u.body)throw new Error("Response is not a string.");return u.body}));default:return a.pipe(Te(u=>u.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new bi).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,W_(i,r))}post(t,r,i={}){return this.request("POST",t,W_(i,r))}put(t,r,i={}){return this.request("PUT",t,W_(i,r))}}return n.\u0275fac=function(t){return new(t||n)(k(c1))},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})();class _1{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const y1=new Q("HTTP_INTERCEPTORS");let b5=(()=>{class n{intercept(t,r){return r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})();const A5=/^\)\]\}',?\n/;let v1=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new st(r=>{const i=this.xhrFactory.build();if(i.open(t.method,t.urlWithParams),t.withCredentials&&(i.withCredentials=!0),t.headers.forEach((f,p)=>i.setRequestHeader(f,p.join(","))),t.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const f=t.detectContentTypeHeader();null!==f&&i.setRequestHeader("Content-Type",f)}if(t.responseType){const f=t.responseType.toLowerCase();i.responseType="json"!==f?f:"text"}const o=t.serializeBody();let s=null;const a=()=>{if(null!==s)return s;const f=i.statusText||"OK",p=new ti(i.getAllResponseHeaders()),g=function S5(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(i)||t.url;return s=new z_({headers:p,status:i.status,statusText:f,url:g}),s},u=()=>{let{headers:f,status:p,statusText:g,url:m}=a(),_=null;204!==p&&(_=void 0===i.response?i.responseText:i.response),0===p&&(p=_?200:0);let I=p>=200&&p<300;if("json"===t.responseType&&"string"==typeof _){const y=_;_=_.replace(A5,"");try{_=""!==_?JSON.parse(_):null}catch(b){_=y,I&&(I=!1,_={error:b,text:_})}}I?(r.next(new fh({body:_,headers:f,status:p,statusText:g,url:m||void 0})),r.complete()):r.error(new m1({error:_,headers:f,status:p,statusText:g,url:m||void 0}))},l=f=>{const{url:p}=a(),g=new m1({error:f,status:i.status||0,statusText:i.statusText||"Unknown Error",url:p||void 0});r.error(g)};let c=!1;const d=f=>{c||(r.next(a()),c=!0);let p={type:_t.DownloadProgress,loaded:f.loaded};f.lengthComputable&&(p.total=f.total),"text"===t.responseType&&!!i.responseText&&(p.partialText=i.responseText),r.next(p)},h=f=>{let p={type:_t.UploadProgress,loaded:f.loaded};f.lengthComputable&&(p.total=f.total),r.next(p)};return i.addEventListener("load",u),i.addEventListener("error",l),i.addEventListener("timeout",l),i.addEventListener("abort",l),t.reportProgress&&(i.addEventListener("progress",d),null!==o&&i.upload&&i.upload.addEventListener("progress",h)),i.send(o),r.next({type:_t.Sent}),()=>{i.removeEventListener("error",l),i.removeEventListener("abort",l),i.removeEventListener("load",u),i.removeEventListener("timeout",l),t.reportProgress&&(i.removeEventListener("progress",d),null!==o&&i.upload&&i.upload.removeEventListener("progress",h)),i.readyState!==i.DONE&&i.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(k(BA))},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})();const K_=new Q("XSRF_COOKIE_NAME"),Q_=new Q("XSRF_HEADER_NAME");class E1{}let M5=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=RA(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(k(Mt),k(qm),k(K_))},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})(),Y_=(()=>{class n{constructor(t,r){this.tokenService=t,this.headerName=r}intercept(t,r){const i=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||i.startsWith("http://")||i.startsWith("https://"))return r.handle(t);const o=this.tokenService.getToken();return null!==o&&!t.headers.has(this.headerName)&&(t=t.clone({headers:t.headers.set(this.headerName,o)})),r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(k(E1),k(Q_))},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})(),R5=(()=>{class n{constructor(t,r){this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=this.injector.get(y1,[]);this.chain=r.reduceRight((i,o)=>new _1(i,o),this.backend)}return this.chain.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(k(d1),k(Kt))},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})(),x5=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:Y_,useClass:b5}]}}static withOptions(t={}){return{ngModule:n,providers:[t.cookieName?{provide:K_,useValue:t.cookieName}:[],t.headerName?{provide:Q_,useValue:t.headerName}:[]]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ln({type:n}),n.\u0275inj=In({providers:[Y_,{provide:y1,useExisting:Y_,multi:!0},{provide:E1,useClass:M5},{provide:K_,useValue:"XSRF-TOKEN"},{provide:Q_,useValue:"X-XSRF-TOKEN"}]}),n})(),P5=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ln({type:n}),n.\u0275inj=In({providers:[T5,{provide:c1,useClass:R5},v1,{provide:d1,useExisting:v1}],imports:[x5.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),n})();class lr extends fr{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function w1(...n){const e=Qa(n),t=Tw(n),{args:r,keys:i}=iS(n);if(0===r.length)return vt([],e);const o=new st(function N5(n,e,t=Zi){return r=>{C1(e,()=>{const{length:i}=n,o=new Array(i);let s=i,a=i;for(let u=0;u<i;u++)C1(e,()=>{const l=vt(n[u],e);let c=!1;l.subscribe(At(r,d=>{o[u]=d,c||(c=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,e,i?s=>sS(i,s):Zi));return t?o.pipe(oS(t)):o}function C1(n,e,t){n?kr(t,n,e):e()}function tl(n,e){const t=pe(n)?n:()=>n,r=i=>i.error(t());return new st(e?i=>e.schedule(r,0,i):r)}const nl=bt(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function J_(...n){return function V5(){return es(1)}()(vt(n,Qa(n)))}function D1(n){return new st(e=>{pr(n()).subscribe(e)})}function X_(){return Ft((n,e)=>{let t=null;n._refCount++;const r=At(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class I1 extends st{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,dw(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new kn;const t=this.getSubject();e.add(this.source.subscribe(At(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=kn.EMPTY)}return e}refCount(){return X_()(this)}}function wo(n,e){return Ft((t,r)=>{let i=null,o=0,s=!1;const a=()=>s&&!i&&r.complete();t.subscribe(At(r,u=>{null==i||i.unsubscribe();let l=0;const c=o++;pr(n(u,c)).subscribe(i=At(r,d=>r.next(e?e(u,d,c,l++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function O5(n,e,t,r,i){return(o,s)=>{let a=t,u=e,l=0;o.subscribe(At(s,c=>{const d=l++;u=a?n(u,c,d):(a=!0,c),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}function T1(n,e){return Ft(O5(n,e,arguments.length>=2,!0))}function Ai(n){return Ft((e,t)=>{let o,r=null,i=!1;r=e.subscribe(At(t,void 0,void 0,s=>{o=pr(n(s,Ai(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function Z_(n){return n<=0?()=>Lr:Ft((e,t)=>{let r=[];e.subscribe(At(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function b1(n=k5){return Ft((e,t)=>{let r=!1;e.subscribe(At(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function k5(){return new nl}function ey(n){return Ft((e,t)=>{let r=!1;e.subscribe(At(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Co(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Eo((i,o)=>n(i,o,r)):Zi,Ya(1),t?ey(e):b1(()=>new nl))}function Jt(n,e,t){const r=pe(n)||e||t?{next:n,error:e,complete:t}:n;return r?Ft((i,o)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;i.subscribe(At(o,u=>{var l;null===(l=r.next)||void 0===l||l.call(r,u),o.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),o.complete()},u=>{var l;a=!1,null===(l=r.error)||void 0===l||l.call(r,u),o.error(u)},()=>{var u,l;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(l=r.finalize)||void 0===l||l.call(r)}))}):Zi}function ty(n){return Ft((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}class ni{constructor(e,t){this.id=e,this.url=t}}class ny extends ni{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class rl extends ni{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class A1 extends ni{constructor(e,t,r){super(e,t),this.reason=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class j5 extends ni{constructor(e,t,r){super(e,t),this.error=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class U5 extends ni{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $5 extends ni{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class H5 extends ni{constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class G5 extends ni{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class q5 extends ni{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class z5{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class W5{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class K5{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Q5{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Y5{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class J5{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class S1{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const he="primary";class X5{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Qs(n){return new X5(n)}const M1="ngNavigationCancelingError";function ry(n){const e=Error("NavigationCancelingError: "+n);return e[M1]=!0,e}function e6(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let o=0;o<r.length;o++){const s=r[o],a=n[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Sr(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!R1(n[i],e[i]))return!1;return!0}function R1(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}return n===e}function x1(n){return Array.prototype.concat.apply([],n)}function P1(n){return n.length>0?n[n.length-1]:null}function kt(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function cr(n){return fm(n)?n:Au(n)?vt(Promise.resolve(n)):ie(n)}const r6={exact:function F1(n,e,t){if(!Io(n.segments,e.segments)||!ph(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!F1(n.children[r],e.children[r],t))return!1;return!0},subset:O1},N1={exact:function i6(n,e){return Sr(n,e)},subset:function o6(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>R1(n[t],e[t]))},ignored:()=>!0};function V1(n,e,t){return r6[t.paths](n.root,e.root,t.matrixParams)&&N1[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function O1(n,e,t){return k1(n,e,e.segments,t)}function k1(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!Io(i,t)||e.hasChildren()||!ph(i,t,r))}if(n.segments.length===t.length){if(!Io(n.segments,t)||!ph(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!O1(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!!(Io(n.segments,i)&&ph(n.segments,i,r)&&n.children[he])&&k1(n.children[he],e,o,r)}}function ph(n,e,t){return e.every((r,i)=>N1[t](n[i].parameters,r.parameters))}class Do{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Qs(this.queryParams)),this._queryParamMap}toString(){return u6.serialize(this)}}class ge{constructor(e,t){this.segments=e,this.children=t,this.parent=null,kt(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return gh(this)}}class il{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Qs(this.parameters)),this._parameterMap}toString(){return $1(this)}}function Io(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class L1{}class B1{parse(e){const t=new _6(e);return new Do(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${ol(e.root,!0)}`,r=function d6(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${mh(t)}=${mh(i)}`).join("&"):`${mh(t)}=${mh(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function l6(n){return encodeURI(n)}(e.fragment)}`:""}`}}const u6=new B1;function gh(n){return n.segments.map(e=>$1(e)).join("/")}function ol(n,e){if(!n.hasChildren())return gh(n);if(e){const t=n.children[he]?ol(n.children[he],!1):"",r=[];return kt(n.children,(i,o)=>{o!==he&&r.push(`${o}:${ol(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function a6(n,e){let t=[];return kt(n.children,(r,i)=>{i===he&&(t=t.concat(e(r,i)))}),kt(n.children,(r,i)=>{i!==he&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===he?[ol(n.children[he],!1)]:[`${i}:${ol(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[he]?`${gh(n)}/${t[0]}`:`${gh(n)}/(${t.join("//")})`}}function j1(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function mh(n){return j1(n).replace(/%3B/gi,";")}function iy(n){return j1(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function _h(n){return decodeURIComponent(n)}function U1(n){return _h(n.replace(/\+/g,"%20"))}function $1(n){return`${iy(n.path)}${function c6(n){return Object.keys(n).map(e=>`;${iy(e)}=${iy(n[e])}`).join("")}(n.parameters)}`}const h6=/^[^\/()?;=#]+/;function yh(n){const e=n.match(h6);return e?e[0]:""}const f6=/^[^=?&#]+/,g6=/^[^&#]+/;class _6{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ge([],{}):new ge([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[he]=new ge(e,t)),r}parseSegment(){const e=yh(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new il(_h(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=yh(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=yh(this.remaining);i&&(r=i,this.capture(r))}e[_h(t)]=_h(r)}parseQueryParam(e){const t=function p6(n){const e=n.match(f6);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const s=function m6(n){const e=n.match(g6);return e?e[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const i=U1(t),o=U1(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=yh(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=he);const s=this.parseChildren();t[o]=1===Object.keys(s).length?s[he]:new ge([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class H1{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=oy(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=oy(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=sy(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return sy(e,this._root).map(t=>t.value)}}function oy(n,e){if(n===e.value)return e;for(const t of e.children){const r=oy(n,t);if(r)return r}return null}function sy(n,e){if(n===e.value)return[e];for(const t of e.children){const r=sy(n,t);if(r.length)return r.unshift(e),r}return[]}class ri{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Ys(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class G1 extends H1{constructor(e,t){super(e),this.snapshot=t,ay(this,e)}toString(){return this.snapshot.toString()}}function q1(n,e){const t=function y6(n,e){const s=new vh([],{},{},"",{},he,e,null,n.root,-1,{});return new W1("",new ri(s,[]))}(n,e),r=new lr([new il("",{})]),i=new lr({}),o=new lr({}),s=new lr({}),a=new lr(""),u=new Js(r,i,s,a,o,he,e,t.root);return u.snapshot=t.root,new G1(new ri(u,[]),t)}class Js{constructor(e,t,r,i,o,s,a,u){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this._futureSnapshot=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Te(e=>Qs(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Te(e=>Qs(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function z1(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],o=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function v6(n){return n.reduce((e,t)=>{var r;return{params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign(Object.assign(Object.assign({},t.data),e.resolve),null===(r=t.routeConfig)||void 0===r?void 0:r.data),t._resolvedData)}},{params:{},data:{},resolve:{}})}(t.slice(r))}class vh{constructor(e,t,r,i,o,s,a,u,l,c,d,h){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._urlSegment=l,this._lastPathIndex=c,this._correctedLastPathIndex=null!=h?h:c,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Qs(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Qs(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class W1 extends H1{constructor(e,t){super(t),this.url=e,ay(this,t)}toString(){return K1(this._root)}}function ay(n,e){e.value._routerState=n,e.children.forEach(t=>ay(n,t))}function K1(n){const e=n.children.length>0?` { ${n.children.map(K1).join(", ")} } `:"";return`${n.value}${e}`}function uy(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Sr(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Sr(e.params,t.params)||n.params.next(t.params),function t6(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Sr(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Sr(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function ly(n,e){const t=Sr(n.params,e.params)&&function s6(n,e){return Io(n,e)&&n.every((t,r)=>Sr(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||ly(n.parent,e.parent))}function sl(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function w6(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return sl(n,r,i);return sl(n,r)})}(n,e,t);return new ri(r,i)}{if(n.shouldAttach(e.value)){const o=n.retrieve(e.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>sl(n,a)),s}}const r=function C6(n){return new Js(new lr(n.url),new lr(n.params),new lr(n.queryParams),new lr(n.fragment),new lr(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(o=>sl(n,o));return new ri(r,i)}}function Eh(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function al(n){return"object"==typeof n&&null!=n&&n.outlets}function cy(n,e,t,r,i){let o={};if(r&&kt(r,(a,u)=>{o[u]=Array.isArray(a)?a.map(l=>`${l}`):`${a}`}),n===e)return new Do(t,o,i);const s=Q1(n,e,t);return new Do(s,o,i)}function Q1(n,e,t){const r={};return kt(n.children,(i,o)=>{r[o]=i===e?t:Q1(i,e,t)}),new ge(n.segments,r)}class Y1{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Eh(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(al);if(i&&i!==P1(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class dy{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function J1(n,e,t){if(n||(n=new ge([],{})),0===n.segments.length&&n.hasChildren())return wh(n,e,t);const r=function S6(n,e,t){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;const s=n.segments[i],a=t[r];if(al(a))break;const u=`${a}`,l=r<t.length-1?t[r+1]:null;if(i>0&&void 0===u)break;if(u&&l&&"object"==typeof l&&void 0===l.outlets){if(!Z1(u,l,s))return o;r+=2}else{if(!Z1(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const o=new ge(n.segments.slice(0,r.pathIndex),{});return o.children[he]=new ge(n.segments.slice(r.pathIndex),n.children),wh(o,0,i)}return r.match&&0===i.length?new ge(n.segments,{}):r.match&&!n.hasChildren()?hy(n,e,t):r.match?wh(n,0,i):hy(n,e,t)}function wh(n,e,t){if(0===t.length)return new ge(n.segments,{});{const r=function A6(n){return al(n[0])?n[0].outlets:{[he]:n}}(t),i={};return kt(r,(o,s)=>{"string"==typeof o&&(o=[o]),null!==o&&(i[s]=J1(n.children[s],e,o))}),kt(n.children,(o,s)=>{void 0===r[s]&&(i[s]=o)}),new ge(n.segments,i)}}function hy(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const o=t[i];if(al(o)){const u=M6(o.outlets);return new ge(r,u)}if(0===i&&Eh(t[0])){r.push(new il(n.segments[e].path,X1(t[0]))),i++;continue}const s=al(o)?o.outlets[he]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&Eh(a)?(r.push(new il(s,X1(a))),i+=2):(r.push(new il(s,{})),i++)}return new ge(r,{})}function M6(n){const e={};return kt(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=hy(new ge([],{}),0,t))}),e}function X1(n){const e={};return kt(n,(t,r)=>e[r]=`${t}`),e}function Z1(n,e,t){return n==t.path&&Sr(e,t.parameters)}class R6{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new ul,this.attachRef=null}}class ul{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new R6,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let fy=(()=>{class n{constructor(t,r,i,o,s){this.parentContexts=t,this.location=r,this.changeDetector=o,this.environmentInjector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new Ge,this.deactivateEvents=new Ge,this.attachEvents=new Ge,this.detachEvents=new Ge,this.name=i||he,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const i=this.location,s=t._futureSnapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new x6(t,a,i.injector);if(r&&function P6(n){return!!n.resolveComponentFactory}(r)){const l=r.resolveComponentFactory(s);this.activated=i.createComponent(l,i.length,u)}else this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:null!=r?r:this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(T(ul),T(sr),au("name"),T(kd),T(uo))},n.\u0275dir=X({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class x6{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Js?this.route:e===ul?this.childContexts:this.parent.get(e,t)}}let eM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Jn({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&j(0,"router-outlet")},dependencies:[fy],encapsulation:2}),n})();function tM(n,e){var t;return n.providers&&!n._injector&&(n._injector=Md(n.providers,e,`Route: ${n.path}`)),null!==(t=n._injector)&&void 0!==t?t:e}function gy(n){const e=n.children&&n.children.map(gy),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==he&&(t.component=eM),t}function Wn(n){return n.outlet||he}function nM(n,e){const t=n.filter(r=>Wn(r)===e);return t.push(...n.filter(r=>Wn(r)!==e)),t}function rM(n){var e;if(!n)return null;if(null!==(e=n.routeConfig)&&void 0!==e&&e._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const r=t.routeConfig;if(null!=r&&r._loadedInjector)return r._loadedInjector;if(null!=r&&r._injector)return r._injector}return null}class k6{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),uy(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Ys(t);e.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),kt(i,(o,s)=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){const i=e.value,o=t?t.value:null;if(i===o)if(i.component){const s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Ys(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Ys(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=Ys(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new J5(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Q5(e.value.snapshot))}activateRoutes(e,t,r){var i;const o=e.value,s=t?t.value:null;if(uy(o),o===s)if(o.component){const a=r.getOrCreateContext(o.outlet);this.activateChildRoutes(e,t,a.children)}else this.activateChildRoutes(e,t,r);else if(o.component){const a=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const u=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),a.children.onOutletReAttached(u.contexts),a.attachRef=u.componentRef,a.route=u.route.value,a.outlet&&a.outlet.attach(u.componentRef,u.route.value),uy(u.route.value),this.activateChildRoutes(e,null,a.children)}else{const u=rM(o.snapshot),l=null!==(i=null==u?void 0:u.get(Vu))&&void 0!==i?i:null;a.attachRef=null,a.route=o,a.resolver=l,a.injector=u,a.outlet&&a.outlet.activateWith(o,a.injector),this.activateChildRoutes(e,null,a.children)}}else this.activateChildRoutes(e,null,r)}}function Si(n){return"function"==typeof n}function To(n){return n instanceof Do}const ll=Symbol("INITIAL_VALUE");function cl(){return wo(n=>w1(n.map(e=>e.pipe(Ya(1),function F5(...n){const e=Qa(n);return Ft((t,r)=>{(e?J_(n,t,e):J_(n,t)).subscribe(r)})}(ll)))).pipe(T1((e,t)=>{let r=!1;return t.reduce((i,o,s)=>i!==ll?i:(o===ll&&(r=!0),r||!1!==o&&s!==t.length-1&&!To(o)?i:o),e)},ll),Eo(e=>e!==ll),Te(e=>To(e)?e:!0===e),Ya(1)))}const iM={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Ch(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},iM):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const o=(e.matcher||e6)(t,n,e);if(!o)return Object.assign({},iM);const s={};kt(o.posParams,(u,l)=>{s[l]=u.path});const a=o.consumed.length>0?Object.assign(Object.assign({},s),o.consumed[o.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:o.consumed,remainingSegments:t.slice(o.consumed.length),parameters:a,positionalParamSegments:null!==(r=o.posParams)&&void 0!==r?r:{}}}function Dh(n,e,t,r,i="corrected"){if(t.length>0&&function q6(n,e,t){return t.some(r=>Ih(n,e,r)&&Wn(r)!==he)}(n,t,r)){const s=new ge(e,function G6(n,e,t,r){const i={};i[he]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const o of t)if(""===o.path&&Wn(o)!==he){const s=new ge([],{});s._sourceSegment=n,s._segmentIndexShift=e.length,i[Wn(o)]=s}return i}(n,e,r,new ge(t,n.children)));return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:[]}}if(0===t.length&&function z6(n,e,t){return t.some(r=>Ih(n,e,r))}(n,t,r)){const s=new ge(n.segments,function H6(n,e,t,r,i,o){const s={};for(const a of r)if(Ih(n,t,a)&&!i[Wn(a)]){const u=new ge([],{});u._sourceSegment=n,u._segmentIndexShift="legacy"===o?n.segments.length:e.length,s[Wn(a)]=u}return Object.assign(Object.assign({},i),s)}(n,e,t,r,n.children,i));return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}const o=new ge(n.segments,n.children);return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:t}}function Ih(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function oM(n,e,t,r){return!!(Wn(n)===r||r!==he&&Ih(e,t,n))&&("**"===n.path||Ch(e,n,t).matched)}function sM(n,e,t){return 0===e.length&&!n.children[t]}class Th{constructor(e){this.segmentGroup=e||null}}class aM{constructor(e){this.urlTree=e}}function dl(n){return tl(new Th(n))}function uM(n){return tl(new aM(n))}class Y6{constructor(e,t,r,i,o){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=o,this.allowRedirects=!0}apply(){const e=Dh(this.urlTree.root,[],[],this.config).segmentGroup,t=new ge(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,he).pipe(Te(o=>this.createUrlTree(my(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ai(o=>{if(o instanceof aM)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof Th?this.noMatchError(o):o}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,he).pipe(Te(i=>this.createUrlTree(my(i),e.queryParams,e.fragment))).pipe(Ai(i=>{throw i instanceof Th?this.noMatchError(i):i}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const i=e.segments.length>0?new ge([],{[he]:e}):e;return new Do(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe(Te(o=>new ge([],o))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return vt(i).pipe(Ks(o=>{const s=r.children[o],a=nM(t,o);return this.expandSegmentGroup(e,a,s,o).pipe(Te(u=>({segment:u,outlet:o})))}),T1((o,s)=>(o[s.outlet]=s.segment,o),{}),function L5(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Eo((i,o)=>n(i,o,r)):Zi,Z_(1),t?ey(e):b1(()=>new nl))}())}expandSegment(e,t,r,i,o,s){return vt(r).pipe(Ks(a=>this.expandSegmentAgainstRoute(e,t,r,a,i,o,s).pipe(Ai(l=>{if(l instanceof Th)return ie(null);throw l}))),Co(a=>!!a),Ai((a,u)=>{if(a instanceof nl||"EmptyError"===a.name)return sM(t,i,o)?ie(new ge([],{})):dl(t);throw a}))}expandSegmentAgainstRoute(e,t,r,i,o,s,a){return oM(i,t,o,s)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,o,s):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s):dl(t):dl(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,s):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const o=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?uM(o):this.lineralizeSegments(r,o).pipe(Ot(s=>{const a=new ge(s,{});return this.expandSegment(e,a,t,s,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s){const{matched:a,consumedSegments:u,remainingSegments:l,positionalParamSegments:c}=Ch(t,i,o);if(!a)return dl(t);const d=this.applyRedirectCommands(u,i.redirectTo,c);return i.redirectTo.startsWith("/")?uM(d):this.lineralizeSegments(i,d).pipe(Ot(h=>this.expandSegment(e,t,r,h.concat(l),s,!1)))}matchSegmentAgainstRoute(e,t,r,i,o){if("**"===r.path)return e=tM(r,e),r.loadChildren?(r._loadedRoutes?ie({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe(Te(d=>(r._loadedRoutes=d.routes,r._loadedInjector=d.injector,new ge(i,{})))):ie(new ge(i,{}));const{matched:s,consumedSegments:a,remainingSegments:u}=Ch(t,r,i);return s?(e=tM(r,e),this.getChildConfig(e,r,i).pipe(Ot(c=>{var d;const h=null!==(d=c.injector)&&void 0!==d?d:e,f=c.routes,{segmentGroup:p,slicedSegments:g}=Dh(t,a,u,f),m=new ge(p.segments,p.children);if(0===g.length&&m.hasChildren())return this.expandChildren(h,f,m).pipe(Te(b=>new ge(a,b)));if(0===f.length&&0===g.length)return ie(new ge(a,{}));const _=Wn(r)===o;return this.expandSegment(h,m,f,g,_?he:o,!0).pipe(Te(y=>new ge(a.concat(y.segments),y.children)))}))):dl(t)}getChildConfig(e,t,r){return t.children?ie({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?ie({routes:t._loadedRoutes,injector:t._loadedInjector}):this.runCanLoadGuards(e,t,r).pipe(Ot(i=>i?this.configLoader.loadChildren(e,t).pipe(Jt(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):function K6(n){return tl(ry(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(t))):ie({routes:[],injector:e})}runCanLoadGuards(e,t,r){const i=t.canLoad;return i&&0!==i.length?ie(i.map(s=>{const a=e.get(s);let u;if(function B6(n){return n&&Si(n.canLoad)}(a))u=a.canLoad(t,r);else{if(!Si(a))throw new Error("Invalid CanLoad guard");u=a(t,r)}return cr(u)})).pipe(cl(),Jt(s=>{if(!To(s))return;const a=ry(`Redirecting to "${this.urlSerializer.serialize(s)}"`);throw a.url=s,a}),Te(s=>!0===s)):ie(!0)}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return ie(r);if(i.numberOfChildren>1||!i.children[he])return tl(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e.redirectTo}'`));i=i.children[he]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,i){const o=this.createSegmentGroup(e,t.root,r,i);return new Do(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return kt(e,(i,o)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[o]=t[a]}else r[o]=i}),r}createSegmentGroup(e,t,r,i){const o=this.createSegments(e,t.segments,r,i);let s={};return kt(t.children,(a,u)=>{s[u]=this.createSegmentGroup(e,a,r,i)}),new ge(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}function my(n){const e={};for(const r of Object.keys(n.children)){const o=my(n.children[r]);(o.segments.length>0||o.hasChildren())&&(e[r]=o)}return function J6(n){if(1===n.numberOfChildren&&n.children[he]){const e=n.children[he];return new ge(n.segments.concat(e.segments),e.children)}return n}(new ge(n.segments,e))}class lM{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class bh{constructor(e,t){this.component=e,this.route=t}}function Z6(n,e,t){const r=n._root;return hl(r,e?e._root:null,t,[r.value])}function Ah(n,e,t){const r=rM(e);return(null!=r?r:t).get(n)}function hl(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=Ys(e);return n.children.forEach(s=>{(function t9(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const u=function n9(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Io(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Io(n.url,e.url)||!Sr(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ly(n,e)||!Sr(n.queryParams,e.queryParams);default:return!ly(n,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new lM(r)):(o.data=s.data,o._resolvedData=s._resolvedData),hl(n,e,o.component?a?a.children:null:t,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new bh(a.outlet.component,s))}else s&&fl(e,a,i),i.canActivateChecks.push(new lM(r)),hl(n,null,o.component?a?a.children:null:t,r,i)})(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),kt(o,(s,a)=>fl(s,t.getContext(a),i)),i}function fl(n,e,t){const r=Ys(n),i=n.value;kt(r,(o,s)=>{fl(o,i.component?e?e.children.getContext(s):null:e,t)}),t.canDeactivateChecks.push(new bh(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class d9{}function dM(n){return new st(e=>e.error(n))}class f9{constructor(e,t,r,i,o,s){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=s}recognize(){const e=Dh(this.urlTree.root,[],[],this.config.filter(s=>void 0===s.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,he);if(null===t)return null;const r=new vh([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},he,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new ri(r,t),o=new W1(this.url,i);return this.inheritParamsAndData(o._root),o}inheritParamsAndData(e){const t=e.value,r=z1(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const o of Object.keys(t.children)){const s=t.children[o],a=nM(e,o),u=this.processSegmentGroup(a,s,o);if(null===u)return null;r.push(...u)}const i=hM(r);return function p9(n){n.sort((e,t)=>e.value.outlet===he?-1:t.value.outlet===he?1:e.value.outlet.localeCompare(t.value.outlet))}(i),i}processSegment(e,t,r,i){for(const o of e){const s=this.processSegmentAgainstRoute(o,t,r,i);if(null!==s)return s}return sM(t,r,i)?[]:null}processSegmentAgainstRoute(e,t,r,i){var o,s,a,u;if(e.redirectTo||!oM(e,t,r,i))return null;let l,c=[],d=[];if("**"===e.path){const _=r.length>0?P1(r).parameters:{},I=pM(t)+r.length;l=new vh(r,_,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,mM(e),Wn(e),null!==(s=null!==(o=e.component)&&void 0!==o?o:e._loadedComponent)&&void 0!==s?s:null,e,fM(t),I,_M(e),I)}else{const _=Ch(t,e,r);if(!_.matched)return null;c=_.consumedSegments,d=_.remainingSegments;const I=pM(t)+c.length;l=new vh(c,_.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,mM(e),Wn(e),null!==(u=null!==(a=e.component)&&void 0!==a?a:e._loadedComponent)&&void 0!==u?u:null,e,fM(t),I,_M(e),I)}const h=function g9(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(e),{segmentGroup:f,slicedSegments:p}=Dh(t,c,d,h.filter(_=>void 0===_.redirectTo),this.relativeLinkResolution);if(0===p.length&&f.hasChildren()){const _=this.processChildren(h,f);return null===_?null:[new ri(l,_)]}if(0===h.length&&0===p.length)return[new ri(l,[])];const g=Wn(e)===i,m=this.processSegment(h,f,p,g?he:i);return null===m?null:[new ri(l,m)]}}function m9(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function hM(n){const e=[],t=new Set;for(const r of n){if(!m9(r)){e.push(r);continue}const i=e.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=hM(r.children);e.push(new ri(r.value,i))}return e.filter(r=>!t.has(r))}function fM(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function pM(n){var e,t;let r=n,i=null!==(e=r._segmentIndexShift)&&void 0!==e?e:0;for(;r._sourceSegment;)r=r._sourceSegment,i+=null!==(t=r._segmentIndexShift)&&void 0!==t?t:0;return i-1}function mM(n){return n.data||{}}function _M(n){return n.resolve||{}}const _y=Symbol("RouteTitle");function yM(n){return"string"==typeof n.title||null===n.title}function yy(n){return wo(e=>{const t=n(e);return t?vt(t).pipe(Te(()=>e)):ie(e)})}class T9 extends class I9{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const vy=new Q("ROUTES");let Ey=(()=>{class n{constructor(t,r){this.injector=t,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return ie(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=cr(t.loadComponent()).pipe(Jt(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),ty(()=>{this.componentLoaders.delete(t)})),i=new I1(r,()=>new fr).pipe(X_());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return ie({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const o=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(Te(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let u,l,c=!1;Array.isArray(a)?l=a:(u=a.create(t).injector,l=x1(u.get(vy,[],K.Self|K.Optional)));return{routes:l.map(gy),injector:u}}),ty(()=>{this.childrenLoaders.delete(r)})),s=new I1(o,()=>new fr).pipe(X_());return this.childrenLoaders.set(r,s),s}loadModuleFactoryOrRoutes(t){return cr(t()).pipe(Ot(r=>r instanceof ob||Array.isArray(r)?ie(r):vt(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)(k(Kt),k(zm))},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})();class A9{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function M9(n){throw n}function R9(n,e,t){return e.parse("/")}const x9={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},P9={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Lt=(()=>{class n{constructor(t,r,i,o,s,a,u){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=o,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new fr,this.errorHandler=M9,this.malformedUriErrorHandler=R9,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>ie(void 0),this.urlHandlingStrategy=new A9,this.routeReuseStrategy=new T9,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=s.get(Ey),this.configLoader.onLoadEndListener=h=>this.triggerEvent(new W5(h)),this.configLoader.onLoadStartListener=h=>this.triggerEvent(new z5(h)),this.ngModule=s.get(wi),this.console=s.get(Ej);const d=s.get(pt);this.isNgZoneEnabled=d instanceof pt&&pt.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=function n6(){return new Do(new ge([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=q1(this.currentUrlTree,this.rootComponentType),this.transitions=new lr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(Eo(i=>0!==i.id),Te(i=>Object.assign(Object.assign({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),wo(i=>{let o=!1,s=!1;return ie(i).pipe(Jt(a=>{this.currentNavigation={id:a.id,initialUrl:a.rawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),wo(a=>{const u=this.browserUrlTree.toString(),l=!this.navigated||a.extractedUrl.toString()!==u||u!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||l)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return EM(a.source)&&(this.browserUrlTree=a.extractedUrl),ie(a).pipe(wo(d=>{const h=this.transitions.getValue();return r.next(new ny(d.id,this.serializeUrl(d.extractedUrl),d.source,d.restoredState)),h!==this.transitions.getValue()?Lr:Promise.resolve(d)}),function X6(n,e,t,r){return wo(i=>function Q6(n,e,t,r,i){return new Y6(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe(Te(o=>Object.assign(Object.assign({},i),{urlAfterRedirects:o}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),Jt(d=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:d.urlAfterRedirects})}),function _9(n,e,t,r,i){return Ot(o=>function h9(n,e,t,r,i="emptyOnly",o="legacy"){try{const s=new f9(n,e,t,r,i,o).recognize();return null===s?dM(new d9):ie(s)}catch(s){return dM(s)}}(n,e,o.urlAfterRedirects,t(o.urlAfterRedirects),r,i).pipe(Te(s=>Object.assign(Object.assign({},o),{targetSnapshot:s}))))}(this.rootComponentType,this.config,d=>this.serializeUrl(d),this.paramsInheritanceStrategy,this.relativeLinkResolution),Jt(d=>{if("eager"===this.urlUpdateStrategy){if(!d.extras.skipLocationChange){const f=this.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl);this.setBrowserUrl(f,d)}this.browserUrlTree=d.urlAfterRedirects}const h=new U5(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);r.next(h)}));if(l&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:h,extractedUrl:f,source:p,restoredState:g,extras:m}=a,_=new ny(h,this.serializeUrl(f),p,g);r.next(_);const I=q1(f,this.rootComponentType).snapshot;return ie(Object.assign(Object.assign({},a),{targetSnapshot:I,urlAfterRedirects:f,extras:Object.assign(Object.assign({},m),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=a.rawUrl,a.resolve(null),Lr}),Jt(a=>{const u=new $5(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(u)}),Te(a=>Object.assign(Object.assign({},a),{guards:Z6(a.targetSnapshot,a.currentSnapshot,this.rootContexts)})),function r9(n,e){return Ot(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return 0===s.length&&0===o.length?ie(Object.assign(Object.assign({},t),{guardsResult:!0})):function i9(n,e,t,r){return vt(n).pipe(Ot(i=>function c9(n,e,t,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?ie(o.map(a=>{const u=Ah(a,e,i);let l;if(function $6(n){return n&&Si(n.canDeactivate)}(u))l=cr(u.canDeactivate(n,e,t,r));else{if(!Si(u))throw new Error("Invalid CanDeactivate guard");l=cr(u(n,e,t,r))}return l.pipe(Co())})).pipe(cl()):ie(!0)}(i.component,i.route,t,e,r)),Co(i=>!0!==i,!0))}(s,r,i,n).pipe(Ot(a=>a&&function L6(n){return"boolean"==typeof n}(a)?function o9(n,e,t,r){return vt(e).pipe(Ks(i=>J_(function a9(n,e){return null!==n&&e&&e(new K5(n)),ie(!0)}(i.route.parent,r),function s9(n,e){return null!==n&&e&&e(new Y5(n)),ie(!0)}(i.route,r),function l9(n,e,t){const r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>function e9(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(s)).filter(s=>null!==s).map(s=>D1(()=>ie(s.guards.map(u=>{const l=Ah(u,s.node,t);let c;if(function U6(n){return n&&Si(n.canActivateChild)}(l))c=cr(l.canActivateChild(r,n));else{if(!Si(l))throw new Error("Invalid CanActivateChild guard");c=cr(l(r,n))}return c.pipe(Co())})).pipe(cl())));return ie(o).pipe(cl())}(n,i.path,t),function u9(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return ie(!0);const i=r.map(o=>D1(()=>{const s=Ah(o,e,t);let a;if(function j6(n){return n&&Si(n.canActivate)}(s))a=cr(s.canActivate(e,n));else{if(!Si(s))throw new Error("Invalid CanActivate guard");a=cr(s(e,n))}return a.pipe(Co())}));return ie(i).pipe(cl())}(n,i.route,t))),Co(i=>!0!==i,!0))}(r,o,n,e):ie(a)),Te(a=>Object.assign(Object.assign({},t),{guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),Jt(a=>{if(To(a.guardsResult)){const l=ry(`Redirecting to "${this.serializeUrl(a.guardsResult)}"`);throw l.url=a.guardsResult,l}const u=new H5(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(u)}),Eo(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,""),!1)),yy(a=>{if(a.guards.canActivateChecks.length)return ie(a).pipe(Jt(u=>{const l=new G5(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot);this.triggerEvent(l)}),wo(u=>{let l=!1;return ie(u).pipe(function y9(n,e){return Ot(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return ie(t);let o=0;return vt(i).pipe(Ks(s=>function v9(n,e,t,r){const i=n.routeConfig,o=n._resolve;return void 0!==(null==i?void 0:i.title)&&!yM(i)&&(o[_y]=i.title),function E9(n,e,t,r){const i=function w9(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return ie({});const o={};return vt(i).pipe(Ot(s=>function C9(n,e,t,r){const i=Ah(n,e,r);return cr(i.resolve?i.resolve(e,t):i(e,t))}(n[s],e,t,r).pipe(Co(),Jt(a=>{o[s]=a}))),Z_(1),function B5(n){return Te(()=>n)}(o),Ai(s=>s instanceof nl?Lr:tl(s)))}(o,n,e,r).pipe(Te(s=>(n._resolvedData=s,n.data=z1(n,t).resolve,i&&yM(i)&&(n.data[_y]=i.title),null)))}(s.route,r,n,e)),Jt(()=>o++),Z_(1),Ot(s=>o===i.length?ie(t):Lr))})}(this.paramsInheritanceStrategy,this.ngModule.injector),Jt({next:()=>l=!0,complete:()=>{l||(this.restoreHistory(u),this.cancelNavigationTransition(u,"At least one route resolver didn't emit any value."))}}))}),Jt(u=>{const l=new q5(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot);this.triggerEvent(l)}))}),yy(()=>this.afterPreactivation()),yy(a=>{const u=l=>{var c;const d=[];(null===(c=l.routeConfig)||void 0===c?void 0:c.loadComponent)&&!l.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(l.routeConfig).pipe(Jt(h=>{l.component=h}),Te(()=>{})));for(const h of l.children)d.push(...u(h));return d};return w1(u(a.targetSnapshot.root)).pipe(ey(),Ya(1))}),Te(a=>{const u=function E6(n,e,t){const r=sl(n,e._root,t?t._root:void 0);return new G1(r,e)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return Object.assign(Object.assign({},a),{targetRouterState:u})}),Jt(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((n,e,t)=>Te(r=>(new k6(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),Jt({next(){o=!0},complete(){o=!0}}),ty(()=>{var a;o||s||this.cancelNavigationTransition(i,`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`),(null===(a=this.currentNavigation)||void 0===a?void 0:a.id)===i.id&&(this.currentNavigation=null)}),Ai(a=>{if(s=!0,function Z5(n){return n&&n[M1]}(a)){const u=To(a.url);u||(this.navigated=!0,this.restoreHistory(i,!0));const l=new A1(i.id,this.serializeUrl(i.extractedUrl),a.message);if(r.next(l),u){const c=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),d={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||EM(i.source)};this.scheduleNavigation(c,"imperative",null,d,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{this.restoreHistory(i,!0);const u=new j5(i.id,this.serializeUrl(i.extractedUrl),a);r.next(u);try{i.resolve(this.errorHandler(a))}catch(l){i.reject(l)}}return Lr}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var i;const o={replaceUrl:!0},s=null!==(i=t.state)&&void 0!==i&&i.navigationId?t.state:null;if(s){const u=Object.assign({},s);delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(o.state=u)}const a=this.parseUrl(t.url);this.scheduleNavigation(a,r,s,o)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){this.config=t.map(gy),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,l=i||this.routerState.root,c=u?this.currentUrlTree.fragment:s;let d=null;switch(a){case"merge":d=Object.assign(Object.assign({},this.currentUrlTree.queryParams),o);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}return null!==d&&(d=this.removeEmptyProps(d)),function D6(n,e,t,r,i){var o;if(0===t.length)return cy(e.root,e.root,e.root,r,i);const a=function I6(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Y1(!0,0,n);let e=0,t=!1;const r=n.reduce((i,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return kt(o.outlets,(u,l)=>{a[l]="string"==typeof u?u.split("/"):u}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===s?(o.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?t=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,o]},[]);return new Y1(t,e,r)}(t);return a.toRoot()?cy(e.root,e.root,new ge([],{}),r,i):function u(c){var d;const h=function T6(n,e,t,r){return n.isAbsolute?new dy(e.root,!0,0):-1===r?new dy(t,t===e.root,0):function b6(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new dy(r,!1,i-o)}(t,r+(Eh(n.commands[0])?0:1),n.numberOfDoubleDots)}(a,e,null===(d=n.snapshot)||void 0===d?void 0:d._urlSegment,c),f=h.processChildren?wh(h.segmentGroup,h.index,a.commands):J1(h.segmentGroup,h.index,a.commands);return cy(e.root,h.segmentGroup,f,r,i)}(null===(o=n.snapshot)||void 0===o?void 0:o._lastPathIndex)}(l,this.currentUrlTree,t,d,null!=c?c:null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=To(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function N9(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?Object.assign({},x9):!1===r?Object.assign({},P9):r,To(t))return V1(this.currentUrlTree,t,i);const o=this.parseUrl(t);return V1(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const o=t[i];return null!=o&&(r[i]=o),r},{})}processNavigations(){this.navigations.subscribe(t=>{var r;this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new rl(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,null===(r=this.titleStrategy)||void 0===r||r.updateTitle(this.routerState.snapshot),t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,o,s){var a,u;if(this.disposed)return Promise.resolve(!1);let l,c,d;s?(l=s.resolve,c=s.reject,d=s.promise):d=new Promise((p,g)=>{l=p,c=g});const h=++this.navigationId;let f;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),f=i&&i.\u0275routerPageId?i.\u0275routerPageId:o.replaceUrl||o.skipLocationChange?null!==(a=this.browserPageId)&&void 0!==a?a:0:(null!==(u=this.browserPageId)&&void 0!==u?u:0)+1):f=0,this.setTransition({id:h,targetPageId:f,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:o,resolve:l,reject:c,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(p=>Promise.reject(p))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),o=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",o):this.location.go(i,"",o)}restoreHistory(t,r=!1){var i,o;if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)||0===s?this.currentUrlTree===(null===(o=this.currentNavigation)||void 0===o?void 0:o.finalUrl)&&0===s&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(s)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const i=new A1(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(i),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){Og()},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})();function EM(n){return"imperative"!==n}let wy=(()=>{class n{constructor(t,r,i,o,s){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.commands=null,this.onChanges=new fr,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const r=this.renderer,i=this.el.nativeElement;null!==t?r.setAttribute(i,"tabindex",t):r.removeAttribute(i,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const t={skipLocationChange:Xr(this.skipLocationChange),replaceUrl:Xr(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Xr(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(T(Lt),T(Js),au("tabindex"),T(Kr),T(Pn))},n.\u0275dir=X({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,r){1&t&&x("click",function(){return r.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[jn]}),n})(),Sh=(()=>{class n{constructor(t,r,i){this.router=t,this.route=r,this.locationStrategy=i,this.commands=null,this.href=null,this.onChanges=new fr,this.subscription=t.events.subscribe(o=>{o instanceof rl&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,i,o,s){if(0!==t||r||i||o||s||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const a={skipLocationChange:Xr(this.skipLocationChange),replaceUrl:Xr(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,a),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Xr(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(T(Lt),T(Js),T(Hs))},n.\u0275dir=X({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&x("click",function(o){return r.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&t&&Cr("target",r.target)("href",r.href,ig)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[jn]}),n})(),wM=(()=>{class n{constructor(t,r,i,o,s,a){this.router=t,this.element=r,this.renderer=i,this.cdr=o,this.link=s,this.linkWithHref=a,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new Ge,this.routerEventsSubscription=t.events.subscribe(u=>{u instanceof rl&&this.update()})}ngAfterContentInit(){ie(this.links.changes,this.linksWithHrefs.changes,ie(null)).pipe(es()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var t;null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe();const r=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=vt(r).pipe(es()).subscribe(i=>{this.isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(t){const r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){var t;this.routerEventsSubscription.unsubscribe(),null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.cdr.markForCheck(),this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(t))})}isLinkActive(t){const r=function V9(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>!!i.urlTree&&t.isActive(i.urlTree,r)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}return n.\u0275fac=function(t){return new(t||n)(T(Lt),T(Pn),T(Kr),T(kd),T(wy,8),T(Sh,8))},n.\u0275dir=X({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(t,r,i){if(1&t&&(Lm(i,wy,5),Lm(i,Sh,5)),2&t){let o;Bu(o=ju())&&(r.links=o),Bu(o=ju())&&(r.linksWithHrefs=o)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[jn]}),n})();class CM{buildTitle(e){var t;let r,i=e.root;for(;void 0!==i;)r=null!==(t=this.getResolvedTitleForRoute(i))&&void 0!==t?t:r,i=i.children.find(o=>o.outlet===he);return r}getResolvedTitleForRoute(e){return e.data[_y]}}let F9=(()=>{class n extends CM{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(k(tS))},n.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class DM{}class IM{preload(e,t){return ie(null)}}let TM=(()=>{class n{constructor(t,r,i,o,s){this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Eo(t=>t instanceof rl),Ks(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){var i,o,s;const a=[];for(const u of r){u.providers&&!u._injector&&(u._injector=Md(u.providers,t,`Route: ${u.path}`));const l=null!==(i=u._injector)&&void 0!==i?i:t,c=null!==(o=u._loadedInjector)&&void 0!==o?o:l;u.loadChildren&&!u._loadedRoutes||u.loadComponent&&!u._loadedComponent?a.push(this.preloadConfig(l,u)):(u.children||u._loadedRoutes)&&a.push(this.processRoutes(c,null!==(s=u.children)&&void 0!==s?s:u._loadedRoutes))}return vt(a).pipe(es())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):ie(null);const o=i.pipe(Ot(s=>{var a;return null===s?ie(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(null!==(a=s.injector)&&void 0!==a?a:t,s.routes))}));return r.loadComponent&&!r._loadedComponent?vt([o,this.loader.loadComponent(r)]).pipe(es()):o})}}return n.\u0275fac=function(t){return new(t||n)(k(Lt),k(zm),k(uo),k(DM),k(Ey))},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})(),Cy=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof ny?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof rl&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof S1&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new S1(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){Og()},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})();const bo=new Q("ROUTER_CONFIGURATION"),bM=new Q("ROUTER_FORROOT_GUARD"),k9=[i_,{provide:L1,useClass:B1},{provide:Lt,useFactory:function H9(n,e,t,r,i,o,s={},a,u,l,c){const d=new Lt(null,n,e,t,r,i,x1(o));return l&&(d.urlHandlingStrategy=l),c&&(d.routeReuseStrategy=c),d.titleStrategy=null!=u?u:a,function G9(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(s,d),d},deps:[L1,ul,i_,Kt,zm,vy,bo,F9,[CM,new Gr],[class b9{},new Gr],[class D9{},new Gr]]},ul,{provide:Js,useFactory:function q9(n){return n.routerState.root},deps:[Lt]},TM,IM,class O9{preload(e,t){return t().pipe(Ai(()=>ie(null)))}},{provide:bo,useValue:{enableTracing:!1}},Ey];function L9(){return new Jb("Router",Lt)}let B9=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[k9,AM(t),{provide:bM,useFactory:$9,deps:[[Lt,new Gr,new pu]]},{provide:bo,useValue:r||{}},{provide:Hs,useFactory:U9,deps:[qu,[new nd($d),new Gr],bo]},{provide:Cy,useFactory:j9,deps:[Lt,b$,bo]},{provide:DM,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:IM},{provide:Jb,multi:!0,useFactory:L9},[Dy,{provide:Hm,multi:!0,useFactory:z9,deps:[Dy]},{provide:SM,useFactory:W9,deps:[Dy]},{provide:qb,multi:!0,useExisting:SM}]]}}static forChild(t){return{ngModule:n,providers:[AM(t)]}}}return n.\u0275fac=function(t){return new(t||n)(k(bM,8),k(Lt,8))},n.\u0275mod=Ln({type:n}),n.\u0275inj=In({}),n})();function j9(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new Cy(n,e,t)}function U9(n,e,t={}){return t.useHash?new lU(n,e):new EA(n,e)}function $9(n){return"guarded"}function AM(n){return[{provide:UF,multi:!0,useValue:n},{provide:vy,multi:!0,useValue:n}]}let Dy=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new fr}appInitializer(){return this.injector.get(sU,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(a=>r=a),o=this.injector.get(Lt),s=this.injector.get(bo);return"disabled"===s.initialNavigation?(o.setUpLocationChangeListener(),r(!0)):"enabledBlocking"===s.initialNavigation?(o.afterPreactivation=()=>this.initNavigation?ie(void 0):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),o.initialNavigation()):r(!0),i})}bootstrapListener(t){const r=this.injector.get(bo),i=this.injector.get(TM),o=this.injector.get(Cy),s=this.injector.get(Lt),a=this.injector.get(Fd);t===a.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&s.initialNavigation(),i.setUpPreloading(),o.init(),s.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(void 0),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(k(Kt))},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})();function z9(n){return n.appInitializer.bind(n)}function W9(n){return n.bootstrapListener.bind(n)}const SM=new Q("Router Initializer");function MM(n,e,t,r,i,o,s){try{var a=n[o](s),u=a.value}catch(l){return void t(l)}a.done?e(u):Promise.resolve(u).then(r,i)}function P(n){return function(){var e=this,t=arguments;return new Promise(function(r,i){var o=n.apply(e,t);function s(u){MM(o,r,i,s,a,"next",u)}function a(u){MM(o,r,i,s,a,"throw",u)}s(void 0)})}}const RM=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=63&i|128):55296==(64512&i)&&r+1<n.length&&56320==(64512&n.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&n.charCodeAt(++r)),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=63&i|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=63&i|128)}return e},xM={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const o=n[i],s=i+1<n.length,a=s?n[i+1]:0,u=i+2<n.length,l=u?n[i+2]:0;let h=(15&a)<<2|l>>6,f=63&l;u||(f=64,s||(h=64)),r.push(t[o>>2],t[(3&o)<<4|a>>4],t[h],t[f])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(RM(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=n[t++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const u=((7&i)<<18|(63&n[t++])<<12|(63&n[t++])<<6|63&n[t++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const o=n[t++],s=n[t++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;const l=i<n.length?t[n.charAt(i)]:64;++i;const d=i<n.length?t[n.charAt(i)]:64;if(++i,null==o||null==a||null==l||null==d)throw new X9;r.push(o<<2|a>>4),64!==l&&(r.push(a<<4&240|l>>2),64!==d&&r.push(l<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class X9 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Mh=function(n){return function(n){const e=RM(n);return xM.encodeByteArray(e,!0)}(n).replace(/\./g,"")},Rh=()=>{try{return function t8(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if("undefined"==typeof process||void 0===process.env)return;const n=process.env.__FIREBASE_DEFAULTS__;return n?JSON.parse(n):void 0})()||(()=>{if("undefined"==typeof document)return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(t){return}const e=n&&function(n){try{return xM.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null}(n[1]);return e&&JSON.parse(e)})()}catch(n){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`)}},NM=()=>{var n;return null===(n=Rh())||void 0===n?void 0:n.config};class VM{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,r))}}}function Mi(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function FM(){try{return"object"==typeof indexedDB}catch(n){return!1}}class Xs extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,Xs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,OM.prototype.create)}}class OM{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?function h8(n,e){return n.replace(f8,(t,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(o,r):"Error";return new Xs(i,`${this.serviceName}: ${s} (${i}).`,r)}}const f8=/\{\$([^}]+)}/g;function by(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const o=n[i],s=e[i];if(LM(o)&&LM(s)){if(!by(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function LM(n){return null!==n&&"object"==typeof n}function ii(n){return n&&n._delegate?n._delegate:n}class pl{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ao="[DEFAULT]";class w8{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new VM;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch(i){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),i=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function D8(n){return"EAGER"===n.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Ao})}catch(t){}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch(o){}}}}clearInstance(e=Ao){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return P(function*(){const t=Array.from(e.instances.values());yield Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=Ao){return this.instances.has(e)}getOptions(e=Ao){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,s]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(o)&&s.resolve(i);return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),o=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch(o){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(n=e,n===Ao?void 0:n),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch(i){}var n;return r||null}normalizeInstanceIdentifier(e=Ao){return this.component?this.component.multipleInstances?e:Ao:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class I8{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new w8(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const My=[];var ve=(()=>{return(n=ve||(ve={}))[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",ve;var n})();const BM={debug:ve.DEBUG,verbose:ve.VERBOSE,info:ve.INFO,warn:ve.WARN,error:ve.ERROR,silent:ve.SILENT},T8=ve.INFO,b8={[ve.DEBUG]:"log",[ve.VERBOSE]:"log",[ve.INFO]:"info",[ve.WARN]:"warn",[ve.ERROR]:"error"},A8=(n,e,...t)=>{if(e<n.logLevel)return;const r=(new Date).toISOString(),i=b8[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${n.name}:`,...t)};class jM{constructor(e){this.name=e,this._logLevel=T8,this._logHandler=A8,this._userLogHandler=null,My.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?BM[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ve.DEBUG,...e),this._logHandler(this,ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ve.VERBOSE,...e),this._logHandler(this,ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ve.INFO,...e),this._logHandler(this,ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ve.WARN,...e),this._logHandler(this,ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ve.ERROR,...e),this._logHandler(this,ve.ERROR,...e)}}let UM,$M;const HM=new WeakMap,Ry=new WeakMap,GM=new WeakMap,xy=new WeakMap,Py=new WeakMap;let Ny={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return Ry.get(n);if("objectStoreNames"===e)return n.objectStoreNames||GM.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ri(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function F8(n){return"function"==typeof n?function V8(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function R8(){return $M||($M=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(Vy(this),e),Ri(HM.get(this))}:function(...e){return Ri(n.apply(Vy(this),e))}:function(e,...t){const r=n.call(Vy(this),e,...t);return GM.set(r,e.sort?e.sort():[e]),Ri(r)}}(n):(n instanceof IDBTransaction&&function P8(n){if(Ry.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});Ry.set(n,e)}(n),((n,e)=>e.some(t=>n instanceof t))(n,function M8(){return UM||(UM=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,Ny):n)}function Ri(n){if(n instanceof IDBRequest)return function x8(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(Ri(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&HM.set(t,n)}).catch(()=>{}),Py.set(e,n),e}(n);if(xy.has(n))return xy.get(n);const e=F8(n);return e!==n&&(xy.set(n,e),Py.set(e,n)),e}const Vy=n=>Py.get(n),k8=["get","getKey","getAll","getAllKeys","count"],L8=["put","add","delete","clear"],Fy=new Map;function qM(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(Fy.get(e))return Fy.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=L8.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!k8.includes(t))return;const o=function(){var s=P(function*(a,...u){const l=this.transaction(a,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(u.shift())),(yield Promise.all([c[t](...u),i&&l.done]))[0]});return function(u){return s.apply(this,arguments)}}();return Fy.set(e,o),o}!function N8(n){Ny=n(Ny)}(n=>KN(WN({},n),{get:(e,t,r)=>qM(e,t)||n.get(e,t,r),has:(e,t)=>!!qM(e,t)||n.has(e,t)}));class B8{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function j8(n){const e=n.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}return null}).filter(t=>t).join(" ")}}const Oy="@firebase/app",So=new jM("@firebase/app"),Ph="[DEFAULT]",hG={[Oy]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Mo=new Map,Nh=new Map;function fG(n,e){try{n.container.addComponent(e)}catch(t){So.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Vh(n){const e=n.name;if(Nh.has(e))return So.debug(`There were multiple attempts to register component ${e}.`),!1;Nh.set(e,n);for(const t of Mo.values())fG(t,n);return!0}const oi=new OM("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class gG{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new pl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw oi.create("app-deleted",{appName:this._name})}}function KM(n,e={}){let t=n;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:Ph,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw oi.create("bad-app-name",{appName:String(i)});if(t||(t=NM()),!t)throw oi.create("no-options");const o=Mo.get(i);if(o){if(by(t,o.options)&&by(r,o.config))return o;throw oi.create("duplicate-app",{appName:i})}const s=new I8(i);for(const u of Nh.values())s.addComponent(u);const a=new gG(t,r,s);return Mo.set(i,a),a}function Zs(n,e,t){var r;let i=null!==(r=hG[n])&&void 0!==r?r:n;t&&(i+=`-${t}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];return o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void So.warn(a.join(" "))}Vh(new pl(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const gl="firebase-heartbeat-store";let Ly=null;function QM(){return Ly||(Ly=function O8(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(n,e),a=Ri(s);return r&&s.addEventListener("upgradeneeded",u=>{r(Ri(s.result),u.oldVersion,u.newVersion,Ri(s.transaction),u)}),t&&s.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}("firebase-heartbeat-database",1,{upgrade:(n,e)=>{if(0===e)try{n.createObjectStore(gl)}catch(t){console.warn(t)}}}).catch(n=>{throw oi.create("idb-open",{originalErrorMessage:n.message})})),Ly}function By(){return(By=P(function*(n){try{const t=(yield QM()).transaction(gl),r=yield t.objectStore(gl).get(JM(n));return yield t.done,r}catch(e){if(e instanceof Xs)So.warn(e.message);else{const t=oi.create("idb-get",{originalErrorMessage:null==e?void 0:e.message});So.warn(t.message)}}})).apply(this,arguments)}function YM(n,e){return jy.apply(this,arguments)}function jy(){return(jy=P(function*(n,e){try{const r=(yield QM()).transaction(gl,"readwrite");yield r.objectStore(gl).put(e,JM(n)),yield r.done}catch(t){if(t instanceof Xs)So.warn(t.message);else{const r=oi.create("idb-set",{originalErrorMessage:null==t?void 0:t.message});So.warn(r.message)}}})).apply(this,arguments)}function JM(n){return`${n.name}!${n.options.appId}`}class DG{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new TG(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return P(function*(){var t,r;const o=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=XM();if((null!=(null===(t=e._heartbeatsCache)||void 0===t?void 0:t.heartbeats)||(e._heartbeatsCache=yield e._heartbeatsCachePromise,null!=(null===(r=e._heartbeatsCache)||void 0===r?void 0:r.heartbeats)))&&e._heartbeatsCache.lastSentHeartbeatDate!==s&&!e._heartbeatsCache.heartbeats.some(a=>a.date===s))return e._heartbeatsCache.heartbeats.push({date:s,agent:o}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(a=>{const u=new Date(a.date).valueOf();return Date.now()-u<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return P(function*(){var t;if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null==(null===(t=e._heartbeatsCache)||void 0===t?void 0:t.heartbeats)||0===e._heartbeatsCache.heartbeats.length)return"";const r=XM(),{heartbeatsToSend:i,unsentEntries:o}=function IG(n,e=1024){const t=[];let r=n.slice();for(const i of n){const o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),ZM(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),ZM(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=Mh(JSON.stringify({version:2,heartbeats:i}));return e._heartbeatsCache.lastSentHeartbeatDate=r,o.length>0?(e._heartbeatsCache.heartbeats=o,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function XM(){return(new Date).toISOString().substring(0,10)}class TG{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return P(function*(){return!!FM()&&function c8(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e((null===(o=i.error)||void 0===o?void 0:o.message)||"")}}catch(t){e(t)}})}().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return P(function*(){if(yield e._canUseIndexedDBPromise){const r=yield function EG(n){return By.apply(this,arguments)}(e.app);return null!=r&&r.heartbeats?r:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(e){var t=this;return P(function*(){var r;if(yield t._canUseIndexedDBPromise){const o=yield t.read();return YM(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var t=this;return P(function*(){var r;if(yield t._canUseIndexedDBPromise){const o=yield t.read();return YM(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}})()}}function ZM(n){return Mh(JSON.stringify({version:2,heartbeats:n})).length}!function bG(n){Vh(new pl("platform-logger",e=>new B8(e),"PRIVATE")),Vh(new pl("heartbeat",e=>new DG(e),"PRIVATE")),Zs(Oy,"0.9.27",n),Zs(Oy,"0.9.27","esm2017"),Zs("fire-js","")}(""),Zs("firebase","10.8.0","app");const eR=new Q("COOKIE_OPTIONS"),Uy=new Q("COOKIE_WRITER");function ml(n){return null==n}function xi(n){return!ml(n)}function nR(n,e){return e?{path:xi(e.path)?e.path:n.path,domain:xi(e.domain)?e.domain:n.domain,expires:xi(e.expires)?e.expires:n.expires,secure:xi(e.secure)?e.secure:n.secure,sameSite:xi(e.sameSite)?e.sameSite:n.sameSite,httpOnly:xi(e.httpOnly)?e.httpOnly:n.httpOnly,storeUnencoded:xi(e.storeUnencoded)?e.storeUnencoded:n.storeUnencoded}:n}function rR(n){try{return decodeURIComponent(n)}catch(e){return n}}let $y=(()=>{class n{constructor(t={},r){this.injector=r,this.defaultOptions={path:this.injector.get($d,"/"),domain:void 0,expires:void 0,secure:!1,httpOnly:!1},this.options=nR(this.defaultOptions,t)}}return n.\u0275fac=function(t){return new(t||n)(k(eR),k(Kt))},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})(),Hy=(()=>{class n{constructor(t,r,i){this.document=t,this.optionsProvider=r,this.cookieWriterService=i,this.options=this.optionsProvider.options}hasKey(t){return xi(this.get(t))}get(t){var r;return null===(r=this.getAll())||void 0===r?void 0:r[t]}getObject(t){const r=this.get(t);if(!ml(r))return""===r?{}:JSON.parse(r)}getAll(){return function MG(n){let r,i,o,s,a,e={},t="";if(n!==t)for(t=n,r=t.split(";"),e={},o=0;o<r.length;o++)i=r[o],s=i.indexOf("="),s>0&&(a=rR(i.substring(0,s).trim()),ml(e[a])&&(e[a]=rR(i.substring(s+1).trim())));return e}(this.cookieWriterService.readAllAsString())}put(t,r,i){const o=nR(this.options,i);this.cookieWriterService.write(t,r,o)}putObject(t,r,i){this.put(t,JSON.stringify(r),i)}remove(t,r){this.put(t,void 0,r)}removeAll(t){const r=this.getAll();Object.keys(r).forEach(i=>this.remove(i,t))}}return n.\u0275fac=function(t){return new(t||n)(k(Mt),k($y),k(Uy))},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})(),xG=(()=>{class n{constructor(t){this.document=t}readAllAsString(){return this.document.cookie||""}write(t,r,i){this.document.cookie=function RG(n,e,t){let i,r=null==t?void 0:t.expires;ml(e)?(r="Thu, 01 Jan 1970 00:00:00 GMT",i=""):i=e,function tR(n){return"string"==typeof n}(r)&&(r=new Date(r));const o=null!=t&&t.storeUnencoded?e:encodeURIComponent(i);let s=encodeURIComponent(n)+"="+o;s+=null!=t&&t.path?";path="+t.path:"",s+=null!=t&&t.domain?";domain="+t.domain:"",s+=r?";expires="+r.toUTCString():"",s+=null!=t&&t.sameSite?"; SameSite="+t.sameSite:"",s+=null!=t&&t.secure?";secure":"",s+=null!=t&&t.httpOnly?"; HttpOnly":"";const a=s.length+1;return a>4096&&console.log("Cookie '"+n+"' possibly not set or overflowed because it was too large ("+a+" > 4096 bytes)!"),s}(t,r,i)}}return n.\u0275fac=function(t){return new(t||n)(k(Mt))},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})();function PG(n,e,t){return new Hy(n,e,t)}let NG=(()=>{class n{static withOptions(t={}){return{ngModule:n,providers:[{provide:eR,useValue:t},{provide:Uy,useClass:xG},{provide:Hy,useFactory:PG,deps:[Mt,$y,Uy]}]}}static forRoot(t={}){return this.withOptions(t)}static forChild(t={}){return this.withOptions(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ln({type:n}),n.\u0275inj=In({providers:[$y]}),n})(),_l=(()=>{class n{constructor(t,r){this.router=t,this.cookieService=r;let i=new Date;i.setDate(i.getDate()+1),this.options={expires:i},this._currentUser=""}get isLoggedIn(){return!!this.cookieGetByKey("currentUser_TodoList")||("/login"!==this.router.url&&this.router.navigateByUrl("/login"),!1)}set currentUser(t){this._currentUser=t;let r=JSON.stringify(t);this.cookiePut("currentUser_TodoList",r)}get currentUser(){let t=this.cookieGetByKey("currentUser_TodoList");return this._currentUser=t?JSON.parse(t):"",this._currentUser}cookiePut(t,r){this.cookieService.put(t,r,this.options)}cookieGetByKey(t){return this.cookieService.get(t)}removeCookie(){this.cookieService.remove("currentUser_TodoList")}}return n.\u0275fac=function(t){return new(t||n)(k(Lt),k(Hy))},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})();const iR=function(){return{exact:!0}};function VG(n,e){if(1&n){const t=Xe();E(0,"ul",6)(1,"li",7),j(2,"i",8),E(3,"a",9),R(4,"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"),w()(),E(5,"li",10),j(6,"i",11),E(7,"a",12),R(8,"\u041a\u0430\u043b\u0435\u043d\u0434\u0430\u0440\u044c"),w()(),E(9,"li",10),j(10,"i",13),E(11,"a",14),R(12,"\u0418\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435"),w()(),E(13,"li",15),j(14,"i",16),E(15,"span",17),R(16),w(),E(17,"button",18),x("click",function(){return ce(t),de(Fe(2).router.navigateByUrl("/login"))}),R(18,"\u0412\u044b\u0445\u043e\u0434"),w()()()}if(2&n){const t=Fe(2);D(1),V("routerLinkActiveOptions",Sm(2,iR)),D(15),He(t.userName)}}function FG(n,e){if(1&n){const t=Xe();E(0,"div",19),x("click",function(){return ce(t),de(Fe(2).onToggleSidebar())}),j(1,"i",20),w()}if(2&n){const t=Fe(2);D(1),V("ngClass",t.opened?"fa-close":"fa-bars")}}function OG(n,e){if(1&n){const t=Xe();E(0,"div",2),x("resize",function(i){return ce(t),de(Fe().onResize(i))},!1,dg),E(1,"a",3),R(2," TO-DO LIST"),w(),we(3,VG,19,3,"ul",4),we(4,FG,2,1,"div",5),w()}if(2&n){const t=Fe();D(3),V("ngIf",t.windowWidth>=1160),D(1),V("ngIf",t.windowWidth<1160)}}function kG(n,e){if(1&n){const t=Xe();E(0,"div",21)(1,"div",22)(2,"div",23)(3,"a",24),j(4,"i",8),w()(),E(5,"div",25)(6,"a",26),j(7,"i",11),w()(),E(8,"div",25)(9,"a",27),j(10,"i",13),w()(),j(11,"hr"),E(12,"div",28)(13,"button",29),x("click",function(){return ce(t),de(Fe().router.navigateByUrl("/login"))}),j(14,"i",30),w(),E(15,"label",31),R(16),w()()()()}if(2&n){const t=Fe();V("ngClass",t.opened?"showNav":""),D(2),V("routerLinkActiveOptions",Sm(3,iR)),D(14),He(t.userName)}}let LG=(()=>{class n{constructor(t,r){this.authService=t,this.router=r,this.isExpanded=!1,this.windowWidth=window.innerWidth,this.opened=!1,this.toggle=new Ge,this.userName=this.authService.currentUser}collapse(){this.isExpanded=!1}onToggleSidebar(){this.opened=!this.opened,this.toggle.emit(this.opened)}onResize(t){this.windowWidth=t.target.innerWidth}}return n.\u0275fac=function(t){return new(t||n)(T(_l),T(Lt))},n.\u0275cmp=Jn({type:n,selectors:[["app-nav-menu"]],outputs:{toggle:"toggle"},decls:2,vars:2,consts:[["class","header","style","z-index: 2",3,"resize",4,"ngIf"],["class","neumorph-card r-navbar",3,"ngClass",4,"ngIf"],[1,"header",2,"z-index","2",3,"resize"],["routerLink","/",1,"neumorph-logo","header-logo"],["class","navbar",4,"ngIf"],["class","slide-bar-div",3,"click",4,"ngIf"],[1,"navbar"],["routerLinkActive","active",1,"navbar-item",3,"routerLinkActiveOptions"],[1,"fa-solid","fa-home","big-neumorph-icon"],["routerLink","/",1,"nav-link","title-text"],["routerLinkActive","active",1,"navbar-item"],[1,"fa-solid","fa-calendar","big-neumorph-icon"],["routerLink","/calendar",1,"nav-link","title-text"],[1,"fa-solid","fa-heart","big-neumorph-icon"],["routerLink","/favorite",1,"nav-link","title-text"],[1,"navbar-item"],[1,"fa-solid","fa-user","me-1","big-neumorph-icon"],[1,"title-text","me-3"],[1,"neumorph-btn","sm-neumorph-btn",3,"click"],[1,"slide-bar-div",3,"click"],[1,"slide-bar-icon","fa",3,"ngClass"],[1,"neumorph-card","r-navbar",3,"ngClass"],[2,"display","flex","flex-direction","column"],["routerLinkActive","active",1,"v-navbar-item",3,"routerLinkActiveOptions"],["routerLink","/","title","\u0413\u043b\u0430\u0432\u043d\u0430\u044f",1,"nav-link","title-text"],["routerLinkActive","active",1,"v-navbar-item"],["routerLink","/calendar","title","\u041a\u0430\u043b\u0435\u043d\u0434\u0430\u0440\u044c",1,"nav-link","title-text"],["routerLink","/favorite","title","\u0418\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435",1,"nav-link","title-text"],[1,"v-navbar-item",2,"height","25vh","justify-content","space-between"],["title","\u0412\u044b\u0445\u043e\u0434",1,"neumorph-btn","sm-neumorph-btn",3,"click"],[1,"fa-solid","fa-right-from-bracket"],[1,"title-text","v-user-name"]],template:function(t,r){1&t&&(we(0,OG,5,2,"div",0),we(1,kG,17,4,"div",1)),2&t&&(V("ngIf",r.authService.isLoggedIn),D(1),V("ngIf",!!(r.windowWidth<1160&&r.authService.isLoggedIn)))},dependencies:[po,go,Sh,wM],styles:[".navbar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;list-style:none;width:50%;margin:0;align-content:center;transition:2s}.navbar-item[_ngcontent-%COMP%]{display:flex;align-items:center}.v-navbar-item[_ngcontent-%COMP%]{display:flex;align-items:center;flex-direction:column}.nav-link[_ngcontent-%COMP%]{transition:1s}.nav-link[_ngcontent-%COMP%]:hover{letter-spacing:.17em;color:var(--link-hover-color)}.nav-link[_ngcontent-%COMP%]:focus{letter-spacing:.17em;color:var(--link-hover-color)}.slide-bar-icon[_ngcontent-%COMP%]{color:var(--text-color);font-size:x-large;cursor:pointer}.slide-bar-div[_ngcontent-%COMP%]{display:flex;align-items:center;margin-right:-1.5em}.v-user-name[_ngcontent-%COMP%]{transform:rotate(90deg);margin-block:2.5em}@media (max-width: 1600px){.navbar[_ngcontent-%COMP%]{width:70%}}"]}),n})(),BG=(()=>{class n{constructor(t,r){this.router=t,this.authService=r,this.title="app",this.isSidebarOpen=!1,this.isLoggin=this.authService.isLoggedIn}ngOnInit(){this.isLoggin||this.router.navigateByUrl("/login")}}return n.\u0275fac=function(t){return new(t||n)(T(Lt),T(_l))},n.\u0275cmp=Jn({type:n,selectors:[["app-root"]],decls:4,vars:0,consts:[[1,"app-container"]],template:function(t,r){1&t&&(E(0,"body")(1,"div",0),j(2,"app-nav-menu")(3,"router-outlet"),w()())},dependencies:[fy,LG],encapsulation:2}),n})();class Ro{constructor(){this.name="",this.isFavorite=!1,this.date=new Date,this.tag=new Fh,this.readyPer=0,this.list=[]}}class oR{constructor(){this.text="",this.isReady=!1}}class Fh{constructor(){this.tagName="",this.color=""}}var O,jG="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},dr={},Gy=Gy||{},te=jG||self;function Oh(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function yl(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var qy="closure_uid_"+(1e9*Math.random()>>>0),$G=0;function HG(n,e,t){return n.call.apply(n.bind,arguments)}function GG(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function Xt(n,e,t){return(Xt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?HG:GG).apply(null,arguments)}function kh(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Rt(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,i,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[i].apply(r,s)}}function Pi(){this.s=this.s,this.o=this.o}Pi.prototype.s=!1,Pi.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function UG(n){Object.prototype.hasOwnProperty.call(n,qy)&&n[qy]||(n[qy]=++$G)}(this)},Pi.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const sR=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function zy(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function aR(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(Oh(r)){const i=n.length||0,o=r.length||0;n.length=i+o;for(let s=0;s<o;s++)n[i+s]=r[s]}else n.push(r)}}function Zt(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Zt.prototype.h=function(){this.defaultPrevented=!0};var zG=function(){if(!te.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{const t=()=>{};te.addEventListener("test",t,e),te.removeEventListener("test",t,e)}catch(t){}return n}();function vl(n){return/^[\s\xa0]*$/.test(n)}function Lh(){var n=te.navigator;return n&&(n=n.userAgent)?n:""}function Mr(n){return-1!=Lh().indexOf(n)}function Wy(n){return Wy[" "](n),n}Wy[" "]=function(){};var Qy,n,KG=Mr("Opera"),ea=Mr("Trident")||Mr("MSIE"),uR=Mr("Edge"),Ky=uR||ea,lR=Mr("Gecko")&&!(-1!=Lh().toLowerCase().indexOf("webkit")&&!Mr("Edge"))&&!(Mr("Trident")||Mr("MSIE"))&&!Mr("Edge"),QG=-1!=Lh().toLowerCase().indexOf("webkit")&&!Mr("Edge");function cR(){var n=te.document;return n?n.documentMode:void 0}e:{var Yy="",Jy=(n=Lh(),lR?/rv:([^\);]+)(\)|;)/.exec(n):uR?/Edge\/([\d\.]+)/.exec(n):ea?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):QG?/WebKit\/(\S+)/.exec(n):KG?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Jy&&(Yy=Jy?Jy[1]:""),ea){var Xy=cR();if(null!=Xy&&Xy>parseFloat(Yy)){Qy=String(Xy);break e}}Qy=Yy}var YG=te.document&&ea&&(cR()||parseInt(Qy,10))||void 0;function El(n,e){if(Zt.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(lR){e:{try{Wy(e.nodeName);var i=!0;break e}catch(o){}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:JG[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&El.$.h.call(this)}}Rt(El,Zt);var JG={2:"touch",3:"pen",4:"mouse"};El.prototype.h=function(){El.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var wl="closure_listenable_"+(1e6*Math.random()|0),XG=0;function ZG(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=i,this.key=++XG,this.fa=this.ia=!1}function Bh(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function ev(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function hR(n){const e={};for(const t in n)e[t]=n[t];return e}const fR="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function pR(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let o=0;o<fR.length;o++)t=fR[o],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function jh(n){this.src=n,this.g={},this.h=0}function tv(n,e){var t=e.type;if(t in n.g){var o,r=n.g[t],i=sR(r,e);(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(Bh(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function nv(n,e,t,r){for(var i=0;i<n.length;++i){var o=n[i];if(!o.fa&&o.listener==e&&o.capture==!!t&&o.la==r)return i}return-1}jh.prototype.add=function(n,e,t,r,i){var o=n.toString();(n=this.g[o])||(n=this.g[o]=[],this.h++);var s=nv(n,e,r,i);return-1<s?(e=n[s],t||(e.ia=!1)):((e=new ZG(e,this.src,o,!!r,i)).ia=t,n.push(e)),e};var rv="closure_lm_"+(1e6*Math.random()|0),iv={};function gR(n,e,t,r,i){if(r&&r.once)return _R(n,e,t,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)gR(n,e[o],t,r,i);return null}return t=uv(t),n&&n[wl]?n.O(e,t,yl(r)?!!r.capture:!!r,i):mR(n,e,t,!1,r,i)}function mR(n,e,t,r,i,o){if(!e)throw Error("Invalid event type");var s=yl(i)?!!i.capture:!!i,a=sv(n);if(a||(n[rv]=a=new jh(n)),(t=a.add(e,t,r,s,o)).proxy)return t;if(r=function tq(){const e=nq;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)zG||(i=s),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(vR(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function _R(n,e,t,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)_R(n,e[o],t,r,i);return null}return t=uv(t),n&&n[wl]?n.P(e,t,yl(r)?!!r.capture:!!r,i):mR(n,e,t,!0,r,i)}function yR(n,e,t,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)yR(n,e[o],t,r,i);else r=yl(r)?!!r.capture:!!r,t=uv(t),n&&n[wl]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=nv(o=n.g[e],t,r,i))&&(Bh(o[t]),Array.prototype.splice.call(o,t,1),0==o.length&&(delete n.g[e],n.h--))):n&&(n=sv(n))&&(e=n.g[e.toString()],n=-1,e&&(n=nv(e,t,r,i)),(t=-1<n?e[n]:null)&&ov(t))}function ov(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[wl])tv(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(vR(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=sv(e))?(tv(t,n),0==t.h&&(t.src=null,e[rv]=null)):Bh(n)}}}function vR(n){return n in iv?iv[n]:iv[n]="on"+n}function nq(n,e){if(n.fa)n=!0;else{e=new El(e,this);var t=n.listener,r=n.la||n.src;n.ia&&ov(n),n=t.call(r,e)}return n}function sv(n){return(n=n[rv])instanceof jh?n:null}var av="__closure_events_fn_"+(1e9*Math.random()>>>0);function uv(n){return"function"==typeof n?n:(n[av]||(n[av]=function(e){return n.handleEvent(e)}),n[av])}function xt(){Pi.call(this),this.i=new jh(this),this.S=this,this.J=null}function Bt(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new Zt(e,n);else if(e instanceof Zt)e.target=e.target||n;else{var i=e;pR(e=new Zt(r,n),i)}if(i=!0,t)for(var o=t.length-1;0<=o;o--){var s=e.g=t[o];i=Uh(s,r,!0,e)&&i}if(i=Uh(s=e.g=n,r,!0,e)&&i,i=Uh(s,r,!1,e)&&i,t)for(o=0;o<t.length;o++)i=Uh(s=e.g=t[o],r,!1,e)&&i}function Uh(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==t){var a=s.listener,u=s.la||s.src;s.ia&&tv(n.i,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}Rt(xt,Pi),xt.prototype[wl]=!0,xt.prototype.removeEventListener=function(n,e,t,r){yR(this,n,e,t,r)},xt.prototype.N=function(){if(xt.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Bh(t[r]);delete n.g[e],n.h--}}this.J=null},xt.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},xt.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var lv=te.JSON.stringify;function iq(){var n=cv;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var ER=new class rq{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new sq,n=>n.reset());class sq{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function aq(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function uq(n){te.setTimeout(()=>{throw n},0)}let Cl,Dl=!1,cv=new class oq{constructor(){this.h=this.g=null}add(e,t){const r=ER.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}},wR=()=>{const n=te.Promise.resolve(void 0);Cl=()=>{n.then(lq)}};var lq=()=>{for(var n;n=iq();){try{n.h.call(n.g)}catch(t){uq(t)}var e=ER;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Dl=!1};function $h(n,e){xt.call(this),this.h=n||1,this.g=e||te,this.j=Xt(this.qb,this),this.l=Date.now()}function dv(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function hv(n,e,t){if("function"==typeof n)t&&(n=Xt(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Xt(n.handleEvent,n)}return 2147483647<Number(e)?-1:te.setTimeout(n,e||0)}function CR(n){n.g=hv(()=>{n.g=null,n.i&&(n.i=!1,CR(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Rt($h,xt),(O=$h.prototype).ga=!1,O.T=null,O.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Bt(this,"tick"),this.ga&&(dv(this),this.start()))}},O.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},O.N=function(){$h.$.N.call(this),dv(this),delete this.g};class cq extends Pi{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:CR(this)}N(){super.N(),this.g&&(te.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Il(n){Pi.call(this),this.h=n,this.g={}}Rt(Il,Pi);var DR=[];function IR(n,e,t,r){Array.isArray(t)||(t&&(DR[0]=t.toString()),t=DR);for(var i=0;i<t.length;i++){var o=gR(e,t[i],r||n.handleEvent,!1,n.h||n);if(!o)break;n.g[o.key]=o}}function TR(n){ev(n.g,function(e,t){this.g.hasOwnProperty(t)&&ov(e)},n),n.g={}}function Hh(){this.g=!0}function ta(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function pq(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return lv(t)}catch(a){return e}}(n,t)+(r?" "+r:"")})}Il.prototype.N=function(){Il.$.N.call(this),TR(this)},Il.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Hh.prototype.Ea=function(){this.g=!1},Hh.prototype.info=function(){};var xo={},bR=null;function Gh(){return bR=bR||new xt}function AR(n){Zt.call(this,xo.Ta,n)}function Tl(n){const e=Gh();Bt(e,new AR(e))}function SR(n,e){Zt.call(this,xo.STAT_EVENT,n),this.stat=e}function gn(n){const e=Gh();Bt(e,new SR(e,n))}function MR(n,e){Zt.call(this,xo.Ua,n),this.size=e}function bl(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return te.setTimeout(function(){n()},e)}xo.Ta="serverreachability",Rt(AR,Zt),xo.STAT_EVENT="statevent",Rt(SR,Zt),xo.Ua="timingevent",Rt(MR,Zt);var qh={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},RR={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function fv(){}function PR(){}fv.prototype.h=null;var mv,Al={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function pv(){Zt.call(this,"d")}function gv(){Zt.call(this,"c")}function zh(){}function Sl(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new Il(this),this.P=gq,this.V=new $h(n=Ky?125:void 0),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new NR}function NR(){this.i=null,this.g="",this.h=!1}Rt(pv,Zt),Rt(gv,Zt),Rt(zh,fv),zh.prototype.g=function(){return new XMLHttpRequest},zh.prototype.i=function(){return{}},mv=new zh;var gq=45e3,VR={},_v={};function yv(n,e,t){n.L=1,n.A=Yh(si(e)),n.u=t,n.S=!0,FR(n,null)}function FR(n,e){n.G=Date.now(),Ml(n),n.B=si(n.A);var t=n.B,r=n.W;Array.isArray(r)||(r=[String(r)]),qR(t.i,"t",r),n.o=0,t=n.l.J,n.h=new NR,n.g=gx(n.l,t?e:null,!n.u),0<n.O&&(n.M=new cq(Xt(n.Pa,n,n.g),n.O)),IR(n.U,n.g,"readystatechange",n.nb),e=n.I?hR(n.I):{},n.u?(n.v||(n.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.B,n.v,n.u,e)):(n.v="GET",n.g.ha(n.B,n.v,null,e)),Tl(),function dq(n,e,t,r,i,o){n.info(function(){if(n.g)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var l=a[u].split("=");if(1<l.length){var c=l[0];l=l[1];var d=c.split("_");s=2<=d.length&&"type"==d[1]?s+(c+"=")+l+"&":s+(c+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+s})}(n.j,n.v,n.B,n.m,n.W,n.u)}function OR(n){return!!n.g&&"GET"==n.v&&2!=n.L&&n.l.Ha}function kR(n,e,t){let i,r=!0;for(;!n.J&&n.o<t.length;){if(i=mq(n,t),i==_v){4==e&&(n.s=4,gn(14),r=!1),ta(n.j,n.m,null,"[Incomplete Response]");break}if(i==VR){n.s=4,gn(15),ta(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}ta(n.j,n.m,i,null),vv(n,i)}OR(n)&&0!=n.o&&(n.h.g=n.h.g.slice(n.o),n.o=0),4!=e||0!=t.length||n.h.h||(n.s=1,gn(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),bv(e),e.M=!0,gn(11))):(ta(n.j,n.m,t,"[Invalid Chunked Response]"),Po(n),Rl(n))}function mq(n,e){var t=n.o,r=e.indexOf("\n",t);return-1==r?_v:(t=Number(e.substring(t,r)),isNaN(t)?VR:(r+=1)+t>e.length?_v:(e=e.slice(r,r+t),n.o=r+t,e))}function Ml(n){n.Y=Date.now()+n.P,LR(n,n.P)}function LR(n,e){if(null!=n.C)throw Error("WatchDog timer not null");n.C=bl(Xt(n.lb,n),e)}function Wh(n){n.C&&(te.clearTimeout(n.C),n.C=null)}function Rl(n){0==n.l.H||n.J||dx(n.l,n)}function Po(n){Wh(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,dv(n.V),TR(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function vv(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||Ev(t.i,n)))if(!n.K&&Ev(t.i,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch(l){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;nf(t),ef(t)}Tv(t),gn(18)}}else t.Fa=i[1],0<t.Fa-t.V&&37500>i[2]&&t.G&&0==t.A&&!t.v&&(t.v=bl(Xt(t.ib,t),6e3));if(1>=KR(t.i)&&t.oa){try{t.oa()}catch(l){}t.oa=void 0}}else Vo(t,11)}else if((n.K||t.g==n)&&nf(t),!vl(e))for(i=t.Ja.g.parse(e),e=0;e<i.length;e++){let l=i[e];if(t.V=l[0],l=l[1],2==t.H)if("c"==l[0]){t.K=l[1],t.pa=l[2];const c=l[3];null!=c&&(t.ra=c,t.l.info("VER="+t.ra));const d=l[4];null!=d&&(t.Ga=d,t.l.info("SVER="+t.Ga));const h=l[5];null!=h&&"number"==typeof h&&0<h&&(t.L=r=1.5*h,t.l.info("backChannelRequestTimeoutMs_="+r)),r=t;const f=n.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var o=r.i;o.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(wv(o,o.h),o.h=null))}if(r.F){const g=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.Da=g,qe(r.I,r.F,g))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var s=n;if((r=t).wa=px(r,r.J?r.pa:null,r.Y),s.K){QR(r.i,s);var a=s,u=r.L;u&&a.setTimeout(u),a.C&&(Wh(a),Ml(a)),r.g=s}else lx(r);0<t.j.length&&tf(t)}else"stop"!=l[0]&&"close"!=l[0]||Vo(t,7);else 3==t.H&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?Vo(t,7):Iv(t):"noop"!=l[0]&&t.h&&t.h.Aa(l),t.A=0)}Tl()}catch(l){}}function BR(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Oh(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function yq(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if("undefined"!=typeof Map&&n instanceof Map)return Array.from(n.keys());if(!("undefined"!=typeof Set&&n instanceof Set)){if(Oh(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function _q(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if("undefined"!=typeof Map&&n instanceof Map||"undefined"!=typeof Set&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Oh(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],t&&t[o],n)}(O=Sl.prototype).setTimeout=function(n){this.P=n},O.nb=function(n){n=n.target;const e=this.M;e&&3==Rr(n)?e.l():this.Pa(n)},O.Pa=function(n){try{if(n==this.g)e:{const c=Rr(this.g);var e=this.g.Ia();if(this.g.da(),!(3>c)&&(3!=c||Ky||this.g&&(this.h.h||this.g.ja()||rx(this.g)))){this.J||4!=c||7==e||Tl(),Wh(this);var t=this.g.da();this.ca=t;t:if(OR(this)){var r=rx(this.g);n="";var i=r.length,o=4==Rr(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Po(this),Rl(this);var s="";break t}this.h.i=new te.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.length=0,this.h.g+=n,this.o=0,s=this.h.g}else s=this.g.ja();if(this.i=200==t,function hq(n,e,t,r,i,o,s){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+o+" "+s})}(this.j,this.v,this.B,this.m,this.W,c,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!vl(a)){var l=a;break t}}l=null}if(!(t=l)){this.i=!1,this.s=3,gn(12),Po(this),Rl(this);break e}ta(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,vv(this,t)}this.S?(kR(this,c,s),Ky&&this.i&&3==c&&(IR(this.U,this.V,"tick",this.mb),this.V.start())):(ta(this.j,this.m,s,null),vv(this,s)),4==c&&Po(this),this.i&&!this.J&&(4==c?dx(this.l,this):(this.i=!1,Ml(this)))}else(function Oq(n){const e={};n=(n.g&&2<=Rr(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<n.length;r++){if(vl(n[r]))continue;var t=aq(n[r]);const i=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const o=e[i]||[];e[i]=o,o.push(t)}!function eq(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(r){return r.join(", ")})})(this.g),400==t&&0<s.indexOf("Unknown SID")?(this.s=3,gn(12)):(this.s=0,gn(13)),Po(this),Rl(this)}}}catch(c){}},O.mb=function(){if(this.g){var n=Rr(this.g),e=this.g.ja();this.o<e.length&&(Wh(this),kR(this,n,e),this.i&&4!=n&&Ml(this))}},O.cancel=function(){this.J=!0,Po(this)},O.lb=function(){this.C=null;const n=Date.now();0<=n-this.Y?(function fq(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.B),2!=this.L&&(Tl(),gn(17)),Po(this),this.s=2,Rl(this)):LR(this,this.Y-n)};var jR=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function No(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof No){this.h=n.h,Kh(this,n.j),this.s=n.s,this.g=n.g,Qh(this,n.m),this.l=n.l;var e=n.i,t=new Nl;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),UR(this,t),this.o=n.o}else n&&(e=String(n).match(jR))?(this.h=!1,Kh(this,e[1]||"",!0),this.s=xl(e[2]||""),this.g=xl(e[3]||"",!0),Qh(this,e[4]),this.l=xl(e[5]||"",!0),UR(this,e[6]||"",!0),this.o=xl(e[7]||"")):(this.h=!1,this.i=new Nl(null,this.h))}function si(n){return new No(n)}function Kh(n,e,t){n.j=t?xl(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Qh(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function UR(n,e,t){e instanceof Nl?(n.i=e,function Tq(n,e){e&&!n.j&&(Ni(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(HR(this,r),qR(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Pl(e,Dq)),n.i=new Nl(e,n.h))}function qe(n,e,t){n.i.set(e,t)}function Yh(n){return qe(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function xl(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Pl(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,Eq),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function Eq(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}No.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Pl(e,$R,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Pl(e,$R,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Pl(t,"/"==t.charAt(0)?Cq:wq,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Pl(t,Iq)),n.join("")};var $R=/[#\/\?@]/g,wq=/[#\?:]/g,Cq=/[#\?]/g,Dq=/[#\?@]/g,Iq=/#/g;function Nl(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Ni(n){n.g||(n.g=new Map,n.h=0,n.i&&function vq(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var o=n[t].substring(0,r);i=n[t].substring(r+1)}else o=n[t];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function HR(n,e){Ni(n),e=na(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function GR(n,e){return Ni(n),e=na(n,e),n.g.has(e)}function qR(n,e,t){HR(n,e),0<t.length&&(n.i=null,n.g.set(na(n,e),zy(t)),n.h+=t.length)}function na(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function zR(n){this.l=n||Aq,n=te.PerformanceNavigationTiming?0<(n=te.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(te.g&&te.g.Ka&&te.g.Ka()&&te.g.Ka().dc),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(O=Nl.prototype).add=function(n,e){Ni(this),this.i=null,n=na(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},O.forEach=function(n,e){Ni(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},O.ta=function(){Ni(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let o=0;o<i.length;o++)t.push(e[r])}return t},O.Z=function(n){Ni(this);let e=[];if("string"==typeof n)GR(this,n)&&(e=e.concat(this.g.get(na(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},O.set=function(n,e){return Ni(this),this.i=null,GR(this,n=na(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},O.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},O.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;""!==s[r]&&(i+="="+encodeURIComponent(String(s[r]))),n.push(i)}}return this.i=n.join("&")};var Aq=10;function WR(n){return!!n.h||!!n.g&&n.g.size>=n.j}function KR(n){return n.h?1:n.g?n.g.size:0}function Ev(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function wv(n,e){n.g?n.g.add(e):n.h=e}function QR(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function YR(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return zy(n.i)}function Mq(){this.g=new class{stringify(n){return te.JSON.stringify(n,void 0)}parse(n){return te.JSON.parse(n,void 0)}}}function Rq(n,e,t){const r=t||"";try{BR(n,function(i,o){let s=i;yl(i)&&(s=lv(i)),e.push(r+o+"="+encodeURIComponent(s))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Jh(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}function Vl(n){this.l=n.ec||null,this.j=n.ob||!1}function Xh(n,e){xt.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=Cv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}zR.prototype.cancel=function(){if(this.i=YR(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},Rt(Vl,fv),Vl.prototype.g=function(){return new Xh(this.l,this.j)},Vl.prototype.i=function(n){return function(){return n}}({}),Rt(Xh,xt);var Cv=0;function JR(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function Fl(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Ol(n)}function Ol(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(O=Xh.prototype).open=function(n,e){if(this.readyState!=Cv)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Ol(this)},O.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||te).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},O.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Fl(this)),this.readyState=Cv},O.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Ol(this)),this.g&&(this.readyState=3,Ol(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(void 0!==te.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;JR(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},O.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Fl(this):Ol(this),3==this.readyState&&JR(this)}},O.Za=function(n){this.g&&(this.response=this.responseText=n,Fl(this))},O.Ya=function(n){this.g&&(this.response=n,Fl(this))},O.ka=function(){this.g&&Fl(this)},O.setRequestHeader=function(n,e){this.v.append(n,e)},O.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},O.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Xh.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var Pq=te.JSON.parse;function it(n){xt.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=XR,this.L=this.M=!1}Rt(it,xt);var XR="",Nq=/^https?$/i,Vq=["POST","PUT"];function ZR(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,ex(n),Zh(n)}function ex(n){n.F||(n.F=!0,Bt(n,"complete"),Bt(n,"error"))}function tx(n){if(n.h&&void 0!==Gy&&(!n.C[1]||4!=Rr(n)||2!=n.da()))if(n.v&&4==Rr(n))hv(n.La,0,n);else if(Bt(n,"readystatechange"),4==Rr(n)){n.h=!1;try{const s=n.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===s){var i=String(n.I).match(jR)[1]||null;!i&&te.self&&te.self.location&&(i=te.self.location.protocol.slice(0,-1)),r=!Nq.test(i?i.toLowerCase():"")}t=r}if(t)Bt(n,"complete"),Bt(n,"success");else{n.m=6;try{var o=2<Rr(n)?n.g.statusText:""}catch(a){o=""}n.j=o+" ["+n.da()+"]",ex(n)}}finally{Zh(n)}}}function Zh(n,e){if(n.g){nx(n);const t=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||Bt(n,"ready");try{t.onreadystatechange=r}catch(i){}}}function nx(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(te.clearTimeout(n.A),n.A=null)}function Rr(n){return n.g?n.g.readyState:0}function rx(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case XR:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function ix(n){let e="";return ev(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function Dv(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=ix(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):qe(n,e,t))}function kl(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function ox(n){this.Ga=0,this.j=[],this.l=new Hh,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=kl("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=kl("baseRetryDelayMs",5e3,n),this.hb=kl("retryDelaySeedMs",1e4,n),this.eb=kl("forwardChannelMaxRetries",2,n),this.xa=kl("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.useFetchStreams||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new zR(n&&n.concurrentRequestLimit),this.Ja=new Mq,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Iv(n){if(sx(n),3==n.H){var e=n.W++,t=si(n.I);if(qe(t,"SID",n.K),qe(t,"RID",e),qe(t,"TYPE","terminate"),Ll(n,t),(e=new Sl(n,n.l,e)).L=2,e.A=Yh(si(t)),t=!1,te.navigator&&te.navigator.sendBeacon)try{t=te.navigator.sendBeacon(e.A.toString(),"")}catch(r){}!t&&te.Image&&((new Image).src=e.A,t=!0),t||(e.g=gx(e.l,null),e.g.ha(e.A)),e.G=Date.now(),Ml(e)}fx(n)}function ef(n){n.g&&(bv(n),n.g.cancel(),n.g=null)}function sx(n){ef(n),n.u&&(te.clearTimeout(n.u),n.u=null),nf(n),n.i.cancel(),n.m&&("number"==typeof n.m&&te.clearTimeout(n.m),n.m=null)}function tf(n){if(!WR(n.i)&&!n.m){n.m=!0;var e=n.Na;Cl||wR(),Dl||(Cl(),Dl=!0),cv.add(e,n),n.C=0}}function ax(n,e){var t;t=e?e.m:n.W++;const r=si(n.I);qe(r,"SID",n.K),qe(r,"RID",t),qe(r,"AID",n.V),Ll(n,r),n.o&&n.s&&Dv(r,n.o,n.s),t=new Sl(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=ux(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),wv(n.i,t),yv(t,r,e)}function Ll(n,e){n.na&&ev(n.na,function(t,r){qe(e,r,t)}),n.h&&BR({},function(t,r){qe(e,r,t)})}function ux(n,e,t){t=Math.min(n.j.length,t);var r=n.h?Xt(n.h.Va,n.h,n):null;e:{var i=n.j;let o=-1;for(;;){const s=["count="+t];-1==o?0<t?(o=i[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let u=0;u<t;u++){let l=i[u].g;const c=i[u].map;if(l-=o,0>l)o=Math.max(0,i[u].g-100),a=!1;else try{Rq(c,s,"req"+l+"_")}catch(d){r&&r(c)}}if(a){r=s.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,r}function lx(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;Cl||wR(),Dl||(Cl(),Dl=!0),cv.add(e,n),n.A=0}}function Tv(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=bl(Xt(n.Ma,n),hx(n,n.A)),n.A++,0))}function bv(n){null!=n.B&&(te.clearTimeout(n.B),n.B=null)}function cx(n){n.g=new Sl(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=si(n.wa);qe(e,"RID","rpc"),qe(e,"SID",n.K),qe(e,"AID",n.V),qe(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&qe(e,"TO",n.qa),qe(e,"TYPE","xmlhttp"),Ll(n,e),n.o&&n.s&&Dv(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.A=Yh(si(e)),t.u=null,t.S=!0,FR(t,n)}function nf(n){null!=n.v&&(te.clearTimeout(n.v),n.v=null)}function dx(n,e){var t=null;if(n.g==e){nf(n),bv(n),n.g=null;var r=2}else{if(!Ev(n.i,e))return;t=e.F,QR(n.i,e),r=1}if(0!=n.H)if(e.i)if(1==r){t=e.u?e.u.length:0,e=Date.now()-e.G;var i=n.C;Bt(r=Gh(),new MR(r,t)),tf(n)}else lx(n);else if(3==(i=e.s)||0==i&&0<e.ca||!(1==r&&function kq(n,e){return!(KR(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=bl(Xt(n.Na,n,e),hx(n,n.C)),n.C++,0)))}(n,e)||2==r&&Tv(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:Vo(n,5);break;case 4:Vo(n,10);break;case 3:Vo(n,6);break;default:Vo(n,2)}}function hx(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function Vo(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var r=Xt(n.pb,n);t||(t=new No("//www.google.com/images/cleardot.gif"),te.location&&"http"==te.location.protocol||Kh(t,"https"),Yh(t)),function xq(n,e){const t=new Hh;if(te.Image){const r=new Image;r.onload=kh(Jh,t,r,"TestLoadImage: loaded",!0,e),r.onerror=kh(Jh,t,r,"TestLoadImage: error",!1,e),r.onabort=kh(Jh,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=kh(Jh,t,r,"TestLoadImage: timeout",!1,e),te.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else gn(2);n.H=0,n.h&&n.h.za(e),fx(n),sx(n)}function fx(n){if(n.H=0,n.ma=[],n.h){const e=YR(n.i);(0!=e.length||0!=n.j.length)&&(aR(n.ma,e),aR(n.ma,n.j),n.i.i.length=0,zy(n.j),n.j.length=0),n.h.ya()}}function px(n,e,t){var r=t instanceof No?si(t):new No(t);if(""!=r.g)e&&(r.g=e+"."+r.g),Qh(r,r.m);else{var i=te.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new No(null);r&&Kh(o,r),e&&(o.g=e),i&&Qh(o,i),t&&(o.l=t),r=o}return e=n.Da,(t=n.F)&&e&&qe(r,t,e),qe(r,"VER",n.ra),Ll(n,r),r}function gx(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new it(n.Ha&&!n.va?new Vl({ob:t}):n.va)).Oa(n.J),e}function mx(){}function rf(){if(ea&&!(10<=Number(YG)))throw Error("Environmental error: no available transport.")}function Nn(n,e){xt.call(this),this.g=new ox(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!vl(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!vl(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new ra(this)}function _x(n){pv.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function yx(){gv.call(this),this.status=1}function ra(n){this.g=n}function hr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Av(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(i=0;16>i;++i)r[i]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var o=n.g[3],s=(e=n.g[0])+(o^(t=n.g[1])&((i=n.g[2])^o))+r[0]+3614090360&4294967295;s=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=t+(s<<7&4294967295|s>>>25))+((s=o+(i^e&(t^i))+r[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=i+(t^o&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^i&(o^e))+r[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^t&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^e&(t^i))+r[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=i+(t^o&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^i&(o^e))+r[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^t&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^e&(t^i))+r[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=i+(t^o&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^i&(o^e))+r[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^t&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^e&(t^i))+r[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=i+(t^o&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^i&(o^e))+r[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=e+(i^o&(t^i))+r[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^i&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^t&(o^e))+r[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=e+(i^o&(t^i))+r[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^i&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^t&(o^e))+r[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=e+(i^o&(t^i))+r[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^i&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^t&(o^e))+r[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=e+(i^o&(t^i))+r[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^i&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^t&(o^e))+r[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=e+(t^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^i)+r[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=t+(i^o^e)+r[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=e+(t^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^i)+r[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=t+(i^o^e)+r[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=e+(t^i^o)+r[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^i)+r[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=t+(i^o^e)+r[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=e+(t^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^i)+r[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^t)+r[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=t+(i^o^e)+r[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=e+(i^(t|~o))+r[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=i+(e^(o|~t))+r[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=t+(o^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=e+(i^(t|~o))+r[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=i+(e^(o|~t))+r[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=t+(o^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=e+(i^(t|~o))+r[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=i+(e^(o|~t))+r[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=t+(o^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((o=(e=t+((s=e+(i^(t|~o))+r[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((i=o+((s=i+(e^(o|~t))+r[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,n.g[2]=n.g[2]+i&4294967295,n.g[3]=n.g[3]+o&4294967295}function Se(n,e){this.h=e;for(var t=[],r=!0,i=n.length-1;0<=i;i--){var o=0|n[i];r&&o==e||(t[i]=o,r=!1)}this.g=t}(O=it.prototype).Oa=function(n){this.M=n},O.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():mv.g(),this.C=function xR(n){return n.h||(n.h=n.i())}(this.u?this.u:mv),this.g.onreadystatechange=Xt(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(o){return void ZR(this,o)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const o of r.keys())t.set(o,r.get(o))}r=Array.from(t.keys()).find(o=>"content-type"==o.toLowerCase()),i=te.FormData&&n instanceof te.FormData,!(0<=sR(Vq,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of t)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{nx(this),0<this.B&&((this.L=function Fq(n){return ea&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Xt(this.ua,this)):this.A=hv(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(o){ZR(this,o)}},O.ua=function(){void 0!==Gy&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Bt(this,"timeout"),this.abort(8))},O.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Bt(this,"complete"),Bt(this,"abort"),Zh(this))},O.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Zh(this,!0)),it.$.N.call(this)},O.La=function(){this.s||(this.G||this.v||this.l?tx(this):this.kb())},O.kb=function(){tx(this)},O.isActive=function(){return!!this.g},O.da=function(){try{return 2<Rr(this)?this.g.status:-1}catch(n){return-1}},O.ja=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},O.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),Pq(e)}},O.Ia=function(){return this.m},O.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(O=ox.prototype).ra=8,O.H=1,O.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const i=new Sl(this,this.l,n);let o=this.s;if(this.U&&(o?(o=hR(o),pR(o,this.U)):o=this.U),null!==this.o||this.O||(i.I=o,o=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var r=this.j[t];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=ux(this,i,e),qe(t=si(this.I),"RID",n),qe(t,"CVER",22),this.F&&qe(t,"X-HTTP-Session-Id",this.F),Ll(this,t),o&&(this.O?e="headers="+encodeURIComponent(String(ix(o)))+"&"+e:this.o&&Dv(t,this.o,o)),wv(this.i,i),this.bb&&qe(t,"TYPE","init"),this.P?(qe(t,"$req",e),qe(t,"SID","null"),i.aa=!0,yv(i,t,null)):yv(i,t,e),this.H=2}}else 3==this.H&&(n?ax(this,n):0==this.j.length||WR(this.i)||ax(this))},O.Ma=function(){if(this.u=null,cx(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=bl(Xt(this.jb,this),n)}},O.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,gn(10),ef(this),cx(this))},O.ib=function(){null!=this.v&&(this.v=null,ef(this),Tv(this),gn(19))},O.pb=function(n){n?(this.l.info("Successfully pinged google.com"),gn(2)):(this.l.info("Failed to ping google.com"),gn(1))},O.isActive=function(){return!!this.h&&this.h.isActive(this)},(O=mx.prototype).Ba=function(){},O.Aa=function(){},O.za=function(){},O.ya=function(){},O.isActive=function(){return!0},O.Va=function(){},rf.prototype.g=function(n,e){return new Nn(n,e)},Rt(Nn,xt),Nn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;gn(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=px(n,null,n.Y),tf(n)},Nn.prototype.close=function(){Iv(this.g)},Nn.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=lv(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&tf(e)},Nn.prototype.N=function(){this.g.h=null,delete this.j,Iv(this.g),delete this.g,Nn.$.N.call(this)},Rt(_x,pv),Rt(yx,gv),Rt(ra,mx),ra.prototype.Ba=function(){Bt(this.g,"a")},ra.prototype.Aa=function(n){Bt(this.g,new _x(n))},ra.prototype.za=function(n){Bt(this.g,new yx)},ra.prototype.ya=function(){Bt(this.g,"b")},Rt(hr,function Lq(){this.blockSize=-1}),hr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},hr.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,i=this.h,o=0;o<e;){if(0==i)for(;o<=t;)Av(this,n,o),o+=this.blockSize;if("string"==typeof n){for(;o<e;)if(r[i++]=n.charCodeAt(o++),i==this.blockSize){Av(this,r),i=0;break}}else for(;o<e;)if(r[i++]=n[o++],i==this.blockSize){Av(this,r),i=0;break}}this.h=i,this.i+=e},hr.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var Bq={};function Sv(n){return-128<=n&&128>n?function WG(n,e){var t=Bq;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new Se([0|e],0>e?-1:0)}):new Se([0|n],0>n?-1:0)}function xr(n){if(isNaN(n)||!isFinite(n))return ia;if(0>n)return jt(xr(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=Mv;return new Se(e,0)}var Mv=4294967296,ia=Sv(0),Rv=Sv(1),Ex=Sv(16777216);function ai(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function Kn(n){return-1==n.h}function jt(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new Se(t,~n.h).add(Rv)}function of(n,e){return n.add(jt(e))}function sf(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function Bl(n,e){this.g=n,this.h=e}function af(n,e){if(ai(e))throw Error("division by zero");if(ai(n))return new Bl(ia,ia);if(Kn(n))return e=af(jt(n),e),new Bl(jt(e.g),jt(e.h));if(Kn(e))return e=af(n,jt(e)),new Bl(jt(e.g),e.h);if(30<n.g.length){if(Kn(n)||Kn(e))throw Error("slowDivide_ only works with positive integers.");for(var t=Rv,r=e;0>=r.X(n);)t=wx(t),r=wx(r);var i=oa(t,1),o=oa(r,1);for(r=oa(r,2),t=oa(t,2);!ai(r);){var s=o.add(r);0>=s.X(n)&&(i=i.add(t),o=s),r=oa(r,1),t=oa(t,1)}return e=of(n,i.R(e)),new Bl(i,e)}for(i=ia;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),s=(o=xr(t)).R(e);Kn(s)||0<s.X(n);)s=(o=xr(t-=r)).R(e);ai(o)&&(o=Rv),i=i.add(o),n=of(n,s)}return new Bl(i,n)}function wx(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new Se(t,n.h)}function oa(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,i=[],o=0;o<r;o++)i[o]=0<e?n.D(o+t)>>>e|n.D(o+t+1)<<32-e:n.D(o+t);return new Se(i,n.h)}(O=Se.prototype).ea=function(){if(Kn(this))return-jt(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:Mv+r)*e,e*=Mv}return n},O.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(ai(this))return"0";if(Kn(this))return"-"+jt(this).toString(n);for(var e=xr(Math.pow(n,6)),t=this,r="";;){var i=af(t,e).g,o=((0<(t=of(t,i.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(ai(t=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},O.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},O.X=function(n){return Kn(n=of(this,n))?-1:ai(n)?0:1},O.abs=function(){return Kn(this)?jt(this):this},O.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,i=0;i<=e;i++){var o=r+(65535&this.D(i))+(65535&n.D(i)),s=(o>>>16)+(this.D(i)>>>16)+(n.D(i)>>>16);r=s>>>16,t[i]=(s&=65535)<<16|(o&=65535)}return new Se(t,-2147483648&t[t.length-1]?-1:0)},O.R=function(n){if(ai(this)||ai(n))return ia;if(Kn(this))return Kn(n)?jt(this).R(jt(n)):jt(jt(this).R(n));if(Kn(n))return jt(this.R(jt(n)));if(0>this.X(Ex)&&0>n.X(Ex))return xr(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<n.g.length;i++){var o=this.D(r)>>>16,s=65535&this.D(r),a=n.D(i)>>>16,u=65535&n.D(i);t[2*r+2*i]+=s*u,sf(t,2*r+2*i),t[2*r+2*i+1]+=o*u,sf(t,2*r+2*i+1),t[2*r+2*i+1]+=s*a,sf(t,2*r+2*i+1),t[2*r+2*i+2]+=o*a,sf(t,2*r+2*i+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new Se(t,0)},O.gb=function(n){return af(this,n).h},O.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new Se(t,this.h&n.h)},O.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new Se(t,this.h|n.h)},O.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new Se(t,this.h^n.h)},rf.prototype.createWebChannel=rf.prototype.g,Nn.prototype.send=Nn.prototype.u,Nn.prototype.open=Nn.prototype.m,Nn.prototype.close=Nn.prototype.close,qh.NO_ERROR=0,qh.TIMEOUT=8,qh.HTTP_ERROR=6,RR.COMPLETE="complete",PR.EventType=Al,Al.OPEN="a",Al.CLOSE="b",Al.ERROR="c",Al.MESSAGE="d",xt.prototype.listen=xt.prototype.O,it.prototype.listenOnce=it.prototype.P,it.prototype.getLastError=it.prototype.Sa,it.prototype.getLastErrorCode=it.prototype.Ia,it.prototype.getStatus=it.prototype.da,it.prototype.getResponseJson=it.prototype.Wa,it.prototype.getResponseText=it.prototype.ja,it.prototype.send=it.prototype.ha,it.prototype.setWithCredentials=it.prototype.Oa,hr.prototype.digest=hr.prototype.l,hr.prototype.reset=hr.prototype.reset,hr.prototype.update=hr.prototype.j,Se.prototype.add=Se.prototype.add,Se.prototype.multiply=Se.prototype.R,Se.prototype.modulo=Se.prototype.gb,Se.prototype.compare=Se.prototype.X,Se.prototype.toNumber=Se.prototype.ea,Se.prototype.toString=Se.prototype.toString,Se.prototype.getBits=Se.prototype.D,Se.fromNumber=xr,Se.fromString=function vx(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return jt(vx(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=xr(Math.pow(e,8)),r=ia,i=0;i<n.length;i+=8){var o=Math.min(8,n.length-i),s=parseInt(n.substring(i,i+o),e);8>o?(o=xr(Math.pow(e,o)),r=r.R(o).add(xr(s))):r=(r=r.R(t)).add(xr(s))}return r};var jq=dr.createWebChannelTransport=function(){return new rf},Uq=dr.getStatEventTarget=function(){return Gh()},xv=dr.ErrorCode=qh,$q=dr.EventType=RR,Hq=dr.Event=xo,Cx=dr.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},uf=(dr.FetchXmlHttpFactory=Vl,dr.WebChannel=PR),Gq=dr.XhrIo=it,qq=dr.Md5=hr,sa=dr.Integer=Se;const Dx="@firebase/firestore";class Pt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Pt.UNAUTHENTICATED=new Pt(null),Pt.GOOGLE_CREDENTIALS=new Pt("google-credentials-uid"),Pt.FIRST_PARTY=new Pt("first-party-uid"),Pt.MOCK_USER=new Pt("mock-user");let aa="10.8.0";const Vi=new jM("@firebase/firestore");function ua(){return Vi.logLevel}function S(n,...e){if(Vi.logLevel<=ve.DEBUG){const t=e.map(Pv);Vi.debug(`Firestore (${aa}): ${n}`,...t)}}function ut(n,...e){if(Vi.logLevel<=ve.ERROR){const t=e.map(Pv);Vi.error(`Firestore (${aa}): ${n}`,...t)}}function Vn(n,...e){if(Vi.logLevel<=ve.WARN){const t=e.map(Pv);Vi.warn(`Firestore (${aa}): ${n}`,...t)}}function Pv(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(e){return n}}function $(n="Unexpected state"){const e=`FIRESTORE (${aa}) INTERNAL ASSERTION FAILED: `+n;throw ut(e),new Error(e)}function H(n,e){n||$()}function N(n,e){return n}const C={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class M extends Xs{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class It{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Ix{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class zq{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Pt.UNAUTHENTICATED))}shutdown(){}}class Wq{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Kq{constructor(e){this.t=e,this.currentUser=Pt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const o=l=>this.i!==i?(i=this.i,t(l)):Promise.resolve();let s=new It;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new It,e.enqueueRetryable(()=>o(this.currentUser))};const a=()=>{const l=s;e.enqueueRetryable(P(function*(){yield l.promise,yield o(r.currentUser)}))},u=l=>{S("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(l=>u(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?u(l):(S("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new It)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(S("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(H("string"==typeof r.accessToken),new Ix(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return H(null===e||"string"==typeof e),new Pt(e)}}class Qq{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=Pt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Yq{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new Qq(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Pt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Tx{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Jq{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const r=o=>{null!=o.error&&S("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,S("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{S("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):S("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(H("string"==typeof t.token),this.R=t.token,new Tx(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Xq(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class bx{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=Xq(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%e.length))}return r}}function Z(n,e){return n<e?-1:n>e?1:0}function la(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}class et{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new M(C.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new M(C.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new M(C.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new M(C.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return et.fromMillis(Date.now())}static fromDate(e){return et.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new et(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Z(this.nanoseconds,e.nanoseconds):Z(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class G{constructor(e){this.timestamp=e}static fromTimestamp(e){return new G(e)}static min(){return new G(new et(0,0))}static max(){return new G(new et(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class jl{constructor(e,t,r){void 0===t?t=0:t>e.length&&$(),void 0===r?r=e.length-t:r>e.length-t&&$(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===jl.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof jl?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const o=e.get(i),s=t.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class me extends jl{construct(e,t,r){return new me(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new M(C.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new me(t)}static emptyPath(){return new me([])}}const Zq=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qe extends jl{construct(e,t,r){return new Qe(e,t,r)}static isValidIdentifier(e){return Zq.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qe.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Qe(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const o=()=>{if(0===r.length)throw new M(C.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new M(C.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new M(C.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new M(C.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qe(t)}static emptyPath(){return new Qe([])}}class F{constructor(e){this.path=e}static fromPath(e){return new F(me.fromString(e))}static fromName(e){return new F(me.fromString(e).popFirst(5))}static empty(){return new F(me.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===me.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return me.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new F(new me(e.slice()))}}function Mx(n){return new Fn(n.readTime,n.key,-1)}class Fn{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Fn(G.min(),F.empty(),-1)}static max(){return new Fn(G.max(),F.empty(),-1)}}function Vv(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=F.comparator(n.documentKey,e.documentKey),0!==t?t:Z(n.largestBatchId,e.largestBatchId))}const Rx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";function Fi(n){return Fv.apply(this,arguments)}function Fv(){return Fv=P(function*(n){if(n.code!==C.FAILED_PRECONDITION||n.message!==Rx)throw n;S("LocalStore","Unexpectedly lost primary lease")}),Fv.apply(this,arguments)}class v{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&$(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new v((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof v?t:v.resolve(t)}catch(t){return v.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):v.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):v.reject(t)}static resolve(e){return new v((t,r)=>{t(e)})}static reject(e){return new v((t,r)=>{r(e)})}static waitFor(e){return new v((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},u=>r(u))}),s=!0,o===i&&t()})}static or(e){let t=v.resolve(!1);for(const r of e)t=t.next(i=>i?v.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new v((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let u=0;u<o;u++){const l=u;t(e[l]).next(c=>{s[l]=c,++a,a===o&&r(s)},c=>i(c))}})}static doWhile(e,t){return new v((r,i)=>{const o=()=>{!0===e()?t().next(()=>{o()},i):r()};o()})}}class lf{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new It,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new Ul(e,t.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=Ov(r.target.error);this.V.reject(new Ul(e,i))}}static open(e,t,r,i){try{return new lf(t,e.transaction(i,r))}catch(o){throw new Ul(t,o)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(S("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new iz(t)}}class Qn{constructor(e,t,r){this.name=e,this.version=t,this.p=r,12.2===Qn.S(Mi())&&ut("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return S("SimpleDb","Removing database:",e),ko(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!FM())return!1;if(Qn.C())return!0;const e=Mi(),t=Qn.S(e),r=0<t&&t<10,i=Qn.v(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static C(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.F)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}O(e){var t=this;return P(function*(){return t.db||(S("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const o=indexedDB.open(t.name,t.version);o.onsuccess=s=>{r(s.target.result)},o.onblocked=()=>{i(new Ul(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=s=>{const a=s.target.error;i("VersionError"===a.name?new M(C.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===a.name?new M(C.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a):new Ul(e,a))},o.onupgradeneeded=s=>{S("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',s.oldVersion),t.p.N(s.target.result,o.transaction,s.oldVersion,t.version).next(()=>{S("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=r=>t.B(r)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var o=this;return P(function*(){const s="readonly"===t;let a=0;for(;;){++a;try{o.db=yield o.O(e);const u=lf.open(o.db,e,s?"readonly":"readwrite",r),l=i(u).next(c=>(u.g(),c)).catch(c=>(u.abort(c),v.reject(c))).toPromise();return l.catch(()=>{}),yield u.m,l}catch(u){const l=u,c="FirebaseError"!==l.name&&a<3;if(S("SimpleDb","Transaction failed with error:",l.message,"Retrying:",c),o.close(),!c)return Promise.reject(l)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class rz{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return ko(this.k.delete())}}class Ul extends M{constructor(e,t){super(C.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Oi(n){return"IndexedDbTransactionError"===n.name}class iz{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(S("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(S("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),ko(r)}add(e){return S("SimpleDb","ADD",this.store.name,e,e),ko(this.store.add(e))}get(e){return ko(this.store.get(e)).next(t=>(void 0===t&&(t=null),S("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return S("SimpleDb","DELETE",this.store.name,e),ko(this.store.delete(e))}count(){return S("SimpleDb","COUNT",this.store.name),ko(this.store.count())}W(e,t){const r=this.options(e,t),i=r.index?this.store.index(r.index):this.store;if("function"==typeof i.getAll){const o=i.getAll(r.range);return new v((s,a)=>{o.onerror=u=>{a(u.target.error)},o.onsuccess=u=>{s(u.target.result)}})}{const o=this.cursor(r),s=[];return this.G(o,(a,u)=>{s.push(u)}).next(()=>s)}}j(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new v((i,o)=>{r.onerror=s=>{o(s.target.error)},r.onsuccess=s=>{i(s.target.result)}})}H(e,t){S("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.J=!1;const i=this.cursor(r);return this.G(i,(o,s,a)=>a.delete())}Y(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.G(i,t)}Z(e){const t=this.cursor({});return new v((r,i)=>{t.onerror=o=>{const s=Ov(o.target.error);i(s)},t.onsuccess=o=>{const s=o.target.result;s?e(s.primaryKey,s.value).next(a=>{a?s.continue():r()}):r()}})}G(e,t){const r=[];return new v((i,o)=>{e.onerror=s=>{o(s.target.error)},e.onsuccess=s=>{const a=s.target.result;if(!a)return void i();const u=new rz(a),l=t(a.primaryKey,a.value,u);if(l instanceof v){const c=l.catch(d=>(u.done(),v.reject(d)));r.push(c)}u.isDone?i():null===u.$?a.continue():a.continue(u.$)}}).next(()=>v.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function ko(n){return new v((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=Ov(r.target.error);t(i)}})}let xx=!1;function Ov(n){const e=Qn.S(Mi());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new M("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return xx||(xx=!0,setTimeout(()=>{throw r},0)),r}}return n}let On=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.se(i),this.oe=i=>r.writeSequenceNumber(i))}se(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.oe&&this.oe(t),t}}return n._e=-1,n})();function $l(n){return null==n}function Hl(n){return 0===n&&1/n==-1/0}function Bx(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ki(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function jx(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class je{constructor(e,t){this.comparator=e,this.root=t||Ut.EMPTY}insert(e,t){return new je(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ut.BLACK,null,null))}remove(e){return new je(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ut.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new df(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new df(this.root,e,this.comparator,!1)}getReverseIterator(){return new df(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new df(this.root,e,this.comparator,!0)}}class df{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ut{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=null!=r?r:Ut.RED,this.left=null!=i?i:Ut.EMPTY,this.right=null!=o?o:Ut.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new Ut(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===o?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ut.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Ut.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ut.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ut.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw $();const e=this.left.check();if(e!==this.right.check())throw $();return e+(this.isRed()?0:1)}}Ut.EMPTY=null,Ut.RED=!0,Ut.BLACK=!1,Ut.EMPTY=new class{constructor(){this.size=0}get key(){throw $()}get value(){throw $()}get color(){throw $()}get left(){throw $()}get right(){throw $()}copy(e,t,r,i,o){return this}insert(e,t,r){return new Ut(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class xe{constructor(e){this.comparator=e,this.data=new je(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Ux(this.data.getIterator())}getIteratorFrom(e){return new Ux(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof xe)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new xe(this.comparator);return t.data=e,t}}class Ux{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class En{constructor(e){this.fields=e,e.sort(Qe.comparator)}static empty(){return new En([])}unionWith(e){let t=new xe(Qe.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new En(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return la(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class $x extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Tt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(o){throw"undefined"!=typeof DOMException&&o instanceof DOMException?new $x("Invalid base64 string: "+o):o}}(e);return new Tt(t)}static fromUint8Array(e){const t=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new Tt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Z(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Tt.EMPTY_BYTE_STRING=new Tt("");const Tz=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Li(n){if(H(!!n),"string"==typeof n){let e=0;const t=Tz.exec(n);if(H(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ot(n.seconds),nanos:ot(n.nanos)}}function ot(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function ui(n){return"string"==typeof n?Tt.fromBase64String(n):Tt.fromUint8Array(n)}function hf(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function ff(n){const e=n.mapValue.fields.__previous_value__;return hf(e)?ff(e):e}function Gl(n){const e=Li(n.mapValue.fields.__local_write_time__.timestampValue);return new et(e.seconds,e.nanos)}class bz{constructor(e,t,r,i,o,s,a,u,l){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}}class Lo{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Lo("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Lo&&e.projectId===this.projectId&&e.database===this.database}}const Bi_mapValue={fields:{__type__:{stringValue:"__max__"}}};function ji(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?hf(n)?4:zx(n)?9007199254740991:10:$()}function Nr(n,e){if(n===e)return!0;const t=ji(n);if(t!==ji(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Gl(n).isEqual(Gl(e));case 3:return function(i,o){if("string"==typeof i.timestampValue&&"string"==typeof o.timestampValue&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=Li(i.timestampValue),a=Li(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return o=e,ui(n.bytesValue).isEqual(ui(o.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return ot(i.geoPointValue.latitude)===ot(o.geoPointValue.latitude)&&ot(i.geoPointValue.longitude)===ot(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return ot(i.integerValue)===ot(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=ot(i.doubleValue),a=ot(o.doubleValue);return s===a?Hl(s)===Hl(a):isNaN(s)&&isNaN(a)}return!1}(n,e);case 9:return la(n.arrayValue.values||[],e.arrayValue.values||[],Nr);case 10:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(Bx(s)!==Bx(a))return!1;for(const u in s)if(s.hasOwnProperty(u)&&(void 0===a[u]||!Nr(s[u],a[u])))return!1;return!0}(n,e);default:return $()}var o}function ql(n,e){return void 0!==(n.values||[]).find(t=>Nr(t,e))}function Ui(n,e){if(n===e)return 0;const t=ji(n),r=ji(e);if(t!==r)return Z(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Z(n.booleanValue,e.booleanValue);case 2:return function(o,s){const a=ot(o.integerValue||o.doubleValue),u=ot(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(n,e);case 3:return Hx(n.timestampValue,e.timestampValue);case 4:return Hx(Gl(n),Gl(e));case 5:return Z(n.stringValue,e.stringValue);case 6:return function(o,s){const a=ui(o),u=ui(s);return a.compareTo(u)}(n.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),u=s.split("/");for(let l=0;l<a.length&&l<u.length;l++){const c=Z(a[l],u[l]);if(0!==c)return c}return Z(a.length,u.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,s){const a=Z(ot(o.latitude),ot(s.latitude));return 0!==a?a:Z(ot(o.longitude),ot(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(o,s){const a=o.values||[],u=s.values||[];for(let l=0;l<a.length&&l<u.length;++l){const c=Ui(a[l],u[l]);if(c)return c}return Z(a.length,u.length)}(n.arrayValue,e.arrayValue);case 10:return function(o,s){if(o===Bi_mapValue&&s===Bi_mapValue)return 0;if(o===Bi_mapValue)return 1;if(s===Bi_mapValue)return-1;const a=o.fields||{},u=Object.keys(a),l=s.fields||{},c=Object.keys(l);u.sort(),c.sort();for(let d=0;d<u.length&&d<c.length;++d){const h=Z(u[d],c[d]);if(0!==h)return h;const f=Ui(a[u[d]],l[c[d]]);if(0!==f)return f}return Z(u.length,c.length)}(n.mapValue,e.mapValue);default:throw $()}}function Hx(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Z(n,e);const t=Li(n),r=Li(e),i=Z(t.seconds,r.seconds);return 0!==i?i:Z(t.nanos,r.nanos)}function fa(n){return Lv(n)}function Lv(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Li(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?ui(n.bytesValue).toBase64():"referenceValue"in n?F.fromName(n.referenceValue).toString():"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const o of t.values||[])i?i=!1:r+=",",r+=Lv(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${Lv(t.fields[s])}`;return i+"}"}(n.mapValue):$()}function Bo(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Bv(n){return!!n&&"integerValue"in n}function zl(n){return!!n&&"arrayValue"in n}function Gx(n){return!!n&&"nullValue"in n}function qx(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function mf(n){return!!n&&"mapValue"in n}function Wl(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return ki(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Wl(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Wl(n.arrayValue.values[t]);return e}return Object.assign({},n)}function zx(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class $t{constructor(e){this.value=e}static empty(){return new $t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!mf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Wl(t)}setAll(e){let t=Qe.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){const u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=Wl(s):i.push(a.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){const t=this.field(e.popLast());mf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Nr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];mf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){ki(t,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new $t(Wl(this.value))}}function Qx(n){const e=[];return ki(n.fields,(t,r)=>{const i=new Qe([t]);if(mf(r)){const o=Qx(r.mapValue).fields;if(0===o.length)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new En(e)}class ze{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new ze(e,0,G.min(),G.min(),G.min(),$t.empty(),0)}static newFoundDocument(e,t,r,i){return new ze(e,1,t,G.min(),r,i,0)}static newNoDocument(e,t){return new ze(e,2,t,G.min(),G.min(),$t.empty(),0)}static newUnknownDocument(e,t){return new ze(e,3,t,G.min(),G.min(),$t.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(G.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=$t.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=$t.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=G.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof ze&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ze(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class $i{constructor(e,t){this.position=e,this.inclusive=t}}function Yx(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const o=e[i],s=n.position[i];if(r=o.field.isKeyField()?F.comparator(F.fromName(s.referenceValue),t.key):Ui(s,t.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function Jx(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Nr(n.position[t],e.position[t]))return!1;return!0}class Kl{constructor(e,t="asc"){this.field=e,this.dir=t}}function Mz(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class Xx{}class _e extends Xx{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new Rz(e,t,r):"array-contains"===t?new Nz(e,r):"in"===t?new iP(e,r):"not-in"===t?new Vz(e,r):"array-contains-any"===t?new Fz(e,r):new _e(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new xz(e,r):new Pz(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Ui(t,this.value)):null!==t&&ji(this.value)===ji(t)&&this.matchesComparison(Ui(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return $()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Me extends Xx{constructor(e,t){super(),this.filters=e,this.op=t,this.ue=null}static create(e,t){return new Me(e,t)}matches(e){return pa(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function pa(n){return"and"===n.op}function Uv(n){return function Zx(n){for(const e of n.filters)if(e instanceof Me)return!1;return!0}(n)&&pa(n)}function $v(n){if(n instanceof _e)return n.field.canonicalString()+n.op.toString()+fa(n.value);if(Uv(n))return n.filters.map(e=>$v(e)).join(",");{const e=n.filters.map(t=>$v(t)).join(",");return`${n.op}(${e})`}}function eP(n,e){return n instanceof _e?(r=n,(i=e)instanceof _e&&r.op===i.op&&r.field.isEqual(i.field)&&Nr(r.value,i.value)):n instanceof Me?function(r,i){return i instanceof Me&&r.op===i.op&&r.filters.length===i.filters.length&&r.filters.reduce((o,s,a)=>o&&eP(s,i.filters[a]),!0)}(n,e):void $();var r,i}function nP(n){return n instanceof _e?`${(t=n).field.canonicalString()} ${t.op} ${fa(t.value)}`:n instanceof Me?function(t){return t.op.toString()+" {"+t.getFilters().map(nP).join(" ,")+"}"}(n):"Filter";var t}class Rz extends _e{constructor(e,t,r){super(e,t,r),this.key=F.fromName(r.referenceValue)}matches(e){const t=F.comparator(e.key,this.key);return this.matchesComparison(t)}}class xz extends _e{constructor(e,t){super(e,"in",t),this.keys=rP(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Pz extends _e{constructor(e,t){super(e,"not-in",t),this.keys=rP(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function rP(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>F.fromName(r.referenceValue))}class Nz extends _e{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return zl(t)&&ql(t.arrayValue,this.value)}}class iP extends _e{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&ql(this.value.arrayValue,t)}}class Vz extends _e{constructor(e,t){super(e,"not-in",t)}matches(e){if(ql(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!ql(this.value.arrayValue,t)}}class Fz extends _e{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!zl(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>ql(this.value.arrayValue,r))}}class Oz{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ce=null}}function Hv(n,e=null,t=[],r=[],i=null,o=null,s=null){return new Oz(n,e,t,r,i,o,s)}function jo(n){const e=N(n);if(null===e.ce){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>$v(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(o=r).field.canonicalString()+o.dir;var o}).join(","),$l(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>fa(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>fa(r)).join(",")),e.ce=t}return e.ce}function Ql(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Mz(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!eP(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Jx(n.startAt,e.startAt)&&Jx(n.endAt,e.endAt)}function _f(n){return F.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class li{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.le=null,this.he=null,this.Pe=null}}function ga(n){return new li(n)}function uP(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function Gv(n){return null!==n.collectionGroup}function ma(n){const e=N(n);if(null===e.le){e.le=[];const t=new Set;for(const o of e.explicitOrderBy)e.le.push(o),t.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new xe(Qe.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.le.push(new Kl(o,r))}),t.has(Qe.keyField().canonicalString())||e.le.push(new Kl(Qe.keyField(),r))}return e.le}function mn(n){const e=N(n);return e.he||(e.he=function lP(n,e){if("F"===n.limitType)return Hv(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>new Kl(i.field,"desc"===i.dir?"asc":"desc"));const t=n.endAt?new $i(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new $i(n.startAt.position,n.startAt.inclusive):null;return Hv(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}(e,ma(n))),e.he}function qv(n,e){const t=n.filters.concat([e]);return new li(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function vf(n,e,t){return new li(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Yl(n,e){return Ql(mn(n),mn(e))&&n.limitType===e.limitType}function cP(n){return`${jo(mn(n))}|lt:${n.limitType}`}function _a(n){return`Query(target=${function(t){let r=t.path.canonicalString();return null!==t.collectionGroup&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>nP(i)).join(", ")}]`),$l(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>{return`${(s=i).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>fa(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>fa(i)).join(",")),`Target(${r})`}(mn(n))}; limitType=${n.limitType})`}function Jl(n,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return null!==r.collectionGroup?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):F.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(const o of ma(r))if(!o.field.isKeyField()&&null===i.data.field(o.field))return!1;return!0}(n,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&(i=e,!((r=n).startAt&&!function(s,a,u){const l=Yx(s,a,u);return s.inclusive?l<=0:l<0}(r.startAt,ma(r),i)||r.endAt&&!function(s,a,u){const l=Yx(s,a,u);return s.inclusive?l>=0:l>0}(r.endAt,ma(r),i)));var r,i}function hP(n){return(e,t)=>{let r=!1;for(const i of ma(n)){const o=kz(i,e,t);if(0!==o)return o;r=r||i.field.isKeyField()}return 0}}function kz(n,e,t){const r=n.field.isKeyField()?F.comparator(e.key,t.key):function(o,s,a){const u=s.data.field(o),l=a.data.field(o);return null!==u&&null!==l?Ui(u,l):$()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return $()}}class ci{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,o]of r)if(this.equalsFn(i,e))return o}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ki(this.inner,(t,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return jx(this.inner)}size(){return this.innerSize}}const Lz=new je(F.comparator);function wn(){return Lz}const fP=new je(F.comparator);function Xl(...n){let e=fP;for(const t of n)e=e.insert(t.key,t);return e}function pP(n){let e=fP;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Vr(){return Zl()}function gP(){return Zl()}function Zl(){return new ci(n=>n.toString(),(n,e)=>n.isEqual(e))}const Bz=new je(F.comparator),jz=new xe(F.comparator);function se(...n){let e=jz;for(const t of n)e=e.add(t);return e}const Uz=new xe(Z);function mP(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Hl(e)?"-0":e}}function _P(n){return{integerValue:""+n}}function yP(n,e){return function Px(n){return"number"==typeof n&&Number.isInteger(n)&&!Hl(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?_P(e):mP(n,e)}class Ef{constructor(){this._=void 0}}function $z(n,e,t){return n instanceof ya?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&hf(o)&&(o=ff(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(t,e):n instanceof Uo?EP(n,e):n instanceof $o?wP(n,e):function(i,o){const s=vP(i,o),a=CP(s)+CP(i.Ie);return Bv(s)&&Bv(i.Ie)?_P(a):mP(i.serializer,a)}(n,e)}function Hz(n,e,t){return n instanceof Uo?EP(n,e):n instanceof $o?wP(n,e):t}function vP(n,e){return n instanceof va?Bv(r=e)||(o=r)&&"doubleValue"in o?e:{integerValue:0}:null;var r,o}class ya extends Ef{}class Uo extends Ef{constructor(e){super(),this.elements=e}}function EP(n,e){const t=DP(e);for(const r of n.elements)t.some(i=>Nr(i,r))||t.push(r);return{arrayValue:{values:t}}}class $o extends Ef{constructor(e){super(),this.elements=e}}function wP(n,e){let t=DP(e);for(const r of n.elements)t=t.filter(i=>!Nr(i,r));return{arrayValue:{values:t}}}class va extends Ef{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function CP(n){return ot(n.integerValue||n.doubleValue)}function DP(n){return zl(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class qz{constructor(e,t){this.version=e,this.transformResults=t}}class Ye{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ye}static exists(e){return new Ye(void 0,e)}static updateTime(e){return new Ye(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function wf(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Cf{}function IP(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new wa(n.key,Ye.none()):new Ea(n.key,n.data,Ye.none());{const t=n.data,r=$t.empty();let i=new xe(Qe.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);null===s&&o.length>1&&(o=o.popLast(),s=t.field(o)),null===s?r.delete(o):r.set(o,s),i=i.add(o)}return new di(n.key,r,new En(i.toArray()),Ye.none())}}function zz(n,e,t){n instanceof Ea?function(i,o,s){const a=i.value.clone(),u=AP(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):n instanceof di?function(i,o,s){if(!wf(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=AP(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(bP(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function tc(n,e,t,r){return n instanceof Ea?function(o,s,a,u){if(!wf(o.precondition,s))return a;const l=o.value.clone(),c=SP(o.fieldTransforms,u,s);return l.setAll(c),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(n,e,t,r):n instanceof di?function(o,s,a,u){if(!wf(o.precondition,s))return a;const l=SP(o.fieldTransforms,u,s),c=s.data;return c.setAll(bP(o)),c.setAll(l),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null===a?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(d=>d.field))}(n,e,t,r):(a=t,wf(n.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a);var s,a}function Wz(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),o=vP(r.transform,i||null);null!=o&&(null===t&&(t=$t.empty()),t.set(r.field,o))}return t||null}function TP(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(r=n.fieldTransforms)&&void 0===i||r&&i&&la(r,i,(o,s)=>function Gz(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(r=n.transform)instanceof Uo&&i instanceof Uo||r instanceof $o&&i instanceof $o?la(r.elements,i.elements,Nr):r instanceof va&&i instanceof va?Nr(r.Ie,i.Ie):r instanceof ya&&i instanceof ya);var r,i}(o,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var r,i}class Ea extends Cf{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class di extends Cf{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function bP(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function AP(n,e,t){const r=new Map;H(n.length===t.length);for(let i=0;i<t.length;i++){const o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,Hz(s,a,t[i]))}return r}function SP(n,e,t){const r=new Map;for(const i of n){const o=i.transform,s=t.data.field(i.field);r.set(i.field,$z(o,s,e))}return r}class wa extends Cf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Wv extends Cf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Kv{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&zz(o,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=tc(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=tc(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=gP();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;const u=IP(s,a);null!==u&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(G.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),se())}isEqual(e){return this.batchId===e.batchId&&la(this.mutations,e.mutations,(t,r)=>TP(t,r))&&la(this.baseMutations,e.baseMutations,(t,r)=>TP(t,r))}}class Qv{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){H(e.mutations.length===r.length);let i=Bz;const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new Qv(e,t,r,i)}}class Yv{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Qz{constructor(e,t){this.count=e,this.unchangedNames=t}}var yt,Ce;function MP(n){switch(n){default:return $();case C.CANCELLED:case C.UNKNOWN:case C.DEADLINE_EXCEEDED:case C.RESOURCE_EXHAUSTED:case C.INTERNAL:case C.UNAVAILABLE:case C.UNAUTHENTICATED:return!1;case C.INVALID_ARGUMENT:case C.NOT_FOUND:case C.ALREADY_EXISTS:case C.PERMISSION_DENIED:case C.FAILED_PRECONDITION:case C.ABORTED:case C.OUT_OF_RANGE:case C.UNIMPLEMENTED:case C.DATA_LOSS:return!0}}function RP(n){if(void 0===n)return ut("GRPC error has no .code"),C.UNKNOWN;switch(n){case yt.OK:return C.OK;case yt.CANCELLED:return C.CANCELLED;case yt.UNKNOWN:return C.UNKNOWN;case yt.DEADLINE_EXCEEDED:return C.DEADLINE_EXCEEDED;case yt.RESOURCE_EXHAUSTED:return C.RESOURCE_EXHAUSTED;case yt.INTERNAL:return C.INTERNAL;case yt.UNAVAILABLE:return C.UNAVAILABLE;case yt.UNAUTHENTICATED:return C.UNAUTHENTICATED;case yt.INVALID_ARGUMENT:return C.INVALID_ARGUMENT;case yt.NOT_FOUND:return C.NOT_FOUND;case yt.ALREADY_EXISTS:return C.ALREADY_EXISTS;case yt.PERMISSION_DENIED:return C.PERMISSION_DENIED;case yt.FAILED_PRECONDITION:return C.FAILED_PRECONDITION;case yt.ABORTED:return C.ABORTED;case yt.OUT_OF_RANGE:return C.OUT_OF_RANGE;case yt.UNIMPLEMENTED:return C.UNIMPLEMENTED;case yt.DATA_LOSS:return C.DATA_LOSS;default:return $()}}(Ce=yt||(yt={}))[Ce.OK=0]="OK",Ce[Ce.CANCELLED=1]="CANCELLED",Ce[Ce.UNKNOWN=2]="UNKNOWN",Ce[Ce.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ce[Ce.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ce[Ce.NOT_FOUND=5]="NOT_FOUND",Ce[Ce.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ce[Ce.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ce[Ce.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ce[Ce.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ce[Ce.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ce[Ce.ABORTED=10]="ABORTED",Ce[Ce.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ce[Ce.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ce[Ce.INTERNAL=13]="INTERNAL",Ce[Ce.UNAVAILABLE=14]="UNAVAILABLE",Ce[Ce.DATA_LOSS=15]="DATA_LOSS";const Yz=new sa([4294967295,4294967295],0);function PP(n){const e=function xP(){return new TextEncoder}().encode(n),t=new qq;return t.update(e),new Uint8Array(t.digest())}function NP(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new sa([t,r],0),new sa([i,o],0)]}class Jv{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new nc(`Invalid padding: ${t}`);if(r<0)throw new nc(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new nc(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new nc(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ee=sa.fromNumber(this.Te)}de(e,t,r){let i=e.add(t.multiply(sa.fromNumber(r)));return 1===i.compare(Yz)&&(i=new sa([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const t=PP(e),[r,i]=NP(t);for(let o=0;o<this.hashCount;o++){const s=this.de(r,i,o);if(!this.Ae(s))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new Jv(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(0===this.Te)return;const t=PP(e),[r,i]=NP(t);for(let o=0;o<this.hashCount;o++){const s=this.de(r,i,o);this.Re(s)}}Re(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class nc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class rc{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,ic.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new rc(G.min(),i,new je(Z),wn(),se())}}class ic{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new ic(r,t,se(),se(),se())}}class If{constructor(e,t,r,i){this.Ve=e,this.removedTargetIds=t,this.key=r,this.me=i}}class VP{constructor(e,t){this.targetId=e,this.fe=t}}class FP{constructor(e,t,r=Tt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class OP{constructor(){this.ge=0,this.pe=LP(),this.ye=Tt.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=se(),t=se(),r=se();return this.pe.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:$()}}),new ic(this.ye,this.we,e,t,r)}Fe(){this.Se=!1,this.pe=LP()}Me(e,t){this.Se=!0,this.pe=this.pe.insert(e,t)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,H(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class Jz{constructor(e){this.Le=e,this.ke=new Map,this.qe=wn(),this.Qe=kP(),this.Ke=new je(Z)}$e(e){for(const t of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(t,e.me):this.We(t,e.key,e.me);for(const t of e.removedTargetIds)this.We(t,e.key,e.me)}Ge(e){this.forEachTarget(e,t=>{const r=this.ze(t);switch(e.state){case 0:this.je(t)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(t);break;case 3:this.je(t)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),r.Ce(e.resumeToken));break;default:$()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ke.forEach((r,i)=>{this.je(i)&&t(i)})}Je(e){const t=e.targetId,r=e.fe.count,i=this.Ye(t);if(i){const o=i.target;if(_f(o))if(0===r){const s=new F(o.path);this.We(t,s,ze.newNoDocument(s,G.min()))}else H(1===r);else{const s=this.Ze(t);if(s!==r){const a=this.Xe(e),u=a?this.et(a,e,s):1;0!==u&&(this.He(t),this.Ke=this.Ke.insert(t,2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(e){const t=e.fe.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t;let s,a;try{s=ui(r).toUint8Array()}catch(u){if(u instanceof $x)return Vn("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new Jv(s,i,o)}catch(u){return Vn(u instanceof nc?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return 0===a.Te?null:a}et(e,t,r){return t.fe.count===r-this.rt(e,t.targetId)?0:2}rt(e,t){const r=this.Le.getRemoteKeysForTarget(t);let i=0;return r.forEach(o=>{const s=this.Le.nt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.We(t,o,null),i++)}),i}it(e){const t=new Map;this.ke.forEach((o,s)=>{const a=this.Ye(s);if(a){if(o.current&&_f(a.target)){const u=new F(a.target.path);null!==this.qe.get(u)||this.st(s,u)||this.We(s,u,ze.newNoDocument(u,e))}o.De&&(t.set(s,o.ve()),o.Fe())}});let r=se();this.Qe.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{const l=this.Ye(u);return!l||"TargetPurposeLimboResolution"===l.purpose||(a=!1,!1)}),a&&(r=r.add(o))}),this.qe.forEach((o,s)=>s.setReadTime(e));const i=new rc(e,t,this.Ke,this.qe,r);return this.qe=wn(),this.Qe=kP(),this.Ke=new je(Z),i}Ue(e,t){if(!this.je(e))return;const r=this.st(e,t.key)?2:0;this.ze(e).Me(t.key,r),this.qe=this.qe.insert(t.key,t),this.Qe=this.Qe.insert(t.key,this.ot(t.key).add(e))}We(e,t,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,t)?i.Me(t,1):i.xe(t),this.Qe=this.Qe.insert(t,this.ot(t).delete(e)),r&&(this.qe=this.qe.insert(t,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let t=this.ke.get(e);return t||(t=new OP,this.ke.set(e,t)),t}ot(e){let t=this.Qe.get(e);return t||(t=new xe(Z),this.Qe=this.Qe.insert(e,t)),t}je(e){const t=null!==this.Ye(e);return t||S("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.ke.get(e);return t&&t.be?null:this.Le._t(e)}He(e){this.ke.set(e,new OP),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}st(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function kP(){return new je(F.comparator)}function LP(){return new je(F.comparator)}const Xz={asc:"ASCENDING",desc:"DESCENDING"},Zz={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},e7={and:"AND",or:"OR"};class t7{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Xv(n,e){return n.useProto3Json||$l(e)?e:{value:e}}function Ca(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function BP(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function n7(n,e){return Ca(n,e.toTimestamp())}function lt(n){return H(!!n),G.fromTimestamp(function(t){const r=Li(t);return new et(r.seconds,r.nanos)}(n))}function Zv(n,e){return e0(n,e).canonicalString()}function e0(n,e){const t=(i=n,new me(["projects",i.projectId,"databases",i.database])).child("documents");var i;return void 0===e?t:t.child(e)}function jP(n){const e=me.fromString(n);return H(YP(e)),e}function oc(n,e){return Zv(n.databaseId,e.path)}function Fr(n,e){const t=jP(e);if(t.get(1)!==n.databaseId.projectId)throw new M(C.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new M(C.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new F(HP(t))}function UP(n,e){return Zv(n.databaseId,e)}function t0(n){return new me(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function HP(n){return H(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function GP(n,e,t){return{name:oc(n,e),fields:t.value.mapValue.fields}}function zP(n,e){return{documents:[UP(n,e.path)]}}function r0(n,e){const t={structuredQuery:{}},r=e.path;let i;null!==e.collectionGroup?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=UP(n,i);const o=function(l){if(0!==l.length)return QP(Me.create(l,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const s=function(l){if(0!==l.length)return l.map(c=>{return{field:Hi((h=c).field),direction:a7(h.dir)};var h})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const a=Xv(n,e.limit);return null!==a&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt={before:(l=e.startAt).inclusive,values:l.position}),e.endAt&&(t.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{ut:t,parent:i};var l}function WP(n){let e=function $P(n){const e=jP(n);return 4===e.length?me.emptyPath():HP(e)}(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){H(1===r);const c=t.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let o=[];t.where&&(o=function(d){const h=KP(d);return h instanceof Me&&Uv(h)?h.getFilters():[h]}(t.where));let s=[];t.orderBy&&(s=t.orderBy.map(h=>{return new Kl(Da((p=h).field),function(m){switch(m){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction));var p}));let a=null;t.limit&&(a=function(d){let h;return h="object"==typeof d?d.value:d,$l(h)?null:h}(t.limit));let u=null;var d;t.startAt&&(u=new $i((d=t.startAt).values||[],!!d.before));let l=null;return t.endAt&&(l=function(d){return new $i(d.values||[],!d.before)}(t.endAt)),function aP(n,e,t,r,i,o,s,a){return new li(n,e,t,r,i,o,s,a)}(e,i,s,o,a,"F",u,l)}function KP(n){return void 0!==n.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Da(t.unaryFilter.field);return _e.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Da(t.unaryFilter.field);return _e.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Da(t.unaryFilter.field);return _e.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Da(t.unaryFilter.field);return _e.create(s,"!=",{nullValue:"NULL_VALUE"});default:return $()}}(n):void 0!==n.fieldFilter?_e.create(Da((t=n).fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return $()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==n.compositeFilter?function(t){return Me.create(t.compositeFilter.filters.map(r=>KP(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return $()}}(t.compositeFilter.op))}(n):$();var t}function a7(n){return Xz[n]}function u7(n){return Zz[n]}function l7(n){return e7[n]}function Hi(n){return{fieldPath:n.canonicalString()}}function Da(n){return Qe.fromServerFormat(n.fieldPath)}function QP(n){return n instanceof _e?function(t){if("=="===t.op){if(qx(t.value))return{unaryFilter:{field:Hi(t.field),op:"IS_NAN"}};if(Gx(t.value))return{unaryFilter:{field:Hi(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(qx(t.value))return{unaryFilter:{field:Hi(t.field),op:"IS_NOT_NAN"}};if(Gx(t.value))return{unaryFilter:{field:Hi(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Hi(t.field),op:u7(t.op),value:t.value}}}(n):n instanceof Me?function(t){const r=t.getFilters().map(i=>QP(i));return 1===r.length?r[0]:{compositeFilter:{op:l7(t.op),filters:r}}}(n):$()}function c7(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function YP(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class hi{constructor(e,t,r,i,o=G.min(),s=G.min(),a=Tt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new hi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new hi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new hi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new hi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class JP{constructor(e){this.ct=e}}function o0(n){const e=WP({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?vf(e,e.limit,"L"):e}class zo{constructor(){}Pt(e,t){this.It(e,t),t.Tt()}It(e,t){if("nullValue"in e)this.Et(t,5);else if("booleanValue"in e)this.Et(t,10),t.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(t,15),t.dt(ot(e.integerValue));else if("doubleValue"in e){const r=ot(e.doubleValue);isNaN(r)?this.Et(t,13):(this.Et(t,15),Hl(r)?t.dt(0):t.dt(r))}else if("timestampValue"in e){const r=e.timestampValue;this.Et(t,20),"string"==typeof r?t.At(r):(t.At(`${r.seconds||""}`),t.dt(r.nanos||0))}else if("stringValue"in e)this.Rt(e.stringValue,t),this.Vt(t);else if("bytesValue"in e)this.Et(t,30),t.ft(ui(e.bytesValue)),this.Vt(t);else if("referenceValue"in e)this.gt(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.Et(t,45),t.dt(r.latitude||0),t.dt(r.longitude||0)}else"mapValue"in e?zx(e)?this.Et(t,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,t),this.Vt(t)):"arrayValue"in e?(this.wt(e.arrayValue,t),this.Vt(t)):$()}Rt(e,t){this.Et(t,25),this.St(e,t)}St(e,t){t.At(e)}yt(e,t){const r=e.fields||{};this.Et(t,55);for(const i of Object.keys(r))this.Rt(i,t),this.It(r[i],t)}wt(e,t){const r=e.values||[];this.Et(t,50);for(const i of r)this.It(i,t)}gt(e,t){this.Et(t,37),F.fromName(e).path.forEach(r=>{this.Et(t,60),this.St(r,t)})}Et(e,t){e.dt(t)}Vt(e){e.dt(2)}}zo.bt=new zo;class y7{constructor(){this._n=new d0}addToCollectionParentIndex(e,t){return this._n.add(t),v.resolve()}getCollectionParents(e,t){return v.resolve(this._n.getEntries(t))}addFieldIndex(e,t){return v.resolve()}deleteFieldIndex(e,t){return v.resolve()}deleteAllFieldIndexes(e){return v.resolve()}createTargetIndexes(e,t){return v.resolve()}getDocumentsMatchingTarget(e,t){return v.resolve(null)}getIndexType(e,t){return v.resolve(0)}getFieldIndexes(e,t){return v.resolve([])}getNextCollectionGroupToUpdate(e){return v.resolve(null)}getMinOffset(e,t){return v.resolve(Fn.min())}getMinOffsetFromCollectionGroup(e,t){return v.resolve(Fn.min())}updateCollectionGroup(e,t,r){return v.resolve()}updateIndexEntries(e,t){return v.resolve()}}class d0{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new xe(me.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new xe(me.comparator)).toArray()}}new Uint8Array(0);class tn{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new tn(e,tn.DEFAULT_COLLECTION_PERCENTILE,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}tn.DEFAULT_COLLECTION_PERCENTILE=10,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,tn.DEFAULT=new tn(41943040,tn.DEFAULT_COLLECTION_PERCENTILE,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),tn.DISABLED=new tn(-1,0,0);class Ko{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new Ko(0)}static Bn(){return new Ko(-1)}}class A7{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class I4{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&tc(r.mutation,i,En.empty(),et.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,se()).next(()=>r))}getLocalViewOfDocuments(e,t,r=se()){const i=Vr();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=Xl();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){const r=Vr();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,se()))}populateOverlays(e,t,r){const i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=wn();const s=Zl(),a=Zl();return t.forEach((u,l)=>{const c=r.get(l.key);i.has(l.key)&&(void 0===c||c.mutation instanceof di)?o=o.insert(l.key,l):void 0!==c?(s.set(l.key,c.mutation.getFieldMask()),tc(c.mutation,l,c.mutation.getFieldMask(),et.now())):s.set(l.key,En.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,c)=>s.set(l,c)),t.forEach((l,c)=>{var d;return a.set(l,new A7(c,null!==(d=s.get(l))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,t){const r=Zl();let i=new je((s,a)=>s-a),o=se();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(const a of s)a.keys().forEach(u=>{const l=t.get(u);if(null===l)return;let c=r.get(u)||En.empty();c=a.applyToLocalView(l,c),r.set(u,c);const d=(i.get(a.batchId)||se()).add(u);i=i.insert(a.batchId,d)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),l=u.key,c=u.value,d=gP();c.forEach(h=>{if(!o.has(h)){const f=IP(t.get(h),r.get(h));null!==f&&d.set(h,f),o=o.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,d))}return v.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return F.isDocumentKey((s=t).path)&&null===s.collectionGroup&&0===s.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):Gv(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i);var s}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):v.resolve(Vr());let a=-1,u=o;return s.next(l=>v.forEach(l,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),o.get(c)?v.resolve():this.remoteDocumentCache.getEntry(e,c).next(h=>{u=u.insert(c,h)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,se())).next(c=>({batchId:a,changes:pP(c)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new F(t)).next(r=>{let i=Xl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const o=t.collectionGroup;let s=Xl();return this.indexManager.getCollectionParents(e,o).next(a=>v.forEach(a,u=>{const l=(d=t,h=u.child(o),new li(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt));var d,h;return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(c=>{c.forEach((d,h)=>{s=s.insert(d,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((u,l)=>{const c=l.getKey();null===s.get(c)&&(s=s.insert(c,ze.newInvalidDocument(c)))});let a=Xl();return s.forEach((u,l)=>{const c=o.get(u);void 0!==c&&tc(c.mutation,l,En.empty(),et.now()),Jl(t,l)&&(a=a.insert(u,l))}),a})}}class S7{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,t){return v.resolve(this.cr.get(t))}saveBundleMetadata(e,t){return this.cr.set(t.id,{id:(i=t).id,version:i.version,createTime:lt(i.createTime)}),v.resolve();var i}getNamedQuery(e,t){return v.resolve(this.lr.get(t))}saveNamedQuery(e,t){return this.lr.set(t.name,{name:(i=t).name,query:o0(i.bundledQuery),readTime:lt(i.readTime)}),v.resolve();var i}}class M7{constructor(){this.overlays=new je(F.comparator),this.hr=new Map}getOverlay(e,t){return v.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Vr();return v.forEach(t,i=>this.getOverlay(e,i).next(o=>{null!==o&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.ht(e,t,o)}),v.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.hr.get(r);return void 0!==i&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.hr.delete(r)),v.resolve()}getOverlaysForCollection(e,t,r){const i=Vr(),o=t.length+1,s=new F(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const u=a.getNext().value,l=u.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return v.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new je((l,c)=>l-c);const s=this.overlays.getIterator();for(;s.hasNext();){const l=s.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>r){let c=o.get(l.largestBatchId);null===c&&(c=Vr(),o=o.insert(l.largestBatchId,c)),c.set(l.getKey(),l)}}const a=Vr(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,c)=>a.set(l,c)),!(a.size()>=i)););return v.resolve(a)}ht(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const s=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new Yv(t,r));let o=this.hr.get(t);void 0===o&&(o=se(),this.hr.set(t,o)),this.hr.set(t,o.add(r.key))}}class h0{constructor(){this.Pr=new xe(Vt.Ir),this.Tr=new xe(Vt.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,t){const r=new Vt(e,t);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Ar(new Vt(e,t))}Rr(e,t){e.forEach(r=>this.removeReference(r,t))}Vr(e){const t=new F(new me([])),r=new Vt(t,e),i=new Vt(t,e+1),o=[];return this.Tr.forEachInRange([r,i],s=>{this.Ar(s),o.push(s.key)}),o}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const t=new F(new me([])),r=new Vt(t,e),i=new Vt(t,e+1);let o=se();return this.Tr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const t=new Vt(e,0),r=this.Pr.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Vt{constructor(e,t){this.key=e,this.pr=t}static Ir(e,t){return F.comparator(e.key,t.key)||Z(e.pr,t.pr)}static Er(e,t){return Z(e.pr,t.pr)||F.comparator(e.key,t.key)}}class R7{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.yr=1,this.wr=new xe(Vt.Ir)}checkEmpty(e){return v.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const o=this.yr;this.yr++;const s=new Kv(o,t,r,i);this.mutationQueue.push(s);for(const a of i)this.wr=this.wr.add(new Vt(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return v.resolve(s)}lookupMutationBatch(e,t){return v.resolve(this.Sr(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.br(t+1),o=i<0?0:i;return v.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return v.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(e){return v.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Vt(t,0),i=new Vt(t,Number.POSITIVE_INFINITY),o=[];return this.wr.forEachInRange([r,i],s=>{const a=this.Sr(s.pr);o.push(a)}),v.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new xe(Z);return t.forEach(i=>{const o=new Vt(i,0),s=new Vt(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([o,s],a=>{r=r.add(a.pr)})}),v.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let o=r;F.isDocumentKey(o)||(o=o.child(""));const s=new Vt(new F(o),0);let a=new xe(Z);return this.wr.forEachWhile(u=>{const l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.pr)),!0)},s),v.resolve(this.Dr(a))}Dr(e){const t=[];return e.forEach(r=>{const i=this.Sr(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){H(0===this.Cr(t.batchId,"removed")),this.mutationQueue.shift();let r=this.wr;return v.forEach(t.mutations,i=>{const o=new Vt(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,t){const r=new Vt(t,0),i=this.wr.firstAfterOrEqual(r);return v.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return v.resolve()}Cr(e,t){return this.br(e)}br(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Sr(e){const t=this.br(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class x7{constructor(e){this.vr=e,this.docs=new je(F.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.vr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return v.resolve(r?r.document.mutableCopy():ze.newInvalidDocument(t))}getEntries(e,t){let r=wn();return t.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():ze.newInvalidDocument(i))}),v.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=wn();const s=t.path,a=new F(s.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:l,value:{document:c}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||Vv(Mx(c),r)<=0||(i.has(c.key)||Jl(t,c))&&(o=o.insert(c.key,c.mutableCopy()))}return v.resolve(o)}getAllFromCollectionGroup(e,t,r,i){$()}Fr(e,t){return v.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new P7(this)}getSize(e){return v.resolve(this.size)}}class P7 extends class I7{constructor(){this.changes=new ci(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ze.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?v.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}{constructor(e){super(),this.ar=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),v.waitFor(t)}getFromCache(e,t){return this.ar.getEntry(e,t)}getAllFromCache(e,t){return this.ar.getEntries(e,t)}}class N7{constructor(e){this.persistence=e,this.Mr=new ci(t=>jo(t),Ql),this.lastRemoteSnapshotVersion=G.min(),this.highestTargetId=0,this.Or=0,this.Nr=new h0,this.targetCount=0,this.Br=Ko.Nn()}forEachTarget(e,t){return this.Mr.forEach((r,i)=>t(i)),v.resolve()}getLastRemoteSnapshotVersion(e){return v.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return v.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),v.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Or&&(this.Or=t),v.resolve()}qn(e){this.Mr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Br=new Ko(t),this.highestTargetId=t),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,t){return this.qn(t),this.targetCount+=1,v.resolve()}updateTargetData(e,t){return this.qn(t),v.resolve()}removeTargetData(e,t){return this.Mr.delete(t.target),this.Nr.Vr(t.targetId),this.targetCount-=1,v.resolve()}removeTargets(e,t,r){let i=0;const o=[];return this.Mr.forEach((s,a)=>{a.sequenceNumber<=t&&null===r.get(a.targetId)&&(this.Mr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),v.waitFor(o).next(()=>i)}getTargetCount(e){return v.resolve(this.targetCount)}getTargetData(e,t){const r=this.Mr.get(t)||null;return v.resolve(r)}addMatchingKeys(e,t,r){return this.Nr.dr(t,r),v.resolve()}removeMatchingKeys(e,t,r){this.Nr.Rr(t,r);const i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),v.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Nr.Vr(t),v.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Nr.gr(t);return v.resolve(r)}containsKey(e,t){return v.resolve(this.Nr.containsKey(t))}}class f0{constructor(e,t){this.Lr={},this.overlays={},this.kr=new On(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new N7(this),this.indexManager=new y7,this.remoteDocumentCache=new x7(r=>this.referenceDelegate.Kr(r)),this.serializer=new JP(t),this.$r=new S7(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new M7,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Lr[e.toKey()];return r||(r=new R7(t,this.referenceDelegate),this.Lr[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,t,r){S("MemoryPersistence","Starting transaction:",e);const i=new V7(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(o=>this.referenceDelegate.Wr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Gr(e,t){return v.or(Object.values(this.Lr).map(r=>()=>r.containsKey(e,t)))}}class V7 extends class nz{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}{constructor(e){super(),this.currentSequenceNumber=e}}class Pf{constructor(e){this.persistence=e,this.zr=new h0,this.jr=null}static Hr(e){return new Pf(e)}get Jr(){if(this.jr)return this.jr;throw $()}addReference(e,t,r){return this.zr.addReference(r,t),this.Jr.delete(r.toString()),v.resolve()}removeReference(e,t,r){return this.zr.removeReference(r,t),this.Jr.add(r.toString()),v.resolve()}markPotentiallyOrphaned(e,t){return this.Jr.add(t.toString()),v.resolve()}removeTarget(e,t){this.zr.Vr(t.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.Jr.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}Ur(){this.jr=new Set}Wr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return v.forEach(this.Jr,r=>{const i=F.fromPath(r);return this.Yr(e,i).next(o=>{o||t.removeEntry(i,G.min())})}).next(()=>(this.jr=null,t.apply(e)))}updateLimboDocument(e,t){return this.Yr(e,t).next(r=>{r?this.Jr.delete(t.toString()):this.Jr.add(t.toString())})}Kr(e){return 0}Yr(e,t){return v.or([()=>v.resolve(this.zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gr(e,t)])}}class _0{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.qi=r,this.Qi=i}static Ki(e,t){let r=se(),i=se();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new _0(e,t.fromCache,r,i)}}class O7{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class b4{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function l8(){return!function u8(){var n;const e=null===(n=Rh())||void 0===n?void 0:n.forceEnvironment;if("node"===e)return!0;if("browser"===e)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}()?8:Qn.v(Mi())>0?6:4}initialize(e,t){this.zi=e,this.indexManager=t,this.$i=!0}getDocumentsMatchingQuery(e,t,r,i){const o={result:null};return this.ji(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Hi(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new O7;return this.Ji(e,t,s).next(a=>{if(o.result=a,this.Ui)return this.Yi(e,t,s,a.size)})}).next(()=>o.result)}Yi(e,t,r,i){return r.documentReadCount<this.Wi?(ua()<=ve.DEBUG&&S("QueryEngine","SDK will not create cache indexes for query:",_a(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),v.resolve()):(ua()<=ve.DEBUG&&S("QueryEngine","Query:",_a(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(ua()<=ve.DEBUG&&S("QueryEngine","The SDK decides to create cache indexes for query:",_a(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,mn(t))):v.resolve())}ji(e,t){if(uP(t))return v.resolve(null);let r=mn(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=vf(t,null,"F"),r=mn(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=se(...o);return this.zi.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const l=this.Zi(t,a);return this.Xi(t,l,s,u.readTime)?this.ji(e,vf(t,null,"F")):this.es(e,l,t,u)}))})))}Hi(e,t,r,i){return uP(t)||i.isEqual(G.min())?v.resolve(null):this.zi.getDocuments(e,r).next(o=>{const s=this.Zi(t,o);return this.Xi(t,s,r,i)?v.resolve(null):(ua()<=ve.DEBUG&&S("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),_a(t)),this.es(e,s,t,function Sx(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=G.fromTimestamp(1e9===r?new et(t+1,0):new et(t,r));return new Fn(i,F.empty(),e)}(i,-1)).next(a=>a))})}Zi(e,t){let r=new xe(hP(e));return t.forEach((i,o)=>{Jl(e,o)&&(r=r.add(o))}),r}Xi(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const o="F"===e.limitType?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ji(e,t,r){return ua()<=ve.DEBUG&&S("QueryEngine","Using full collection scan to execute query:",_a(t)),this.zi.getDocumentsMatchingQuery(e,t,Fn.min(),r)}es(e,t,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}}class k7{constructor(e,t,r,i){this.persistence=e,this.ts=t,this.serializer=i,this.ns=new je(Z),this.rs=new ci(o=>jo(o),Ql),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new I4(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ns))}}function S4(n,e){return y0.apply(this,arguments)}function y0(){return y0=P(function*(n,e){const t=N(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t._s(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let u=se();for(const l of i){s.push(l.batchId);for(const c of l.mutations)u=u.add(c.key)}for(const l of o){a.push(l.batchId);for(const c of l.mutations)u=u.add(c.key)}return t.localDocuments.getDocuments(r,u).next(l=>({us:l,removedBatchIds:s,addedBatchIds:a}))})})}),y0.apply(this,arguments)}function L7(n,e){const t=N(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=t.os.newChangeBuffer({trackRemovals:!0});return function(a,u,l,c){const d=l.batch,h=d.keys();let f=v.resolve();return h.forEach(p=>{f=f.next(()=>c.getEntry(u,p)).next(g=>{const m=l.docVersions.get(p);H(null!==m),g.version.compareTo(m)<0&&(d.applyToRemoteDocument(g,l),g.isValidDocument()&&(g.setReadTime(l.commitVersion),c.addEntry(g)))})}),f.next(()=>a.mutationQueue.removeMutationBatch(u,d))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=se();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function M4(n){const e=N(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Qr.getLastRemoteSnapshotVersion(t))}function B7(n,e){const t=N(n),r=e.snapshotVersion;let i=t.ns;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=t.os.newChangeBuffer({trackRemovals:!0});i=t.ns;const a=[];e.targetChanges.forEach((c,d)=>{const h=i.get(d);if(!h)return;a.push(t.Qr.removeMatchingKeys(o,c.removedDocuments,d).next(()=>t.Qr.addMatchingKeys(o,c.addedDocuments,d)));let f=h.withSequenceNumber(o.currentSequenceNumber);var g,m,_;null!==e.targetMismatches.get(d)?f=f.withResumeToken(Tt.EMPTY_BYTE_STRING,G.min()).withLastLimboFreeSnapshotVersion(G.min()):c.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(c.resumeToken,r)),i=i.insert(d,f),m=f,_=c,(0===(g=h).resumeToken.approximateByteSize()||m.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8||_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0)&&a.push(t.Qr.updateTargetData(o,f))});let u=wn(),l=se();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,c))}),a.push(function R4(n,e,t){let r=se(),i=se();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=wn();return t.forEach((a,u)=>{const l=o.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(G.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||0===u.version.compareTo(l.version)&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):S("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{cs:s,ls:i}})}(o,s,e.documentUpdates).next(c=>{u=c.cs,l=c.ls})),!r.isEqual(G.min())){const c=t.Qr.getLastRemoteSnapshotVersion(o).next(d=>t.Qr.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(c)}return v.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(t.ns=i,o))}function j7(n,e){const t=N(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Sa(n,e){const t=N(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Qr.getTargetData(r,e).next(o=>o?(i=o,v.resolve(i)):t.Qr.allocateTargetId(r).next(s=>(i=new hi(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.ns.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.ns=t.ns.insert(r.targetId,r),t.rs.set(e,r.targetId)),r})}function Ma(n,e,t){return v0.apply(this,arguments)}function v0(){return v0=P(function*(n,e,t){const r=N(n),i=r.ns.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Oi(s))throw s;S("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}),v0.apply(this,arguments)}function Ff(n,e,t){const r=N(n);let i=G.min(),o=se();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,l,c){const d=N(u),h=d.rs.get(c);return void 0!==h?v.resolve(d.ns.get(h)):d.Qr.getTargetData(l,c)}(r,s,mn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.ts.getDocumentsMatchingQuery(s,e,t?i:G.min(),t?o:se())).next(a=>(function N4(n,e,t){let r=n.ss.get(e)||G.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.ss.set(e,r)}(r,function dP(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),a),{documents:a,hs:o})))}class I0{constructor(){this.activeTargetIds=function zv(){return Uz}()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class O4{constructor(){this.no=new I0,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,t,r){this.ro[e]=t}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new I0,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class H7{io(e){}shutdown(){}}class k4{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){S("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){S("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Lf=null;function b0(){return null===Lf?Lf=268435456+Math.round(2147483648*Math.random()):Lf++,"0x"+Lf.toString(16)}const G7={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class q7{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}const nn="WebChannelConnection";class z7 extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+t.host,this.po=`projects/${i}/databases/${o}`,this.yo="(default)"===this.databaseId.database?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get wo(){return!1}So(t,r,i,o,s){const a=b0(),u=this.bo(t,r.toUriEncodedString());S("RestConnection",`Sending RPC '${t}' ${a}:`,u,i);const l={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(l,o,s),this.Co(t,u,l,i).then(c=>(S("RestConnection",`Received RPC '${t}' ${a}: `,c),c),c=>{throw Vn("RestConnection",`RPC '${t}' ${a} failed with error: `,c,"url: ",u,"request:",i),c})}vo(t,r,i,o,s,a){return this.So(t,r,i,o,s)}Do(t,r,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+aa,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>t[s]=o),i&&i.headers.forEach((o,s)=>t[s]=o)}bo(t,r){return`${this.fo}/v1/${r}:${G7[t]}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,t,r,i){const o=b0();return new Promise((s,a)=>{const u=new Gq;u.setWithCredentials(!0),u.listenOnce($q.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case xv.NO_ERROR:const c=u.getResponseJson();S(nn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(c)),s(c);break;case xv.TIMEOUT:S(nn,`RPC '${e}' ${o} timed out`),a(new M(C.DEADLINE_EXCEEDED,"Request time out"));break;case xv.HTTP_ERROR:const d=u.getStatus();if(S(nn,`RPC '${e}' ${o} failed with status:`,d,"response text:",u.getResponseText()),d>0){let h=u.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=null==h?void 0:h.error;if(f&&f.status&&f.message){const p=function(m){const _=m.toLowerCase().replace(/_/g,"-");return Object.values(C).indexOf(_)>=0?_:C.UNKNOWN}(f.status);a(new M(p,f.message))}else a(new M(C.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new M(C.UNAVAILABLE,"Connection failed."));break;default:$()}}finally{S(nn,`RPC '${e}' ${o} completed.`)}});const l=JSON.stringify(i);S(nn,`RPC '${e}' ${o} sending request:`,i),u.send(t,"POST",l,r,15)})}Fo(e,t,r){const i=b0(),o=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=jq(),a=Uq(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Do(u.initMessageHeaders,t,r),u.encodeInitMessageHeaders=!0;const c=o.join("");S(nn,`Creating RPC '${e}' stream ${i}: ${c}`,u);const d=s.createWebChannel(c,u);let h=!1,f=!1;const p=new q7({lo:m=>{f?S(nn,`Not sending because RPC '${e}' stream ${i} is closed:`,m):(h||(S(nn,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),S(nn,`RPC '${e}' stream ${i} sending:`,m),d.send(m))},ho:()=>d.close()}),g=(m,_,I)=>{m.listen(_,y=>{try{I(y)}catch(b){setTimeout(()=>{throw b},0)}})};return g(d,uf.EventType.OPEN,()=>{f||S(nn,`RPC '${e}' stream ${i} transport opened.`)}),g(d,uf.EventType.CLOSE,()=>{f||(f=!0,S(nn,`RPC '${e}' stream ${i} transport closed`),p.Vo())}),g(d,uf.EventType.ERROR,m=>{f||(f=!0,Vn(nn,`RPC '${e}' stream ${i} transport errored:`,m),p.Vo(new M(C.UNAVAILABLE,"The operation could not be completed")))}),g(d,uf.EventType.MESSAGE,m=>{var _;if(!f){const I=m.data[0];H(!!I);const y=I,b=y.error||(null===(_=y[0])||void 0===_?void 0:_.error);if(b){S(nn,`RPC '${e}' stream ${i} received error:`,b);const U=b.status;let q=function(Tc){const Wa=yt[Tc];if(void 0!==Wa)return RP(Wa)}(U),Oe=b.message;void 0===q&&(q=C.INTERNAL,Oe="Unknown error status: "+U+" with message "+b.message),f=!0,p.Vo(new M(q,Oe)),d.close()}else S(nn,`RPC '${e}' stream ${i} received:`,I),p.mo(I)}}),g(a,Hq.STAT_EVENT,m=>{m.stat===Cx.PROXY?S(nn,`RPC '${e}' stream ${i} detected buffering proxy`):m.stat===Cx.NOPROXY&&S(nn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.Ro()},0),p}}function Bf(){return"undefined"!=typeof document?document:null}function pc(n){return new t7(n,!0)}class A0{constructor(e,t,r=1e3,i=1.5,o=6e4){this.oi=e,this.timerId=t,this.Mo=r,this.xo=i,this.Oo=o,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const t=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Lo),i=Math.max(0,t-r);i>0&&S("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.No} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Bo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Lo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){null!==this.Bo&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){null!==this.Bo&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}}class B4{constructor(e,t,r,i,o,s,a,u){this.oi=e,this.$o=r,this.Uo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new A0(e,t)}Ho(){return 1===this.state||5===this.state||this.Jo()}Jo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Yo()}stop(){var e=this;return P(function*(){e.Ho()&&(yield e.close(0))})()}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&null===this.Go&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}e_(){var e=this;return P(function*(){if(e.Jo())return e.close(0)})()}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}close(e,t){var r=this;return P(function*(){r.n_(),r.r_(),r.jo.cancel(),r.Wo++,4!==e?r.jo.reset():t&&t.code===C.RESOURCE_EXHAUSTED?(ut(t.toString()),ut("Using maximum backoff delay to prevent overloading the backend."),r.jo.ko()):t&&t.code===C.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.i_(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.To(t)})()}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),t=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Wo===t&&this.o_(r,i)},r=>{e(()=>{const i=new M(C.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(i)})})}o_(e,t){const r=this.s_(this.Wo);this.stream=this.a_(e,t),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(i=>{r(()=>this.__(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Yo(){var e=this;this.state=5,this.jo.qo(P(function*(){e.state=0,e.start()}))}__(e){return S("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return t=>{this.oi.enqueueAndForget(()=>this.Wo===e?t():(S("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class W7 extends B4{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}a_(e,t){return this.connection.Fo("Listen",e,t)}onMessage(e){this.jo.reset();const t=function i7(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(l=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===l?1:"REMOVE"===l?2:"CURRENT"===l?3:"RESET"===l?4:$(),i=e.targetChange.targetIds||[],o=function(l,c){return l.useProto3Json?(H(void 0===c||"string"==typeof c),Tt.fromBase64String(c||"")):(H(void 0===c||c instanceof Uint8Array),Tt.fromUint8Array(c||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){const c=void 0===l.code?C.UNKNOWN:RP(l.code);return new M(c,l.message||"")}(s);t=new FP(r,i,o,a||null)}else if("documentChange"in e){const r=e.documentChange,i=Fr(n,r.document.name),o=lt(r.document.updateTime),s=r.document.createTime?lt(r.document.createTime):G.min(),a=new $t({mapValue:{fields:r.document.fields}}),u=ze.newFoundDocument(i,o,s,a);t=new If(r.targetIds||[],r.removedTargetIds||[],u.key,u)}else if("documentDelete"in e){const r=e.documentDelete,i=Fr(n,r.document),o=r.readTime?lt(r.readTime):G.min(),s=ze.newNoDocument(i,o);t=new If([],r.removedTargetIds||[],s.key,s)}else if("documentRemove"in e){const r=e.documentRemove,i=Fr(n,r.document);t=new If([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return $();{const r=e.filter,{count:i=0,unchangedNames:o}=r,s=new Qz(i,o);t=new VP(r.targetId,s)}}var l;return t}(this.serializer,e),r=function(o){if(!("targetChange"in o))return G.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?G.min():s.readTime?lt(s.readTime):G.min()}(e);return this.listener.u_(t,r)}c_(e){const t={};t.database=t0(this.serializer),t.addTarget=function(o,s){let a;const u=s.target;if(a=_f(u)?{documents:zP(o,u)}:{query:r0(o,u).ut},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=BP(o,s.resumeToken);const l=Xv(o,s.expectedCount);null!==l&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(G.min())>0){a.readTime=Ca(o,s.snapshotVersion.toTimestamp());const l=Xv(o,s.expectedCount);null!==l&&(a.expectedCount=l)}return a}(this.serializer,e);const r=function s7(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return $()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.t_(t)}l_(e){const t={};t.database=t0(this.serializer),t.removeTarget=e,this.t_(t)}}class K7 extends B4{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,t){return this.connection.Fo("Write",e,t)}onMessage(e){if(H(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const t=function o7(n,e){return n&&n.length>0?(H(void 0!==e),n.map(t=>function(i,o){let s=lt(i.updateTime?i.updateTime:o);return s.isEqual(G.min())&&(s=lt(o)),new qz(s,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=lt(e.commitTime);return this.listener.T_(r,t)}return H(!e.writeResults||0===e.writeResults.length),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=t0(this.serializer),this.t_(e)}I_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>function sc(n,e){let t;if(e instanceof Ea)t={update:GP(n,e.key,e.value)};else if(e instanceof wa)t={delete:oc(n,e.key)};else if(e instanceof di)t={update:GP(n,e.key,e.data),updateMask:c7(e.fieldMask)};else{if(!(e instanceof Wv))return $();t={verify:oc(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof ya)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Uo)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof $o)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof va)return{fieldPath:s.field.canonicalString(),increment:a.Ie};throw $()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:n7(n,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:$()),t;var o}(this.serializer,r))};this.t_(t)}}class Q7 extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.A_=!1}R_(){if(this.A_)throw new M(C.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.So(e,e0(t,r),i,o,s)).catch(o=>{throw"FirebaseError"===o.name?(o.code===C.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new M(C.UNKNOWN,o.toString())})}vo(e,t,r,i,o){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.vo(e,e0(t,r),i,s,a,o)).catch(s=>{throw"FirebaseError"===s.name?(s.code===C.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new M(C.UNKNOWN,s.toString())})}terminate(){this.A_=!0,this.connection.terminate()}}class J7{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){0===this.m_&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){"Online"===this.state?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,"Online"===e&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(ut(t),this.g_=!1):S("OnlineStateTracker",t)}b_(){null!==this.f_&&(this.f_.cancel(),this.f_=null)}}class X7{constructor(e,t,r,i,o){var s=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=o,this.M_.io(a=>{r.enqueueAndForget(P(function*(){var u;Wi(s)&&(S("RemoteStore","Restarting streams for network reachability change."),yield(u=P(function*(c){const d=N(c);d.v_.add(4),yield Ra(d),d.x_.set("Unknown"),d.v_.delete(4),yield gc(d)}),function l(c){return u.apply(this,arguments)})(s))}))}),this.x_=new J7(r,i)}}function gc(n){return M0.apply(this,arguments)}function M0(){return M0=P(function*(n){if(Wi(n))for(const e of n.F_)yield e(!0)}),M0.apply(this,arguments)}function Ra(n){return R0.apply(this,arguments)}function R0(){return R0=P(function*(n){for(const e of n.F_)yield e(!1)}),R0.apply(this,arguments)}function jf(n,e){const t=N(n);t.C_.has(e.targetId)||(t.C_.set(e.targetId,e),N0(t)?P0(t):Pa(t).Jo()&&x0(t,e))}function mc(n,e){const t=N(n),r=Pa(t);t.C_.delete(e),r.Jo()&&j4(t,e),0===t.C_.size&&(r.Jo()?r.Xo():Wi(t)&&t.x_.set("Unknown"))}function x0(n,e){if(n.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(G.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Pa(n).c_(e)}function j4(n,e){n.O_.Oe(e),Pa(n).l_(e)}function P0(n){n.O_=new Jz({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>n.C_.get(e)||null,nt:()=>n.datastore.serializer.databaseId}),Pa(n).start(),n.x_.p_()}function N0(n){return Wi(n)&&!Pa(n).Ho()&&n.C_.size>0}function Wi(n){return 0===N(n).v_.size}function U4(n){n.O_=void 0}function Z7(n){return V0.apply(this,arguments)}function V0(){return V0=P(function*(n){n.C_.forEach((e,t)=>{x0(n,e)})}),V0.apply(this,arguments)}function eW(n,e){return F0.apply(this,arguments)}function F0(){return F0=P(function*(n,e){U4(n),N0(n)?(n.x_.S_(e),P0(n)):n.x_.set("Unknown")}),F0.apply(this,arguments)}function tW(n,e,t){return O0.apply(this,arguments)}function O0(){return O0=P(function*(n,e,t){if(n.x_.set("Online"),e instanceof FP&&2===e.state&&e.cause)try{yield(r=P(function*(o,s){const a=s.cause;for(const u of s.targetIds)o.C_.has(u)&&(yield o.remoteSyncer.rejectListen(u,a),o.C_.delete(u),o.O_.removeTarget(u))}),function i(o,s){return r.apply(this,arguments)})(n,e)}catch(r){S("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Uf(n,r)}else if(e instanceof If?n.O_.$e(e):e instanceof VP?n.O_.Je(e):n.O_.Ge(e),!t.isEqual(G.min()))try{const r=yield M4(n.localStore);t.compareTo(r)>=0&&(yield function(o,s){const a=o.O_.it(s);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){const c=o.C_.get(l);c&&o.C_.set(l,c.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,l)=>{const c=o.C_.get(u);if(!c)return;o.C_.set(u,c.withResumeToken(Tt.EMPTY_BYTE_STRING,c.snapshotVersion)),j4(o,u);const d=new hi(c.target,u,l,c.sequenceNumber);x0(o,d)}),o.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(r){S("RemoteStore","Failed to raise snapshot:",r),yield Uf(n,r)}var r}),O0.apply(this,arguments)}function Uf(n,e,t){return k0.apply(this,arguments)}function k0(){return k0=P(function*(n,e,t){if(!Oi(e))throw e;n.v_.add(1),yield Ra(n),n.x_.set("Offline"),t||(t=()=>M4(n.localStore)),n.asyncQueue.enqueueRetryable(P(function*(){S("RemoteStore","Retrying IndexedDB access"),yield t(),n.v_.delete(1),yield gc(n)}))}),k0.apply(this,arguments)}function $4(n,e){return e().catch(t=>Uf(n,t,e))}function xa(n){return L0.apply(this,arguments)}function L0(){return L0=P(function*(n){const e=N(n),t=Ki(e);let r=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;nW(e);)try{const i=yield j7(e.localStore,r);if(null===i){0===e.D_.length&&t.Xo();break}r=i.batchId,rW(e,i)}catch(i){yield Uf(e,i)}H4(e)&&G4(e)}),L0.apply(this,arguments)}function nW(n){return Wi(n)&&n.D_.length<10}function rW(n,e){n.D_.push(e);const t=Ki(n);t.Jo()&&t.P_&&t.I_(e.mutations)}function H4(n){return Wi(n)&&!Ki(n).Ho()&&n.D_.length>0}function G4(n){Ki(n).start()}function iW(n){return B0.apply(this,arguments)}function B0(){return B0=P(function*(n){Ki(n).d_()}),B0.apply(this,arguments)}function oW(n){return j0.apply(this,arguments)}function j0(){return j0=P(function*(n){const e=Ki(n);for(const t of n.D_)e.I_(t.mutations)}),j0.apply(this,arguments)}function sW(n,e,t){return U0.apply(this,arguments)}function U0(){return U0=P(function*(n,e,t){const r=n.D_.shift(),i=Qv.from(r,e,t);yield $4(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield xa(n)}),U0.apply(this,arguments)}function aW(n,e){return $0.apply(this,arguments)}function $0(){return $0=P(function*(n,e){var t;e&&Ki(n).P_&&(yield(t=P(function*(i,o){if(MP(a=o.code)&&a!==C.ABORTED){const s=i.D_.shift();Ki(i).Zo(),yield $4(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,o)),yield xa(i)}var a}),function r(i,o){return t.apply(this,arguments)})(n,e)),H4(n)&&G4(n)}),$0.apply(this,arguments)}function q4(n,e){return H0.apply(this,arguments)}function H0(){return H0=P(function*(n,e){const t=N(n);t.asyncQueue.verifyOperationInProgress(),S("RemoteStore","RemoteStore received new credentials");const r=Wi(t);t.v_.add(3),yield Ra(t),r&&t.x_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.v_.delete(3),yield gc(t)}),H0.apply(this,arguments)}function q0(){return q0=P(function*(n,e){const t=N(n);e?(t.v_.delete(2),yield gc(t)):e||(t.v_.add(2),yield Ra(t),t.x_.set("Unknown"))}),q0.apply(this,arguments)}function Pa(n){return n.N_||(n.N_=function(t,r,i){const o=N(t);return o.R_(),new W7(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Po:Z7.bind(null,n),To:eW.bind(null,n),u_:tW.bind(null,n)}),n.F_.push(function(){var e=P(function*(t){t?(n.N_.Zo(),N0(n)?P0(n):n.x_.set("Unknown")):(yield n.N_.stop(),U4(n))});return function(t){return e.apply(this,arguments)}}())),n.N_}function Ki(n){return n.B_||(n.B_=function(t,r,i){const o=N(t);return o.R_(),new K7(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Po:iW.bind(null,n),To:aW.bind(null,n),E_:oW.bind(null,n),T_:sW.bind(null,n)}),n.F_.push(function(){var e=P(function*(t){t?(n.B_.Zo(),yield xa(n)):(yield n.B_.stop(),n.D_.length>0&&(S("RemoteStore",`Stopping write stream with ${n.D_.length} pending writes`),n.D_=[]))});return function(t){return e.apply(this,arguments)}}())),n.B_}class z0{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new It,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){const s=Date.now()+r,a=new z0(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new M(C.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Na(n,e){if(ut("AsyncQueue",`${e}: ${n}`),Oi(n))return new M(C.UNAVAILABLE,`${e}: ${n}`);throw n}class Va{constructor(e){this.comparator=e?(t,r)=>e(t,r)||F.comparator(t.key,r.key):(t,r)=>F.comparator(t.key,r.key),this.keyedMap=Xl(),this.sortedSet=new je(this.comparator)}static emptySet(e){return new Va(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Va)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Va;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class z4{constructor(){this.L_=new je(F.comparator)}track(e){const t=e.doc.key,r=this.L_.get(t);r?0!==e.type&&3===r.type?this.L_=this.L_.insert(t,e):3===e.type&&1!==r.type?this.L_=this.L_.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.L_=this.L_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.L_=this.L_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.L_=this.L_.remove(t):1===e.type&&2===r.type?this.L_=this.L_.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.L_=this.L_.insert(t,{type:2,doc:e.doc}):$():this.L_=this.L_.insert(t,e)}k_(){const e=[];return this.L_.inorderTraversal((t,r)=>{e.push(r)}),e}}class Fa{constructor(e,t,r,i,o,s,a,u,l){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,t,r,i,o){const s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new Fa(e,t,Va.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Yl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class uW{constructor(){this.q_=void 0,this.Q_=[]}}class lW{constructor(){this.queries=new ci(e=>cP(e),Yl),this.onlineState="Unknown",this.K_=new Set}}function W0(n,e){return K0.apply(this,arguments)}function K0(){return K0=P(function*(n,e){const t=N(n),r=e.query;let i=!1,o=t.queries.get(r);if(o||(i=!0,o=new uW),i)try{o.q_=yield t.onListen(r)}catch(s){const a=Na(s,`Initialization of query '${_a(e.query)}' failed`);return void e.onError(a)}t.queries.set(r,o),o.Q_.push(e),e.U_(t.onlineState),o.q_&&e.W_(o.q_)&&J0(t)}),K0.apply(this,arguments)}function Q0(n,e){return Y0.apply(this,arguments)}function Y0(){return Y0=P(function*(n,e){const t=N(n),r=e.query;let i=!1;const o=t.queries.get(r);if(o){const s=o.Q_.indexOf(e);s>=0&&(o.Q_.splice(s,1),i=0===o.Q_.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),Y0.apply(this,arguments)}function cW(n,e){const t=N(n);let r=!1;for(const i of e){const s=t.queries.get(i.query);if(s){for(const a of s.Q_)a.W_(i)&&(r=!0);s.q_=i}}r&&J0(t)}function dW(n,e,t){const r=N(n),i=r.queries.get(e);if(i)for(const o of i.Q_)o.onError(t);r.queries.delete(e)}function J0(n){n.K_.forEach(e=>{e.next()})}class X0{constructor(e,t,r){this.query=e,this.G_=t,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=r||{}}W_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Fa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.z_?this.H_(e)&&(this.G_.next(e),t=!0):this.J_(e,this.onlineState)&&(this.Y_(e),t=!0),this.j_=e,t}onError(e){this.G_.error(e)}U_(e){this.onlineState=e;let t=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),t=!0),t}J_(e,t){return!e.fromCache||(!this.options.Z_||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}H_(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Y_(e){e=Fa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}}class Q4{constructor(e){this.key=e}}class Y4{constructor(e){this.key=e}}class J4{constructor(e,t){this.query=e,this.oa=t,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=se(),this.mutatedKeys=se(),this.ua=hP(e),this.ca=new Va(this.ua)}get la(){return this.oa}ha(e,t){const r=t?t.Pa:new z4,i=t?t.ca:this.ca;let o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1;const u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,l="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,d)=>{const h=i.get(c),f=Jl(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),g=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let m=!1;h&&f?h.data.isEqual(f.data)?p!==g&&(r.track({type:3,doc:f}),m=!0):this.Ia(h,f)||(r.track({type:2,doc:f}),m=!0,(u&&this.ua(f,u)>0||l&&this.ua(f,l)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),m=!0):h&&!f&&(r.track({type:1,doc:h}),m=!0,(u||l)&&(a=!0)),m&&(f?(s=s.add(f),o=g?o.add(c):o.delete(c)):(s=s.delete(c),o=o.delete(c)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const c="F"===this.query.limitType?s.last():s.first();s=s.delete(c.key),o=o.delete(c.key),r.track({type:1,doc:c})}return{ca:s,Pa:r,Xi:a,mutatedKeys:o}}Ia(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const o=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;const s=e.Pa.k_();s.sort((c,d)=>function(f,p){const g=m=>{switch(m){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return $()}};return g(f)-g(p)}(c.type,d.type)||this.ua(c.doc,d.doc)),this.Ta(r),i=null!=i&&i;const a=t&&!i?this.Ea():[],u=0===this.aa.size&&this.current&&!i?1:0,l=u!==this._a;return this._a=u,0!==s.length||l?{snapshot:new Fa(this.query,e.ca,o,s,e.mutatedKeys,0===u,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),da:a}:{da:a}}U_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new z4,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{da:[]}}Aa(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}Ta(e){e&&(e.addedDocuments.forEach(t=>this.oa=this.oa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.oa=this.oa.delete(t)),this.current=e.current)}Ea(){if(!this.current)return[];const e=this.aa;this.aa=se(),this.ca.forEach(r=>{this.Aa(r.key)&&(this.aa=this.aa.add(r.key))});const t=[];return e.forEach(r=>{this.aa.has(r)||t.push(new Y4(r))}),this.aa.forEach(r=>{e.has(r)||t.push(new Q4(r))}),t}Ra(e){this.oa=e.hs,this.aa=se();const t=this.ha(e.documents);return this.applyChanges(t,!0)}Va(){return Fa.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,0===this._a,this.hasCachedResults)}}class pW{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class gW{constructor(e){this.key=e,this.ma=!1}}class mW{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.fa={},this.ga=new ci(a=>cP(a),Yl),this.pa=new Map,this.ya=new Set,this.wa=new je(F.comparator),this.Sa=new Map,this.ba=new h0,this.Da={},this.Ca=new Map,this.va=Ko.Bn(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return!0===this.Fa}}function _W(n,e){return Z0.apply(this,arguments)}function Z0(){return Z0=P(function*(n,e){const t=CE(n);let r,i;const o=t.ga.get(e);if(o)r=o.targetId,t.sharedClientState.addLocalQueryTarget(r),i=o.view.Va();else{const s=yield Sa(t.localStore,mn(e)),a=t.sharedClientState.addLocalQueryTarget(s.targetId);r=s.targetId,i=yield eE(t,e,r,"current"===a,s.resumeToken),t.isPrimaryClient&&jf(t.remoteStore,s)}return i}),Z0.apply(this,arguments)}function eE(n,e,t,r,i){return tE.apply(this,arguments)}function tE(){return tE=P(function*(n,e,t,r,i){n.Ma=(d,h,f)=>{return(p=P(function*(m,_,I,y){let b=_.view.ha(I);b.Xi&&(b=yield Ff(m.localStore,_.query,!1).then(({documents:rn})=>_.view.ha(rn,b)));const U=y&&y.targetChanges.get(_.targetId),q=y&&null!=y.targetMismatches.get(_.targetId),Oe=_.view.applyChanges(b,m.isPrimaryClient,U,q);return dE(m,_.targetId,Oe.da),Oe.snapshot}),function g(m,_,I,y){return p.apply(this,arguments)})(n,d,h,f);var p};const o=yield Ff(n.localStore,e,!0),s=new J4(e,o.hs),a=s.ha(o.documents),u=ic.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),l=s.applyChanges(a,n.isPrimaryClient,u);dE(n,t,l.da);const c=new pW(e,t,s);return n.ga.set(e,c),n.pa.has(t)?n.pa.get(t).push(e):n.pa.set(t,[e]),l.snapshot}),tE.apply(this,arguments)}function yW(n,e){return nE.apply(this,arguments)}function nE(){return nE=P(function*(n,e){const t=N(n),r=t.ga.get(e),i=t.pa.get(r.targetId);if(i.length>1)return t.pa.set(r.targetId,i.filter(o=>!Yl(o,e))),void t.ga.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Ma(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),mc(t.remoteStore,r.targetId),Oa(t,r.targetId)}).catch(Fi))):(Oa(t,r.targetId),yield Ma(t.localStore,r.targetId,!0))}),nE.apply(this,arguments)}function rE(){return rE=P(function*(n,e,t){const r=DE(n);try{const i=yield function(s,a){const u=N(s),l=et.now(),c=a.reduce((f,p)=>f.add(p.key),se());let d,h;return u.persistence.runTransaction("Locally write mutations","readwrite",f=>{let p=wn(),g=se();return u.os.getEntries(f,c).next(m=>{p=m,p.forEach((_,I)=>{I.isValidDocument()||(g=g.add(_))})}).next(()=>u.localDocuments.getOverlayedDocuments(f,p)).next(m=>{d=m;const _=[];for(const I of a){const y=Wz(I,d.get(I.key).overlayedDocument);null!=y&&_.push(new di(I.key,y,Qx(y.value.mapValue),Ye.exists(!0)))}return u.mutationQueue.addMutationBatch(f,l,_,a)}).next(m=>{h=m;const _=m.applyToLocalDocumentSet(d,g);return u.documentOverlayCache.saveOverlays(f,m.batchId,_)})}).then(()=>({batchId:h.batchId,changes:pP(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,u){let l=s.Da[s.currentUser.toKey()];l||(l=new je(Z)),l=l.insert(a,u),s.Da[s.currentUser.toKey()]=l}(r,i.batchId,t),yield fi(r,i.changes),yield xa(r.remoteStore)}catch(i){const o=Na(i,"Failed to persist write");t.reject(o)}}),rE.apply(this,arguments)}function X4(n,e){return iE.apply(this,arguments)}function iE(){return iE=P(function*(n,e){const t=N(n);try{const r=yield B7(t.localStore,e);e.targetChanges.forEach((i,o)=>{const s=t.Sa.get(o);s&&(H(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.ma=!0:i.modifiedDocuments.size>0?H(s.ma):i.removedDocuments.size>0&&(H(s.ma),s.ma=!1))}),yield fi(t,r,e)}catch(r){yield Fi(r)}}),iE.apply(this,arguments)}function Z4(n,e,t){const r=N(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.ga.forEach((o,s)=>{const a=s.view.U_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const u=N(s);u.onlineState=a;let l=!1;u.queries.forEach((c,d)=>{for(const h of d.Q_)h.U_(a)&&(l=!0)}),l&&J0(u)}(r.eventManager,e),i.length&&r.fa.u_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function EW(n,e,t){return oE.apply(this,arguments)}function oE(){return oE=P(function*(n,e,t){const r=N(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Sa.get(e),o=i&&i.key;if(o){let s=new je(F.comparator);s=s.insert(o,ze.newNoDocument(o,G.min()));const a=se().add(o),u=new rc(G.min(),new Map,new je(Z),s,a);yield X4(r,u),r.wa=r.wa.remove(o),r.Sa.delete(e),hE(r)}else yield Ma(r.localStore,e,!1).then(()=>Oa(r,e,t)).catch(Fi)}),oE.apply(this,arguments)}function wW(n,e){return sE.apply(this,arguments)}function sE(){return sE=P(function*(n,e){const t=N(n),r=e.batch.batchId;try{const i=yield L7(t.localStore,e);cE(t,r,null),lE(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield fi(t,i)}catch(i){yield Fi(i)}}),sE.apply(this,arguments)}function CW(n,e,t){return aE.apply(this,arguments)}function aE(){return aE=P(function*(n,e,t){const r=N(n);try{const i=yield function(s,a){const u=N(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let c;return u.mutationQueue.lookupMutationBatch(l,a).next(d=>(H(null!==d),c=d.keys(),u.mutationQueue.removeMutationBatch(l,d))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,c,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,c)).next(()=>u.localDocuments.getDocuments(l,c))})}(r.localStore,e);cE(r,e,t),lE(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield fi(r,i)}catch(i){yield Fi(i)}}),aE.apply(this,arguments)}function lE(n,e){(n.Ca.get(e)||[]).forEach(t=>{t.resolve()}),n.Ca.delete(e)}function cE(n,e,t){const r=N(n);let i=r.Da[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Da[r.currentUser.toKey()]=i}}function Oa(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.pa.get(e))n.ga.delete(r),t&&n.fa.xa(r,t);n.pa.delete(e),n.isPrimaryClient&&n.ba.Vr(e).forEach(r=>{n.ba.containsKey(r)||eN(n,r)})}function eN(n,e){n.ya.delete(e.path.canonicalString());const t=n.wa.get(e);null!==t&&(mc(n.remoteStore,t),n.wa=n.wa.remove(e),n.Sa.delete(t),hE(n))}function dE(n,e,t){for(const r of t)r instanceof Q4?(n.ba.addReference(r.key,e),IW(n,r)):r instanceof Y4?(S("SyncEngine","Document no longer in limbo: "+r.key),n.ba.removeReference(r.key,e),n.ba.containsKey(r.key)||eN(n,r.key)):$()}function IW(n,e){const t=e.key,r=t.path.canonicalString();n.wa.get(t)||n.ya.has(r)||(S("SyncEngine","New document in limbo: "+t),n.ya.add(r),hE(n))}function hE(n){for(;n.ya.size>0&&n.wa.size<n.maxConcurrentLimboResolutions;){const e=n.ya.values().next().value;n.ya.delete(e);const t=new F(me.fromString(e)),r=n.va.next();n.Sa.set(r,new gW(t)),n.wa=n.wa.insert(t,r),jf(n.remoteStore,new hi(mn(ga(t.path)),r,"TargetPurposeLimboResolution",On._e))}}function fi(n,e,t){return fE.apply(this,arguments)}function fE(){return fE=P(function*(n,e,t){const r=N(n),i=[],o=[],s=[];var a;r.ga.isEmpty()||(r.ga.forEach((a,u)=>{s.push(r.Ma(u,e,t).then(l=>{if((l||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,null!=l&&l.fromCache?"not-current":"current"),l){i.push(l);const c=_0.Ki(u.targetId,l);o.push(c)}}))}),yield Promise.all(s),r.fa.u_(i),yield(a=P(function*(l,c){const d=N(l);try{yield d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>v.forEach(c,f=>v.forEach(f.qi,p=>d.persistence.referenceDelegate.addReference(h,f.targetId,p)).next(()=>v.forEach(f.Qi,p=>d.persistence.referenceDelegate.removeReference(h,f.targetId,p)))))}catch(h){if(!Oi(h))throw h;S("LocalStore","Failed to update sequence numbers: "+h)}for(const h of c){const f=h.targetId;if(!h.fromCache){const p=d.ns.get(f),m=p.withLastLimboFreeSnapshotVersion(p.snapshotVersion);d.ns=d.ns.insert(f,m)}}}),function u(l,c){return a.apply(this,arguments)})(r.localStore,o))}),fE.apply(this,arguments)}function TW(n,e){return pE.apply(this,arguments)}function pE(){return pE=P(function*(n,e){const t=N(n);if(!t.currentUser.isEqual(e)){S("SyncEngine","User change. New user:",e.toKey());const r=yield S4(t.localStore,e);t.currentUser=e,(o=t).Ca.forEach(a=>{a.forEach(u=>{u.reject(new M(C.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.Ca.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield fi(t,r.us)}var o}),pE.apply(this,arguments)}function bW(n,e){const t=N(n),r=t.Sa.get(e);if(r&&r.ma)return se().add(r.key);{let i=se();const o=t.pa.get(e);if(!o)return i;for(const s of o){const a=t.ga.get(s);i=i.unionWith(a.view.la)}return i}}function CE(n){const e=N(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=X4.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=bW.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=EW.bind(null,e),e.fa.u_=cW.bind(null,e.eventManager),e.fa.xa=dW.bind(null,e.eventManager),e}function DE(n){const e=N(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=wW.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=CW.bind(null,e),e}class $f{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return P(function*(){t.serializer=pc(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return function A4(n,e,t,r){return new k7(n,e,t,r)}(this.persistence,new b4,e.initialUser,this.serializer)}createPersistence(e){return new f0(Pf.Hr,this.serializer)}createSharedClientState(e){return new O4}terminate(){var e=this;return P(function*(){var t,r;null===(t=e.gcScheduler)||void 0===t||t.stop(),null===(r=e.indexBackfillerScheduler)||void 0===r||r.stop(),e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class ka{initialize(e,t){var r=this;return P(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>Z4(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=TW.bind(null,r.syncEngine),yield function G0(n,e){return q0.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new lW}createDatastore(e){const t=pc(e.databaseInfo.databaseId),r=new z7(e.databaseInfo);return new Q7(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return r=this.localStore,i=this.datastore,o=e.asyncQueue,s=t=>Z4(this.syncEngine,t,0),a=k4.D()?new k4:new H7,new X7(r,i,o,s,a);var r,i,o,s,a}createSyncEngine(e,t){return function(i,o,s,a,u,l,c){const d=new mW(i,o,s,a,u,l);return c&&(d.Fa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){var e=this;return P(function*(){var t,r;yield(r=P(function*(o){const s=N(o);S("RemoteStore","RemoteStore shutting down."),s.v_.add(5),yield Ra(s),s.M_.shutdown(),s.x_.set("Unknown")}),function i(o){return r.apply(this,arguments)})(e.remoteStore),null===(t=e.datastore)||void 0===t||t.terminate()})()}}class Hf{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ba(this.observer.next,e)}error(e){this.observer.error?this.Ba(this.observer.error,e):ut("Uncaught Error in snapshot listener:",e.toString())}La(){this.muted=!0}Ba(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class BW{constructor(e,t,r,i){var o=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Pt.UNAUTHENTICATED,this.clientId=bx.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var s=P(function*(a){S("FirestoreClient","Received user=",a.uid),yield o.authCredentialListener(a),o.user=a});return function(a){return s.apply(this,arguments)}}()),this.appCheckCredentials.start(r,s=>(S("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new M(C.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new It;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(P(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=Na(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function Gf(n,e){return IE.apply(this,arguments)}function IE(){return IE=P(function*(n,e){n.asyncQueue.verifyOperationInProgress(),S("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=P(function*(o){r.isEqual(o)||(yield S4(e.localStore,o),r=o)});return function(o){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),IE.apply(this,arguments)}function TE(n,e){return bE.apply(this,arguments)}function bE(){return bE=P(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield AE(n);S("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>q4(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>q4(e.remoteStore,i)),n._onlineComponents=e}),bE.apply(this,arguments)}function sN(n){return"FirebaseError"===n.name?n.code===C.FAILED_PRECONDITION||n.code===C.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function AE(n){return SE.apply(this,arguments)}function SE(){return SE=P(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){S("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Gf(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!sN(t))throw t;Vn("Error using user provided cache. Falling back to memory cache: "+t),yield Gf(n,new $f)}}else S("FirestoreClient","Using default OfflineComponentProvider"),yield Gf(n,new $f);return n._offlineComponents}),SE.apply(this,arguments)}function qf(n){return ME.apply(this,arguments)}function ME(){return ME=P(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(S("FirestoreClient","Using user provided OnlineComponentProvider"),yield TE(n,n._uninitializedComponentsProvider._online)):(S("FirestoreClient","Using default OnlineComponentProvider"),yield TE(n,new ka))),n._onlineComponents}),ME.apply(this,arguments)}function Ba(n){return xE.apply(this,arguments)}function xE(){return xE=P(function*(n){const e=yield qf(n),t=e.eventManager;return t.onListen=_W.bind(null,e.syncEngine),t.onUnlisten=yW.bind(null,e.syncEngine),t}),xE.apply(this,arguments)}function hN(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const fN=new Map;function PE(n,e,t){if(!t)throw new M(C.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function pN(n){if(!F.isDocumentKey(n))throw new M(C.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function gN(n){if(F.isDocumentKey(n))throw new M(C.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function zf(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(r=n).constructor?r.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var r;return"function"==typeof n?"a function":$()}function ye(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new M(C.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=zf(n);throw new M(C.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class _N{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new M(C.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new M(C.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function YW(n,e,t,r){if(!0===e&&!0===r)throw new M(C.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=hN(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(o){if(void 0!==o.timeoutSeconds){if(isNaN(o.timeoutSeconds))throw new M(C.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new M(C.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new M(C.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class _c{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _N({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new M(C.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new M(C.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _N(e),void 0!==e.credentials&&(this._authCredentials=function(r){if(!r)return new zq;switch(r.type){case"firstParty":return new Yq(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new M(C.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=fN.get(t);r&&(S("ComponentProvider","Removing Datastore"),fN.delete(t),r.terminate())}(this),Promise.resolve()}}class Ht{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ht(this.firestore,e,this._query)}}class ct{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Or(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ct(this.firestore,e,this._key)}}class Or extends Ht{constructor(e,t,r){super(e,t,ga(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ct(this.firestore,null,new F(e))}withConverter(e){return new Or(this.firestore,e,this._path)}}function Wf(n,e,...t){if(n=ii(n),PE("collection","path",e),n instanceof _c){const r=me.fromString(e,...t);return gN(r),new Or(n,null,r)}{if(!(n instanceof ct||n instanceof Or))throw new M(C.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(me.fromString(e,...t));return gN(r),new Or(n.firestore,null,r)}}function Qi(n,e,...t){if(n=ii(n),1===arguments.length&&(e=bx.newId()),PE("doc","path",e),n instanceof _c){const r=me.fromString(e,...t);return pN(r),new ct(n,null,new F(r))}{if(!(n instanceof ct||n instanceof Or))throw new M(C.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(me.fromString(e,...t));return pN(r),new ct(n.firestore,n instanceof Or?n.converter:null,new F(r))}}class XW{constructor(){this.Xa=Promise.resolve(),this.eu=[],this.tu=!1,this.nu=[],this.ru=null,this.iu=!1,this.su=!1,this.ou=[],this.jo=new A0(this,"async_queue_retry"),this._u=()=>{const t=Bf();t&&S("AsyncQueue","Visibility state changed to "+t.visibilityState),this.jo.Ko()};const e=Bf();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this._u)}get isShuttingDown(){return this.tu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.au(),this.uu(e)}enterRestrictedMode(e){if(!this.tu){this.tu=!0,this.su=e||!1;const t=Bf();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this._u)}}enqueue(e){if(this.au(),this.tu)return new Promise(()=>{});const t=new It;return this.uu(()=>this.tu&&this.su?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.eu.push(e),this.cu()))}cu(){var e=this;return P(function*(){if(0!==e.eu.length){try{yield e.eu[0](),e.eu.shift(),e.jo.reset()}catch(t){if(!Oi(t))throw t;S("AsyncQueue","Operation failed with retryable error: "+t)}e.eu.length>0&&e.jo.qo(()=>e.cu())}})()}uu(e){const t=this.Xa.then(()=>(this.iu=!0,e().catch(r=>{throw this.ru=r,this.iu=!1,ut("INTERNAL UNHANDLED ERROR: ",function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),a}(r)),r}).then(r=>(this.iu=!1,r))));return this.Xa=t,t}enqueueAfterDelay(e,t,r){this.au(),this.ou.indexOf(e)>-1&&(t=0);const i=z0.createAndSchedule(this,e,t,r,o=>this.lu(o));return this.nu.push(i),i}au(){this.ru&&$()}verifyOperationInProgress(){}hu(){var e=this;return P(function*(){let t;do{t=e.Xa,yield t}while(t!==e.Xa)})()}Pu(e){for(const t of this.nu)if(t.timerId===e)return!0;return!1}Iu(e){return this.hu().then(()=>{this.nu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.nu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.hu()})}Tu(e){this.ou.push(e)}lu(e){const t=this.nu.indexOf(e);this.nu.splice(t,1)}}class Ue extends _c{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new XW,this._persistenceKey=(null==i?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||vN(this),this._firestoreClient.terminate()}}function eK(n,e){const t="object"==typeof n?n:function _G(n=Ph){const e=Mo.get(n);if(!e&&n===Ph&&NM())return KM();if(!e)throw oi.create("no-app",{appName:n});return e}(),r="string"==typeof n?n:e||"(default)",i=function WM(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=(n=>{const e=(n=>{var e,t;return null===(t=null===(e=Rh())||void 0===e?void 0:e.emulatorHosts)||void 0===t?void 0:t[n]})(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return"["===e[0]?[e.substring(1,t-1),r]:[e.substring(0,t),r]})("firestore");o&&function JW(n,e,t,r={}){var i;const o=(n=ye(n,_c))._getSettings(),s=`${e}:${t}`;if("firestore.googleapis.com"!==o.host&&o.host!==s&&Vn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,u;if("string"==typeof r.mockUserToken)a=r.mockUserToken,u=Pt.MOCK_USER;else{a=function a8(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Mh(JSON.stringify({alg:"none",type:"JWT"})),Mh(JSON.stringify(s)),""].join(".")}(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new M(C.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Pt(l)}n._authCredentials=new Wq(new Ix(a,u))}}(i,...o)}return i}function dt(n){return n._firestoreClient||vN(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function vN(n){var e,t,r;const i=n._freezeSettings(),o=(u=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new bz(n._databaseId,u,n._persistenceKey,(c=i).host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,hN(c.experimentalLongPollingOptions),c.useFetchStreams));var u,c;n._firestoreClient=new BW(n._authCredentials,n._appCheckCredentials,n._queue,o),(null===(t=i.localCache)||void 0===t?void 0:t._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}class Yo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Yo(Tt.fromBase64String(e))}catch(t){throw new M(C.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Yo(Tt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class ja{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new M(C.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qe(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class VE{constructor(e){this._methodName=e}}class FE{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new M(C.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new M(C.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Z(this._lat,e._lat)||Z(this._long,e._long)}}const nK=/^__.*__$/;class rK{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new di(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ea(e,this.data,t,this.fieldTransforms)}}class CN{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new di(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function DN(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw $()}}class Kf{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===o&&this.Eu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get du(){return this.settings.du}Au(e){return new Kf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ru(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Au({path:r,Vu:!1});return i.mu(e),i}fu(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Au({path:r,Vu:!1});return i.Eu(),i}gu(e){return this.Au({path:void 0,Vu:!0})}pu(e){return Yf(e,this.settings.methodName,this.settings.yu||!1,this.path,this.settings.wu)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Eu(){if(this.path)for(let e=0;e<this.path.length;e++)this.mu(this.path.get(e))}mu(e){if(0===e.length)throw this.pu("Document fields must not be empty");if(DN(this.du)&&nK.test(e))throw this.pu('Document fields cannot begin and end with "__"')}}class iK{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||pc(e)}Su(e,t,r,i=!1){return new Kf({du:e,methodName:t,wu:r,path:Qe.emptyPath(),Vu:!1,yu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ua(n){const e=n._freezeSettings(),t=pc(n._databaseId);return new iK(n._databaseId,!!e.ignoreUndefinedProperties,t)}function OE(n,e,t,r,i,o={}){const s=n.Su(o.merge||o.mergeFields?2:0,e,t,i);UE("Data must be an object, but it was:",s,r);const a=SN(r,s);let u,l;if(o.merge)u=new En(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){const c=[];for(const d of o.mergeFields){const h=Ec(e,d,t);if(!s.contains(h))throw new M(C.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);RN(c,h)||c.push(h)}u=new En(c),l=s.fieldTransforms.filter(d=>u.covers(d.field))}else u=null,l=s.fieldTransforms;return new rK(new $t(a),u,l)}class vc extends VE{_toFieldTransform(e){if(2!==e.du)throw e.pu(1===e.du?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof vc}}function Jo(n,e){if(MN(n=ii(n)))return UE("Unsupported field value:",e,n),SN(n,e);if(n instanceof VE)return function(r,i){if(!DN(i.du))throw i.pu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.pu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Vu&&4!==e.du)throw e.pu("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let u=Jo(a,i.gu(s));null==u&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if(null===(r=ii(r)))return{nullValue:"NULL_VALUE"};if("number"==typeof r)return yP(i.serializer,r);if("boolean"==typeof r)return{booleanValue:r};if("string"==typeof r)return{stringValue:r};if(r instanceof Date){const o=et.fromDate(r);return{timestampValue:Ca(i.serializer,o)}}if(r instanceof et){const o=new et(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ca(i.serializer,o)}}if(r instanceof FE)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Yo)return{bytesValue:BP(i.serializer,r._byteString)};if(r instanceof ct){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.pu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Zv(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.pu(`Unsupported field value: ${zf(r)}`)}(n,e)}function SN(n,e){const t={};return jx(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ki(n,(r,i)=>{const o=Jo(i,e.Ru(r));null!=o&&(t[r]=o)}),{mapValue:{fields:t}}}function MN(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof et||n instanceof FE||n instanceof Yo||n instanceof ct||n instanceof VE)}function UE(n,e,t){if(!MN(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const r=zf(t);throw e.pu("an object"===r?n+" a custom object":n+" "+r)}var i}function Ec(n,e,t){if((e=ii(e))instanceof ja)return e._internalPath;if("string"==typeof e)return Qf(n,e);throw Yf("Field path arguments must be of type string or ",n,!1,void 0,t)}const oK=new RegExp("[~\\*/\\[\\]]");function Qf(n,e,t){if(e.search(oK)>=0)throw Yf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new ja(...e.split("."))._internalPath}catch(r){throw Yf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Yf(n,e,t,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new M(C.INVALID_ARGUMENT,a+n+u)}function RN(n,e){return n.some(t=>t.isEqual(e))}class $E{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new ct(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new sK(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Jf("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class sK extends $E{data(){return super.data()}}function Jf(n,e){return"string"==typeof e?Qf(n,e):e instanceof ja?e._internalPath:e._delegate._internalPath}class HE{}class PN extends HE{}function wc(n,e,...t){let r=[];e instanceof HE&&r.push(e),r=r.concat(t),function(o){const s=o.filter(u=>u instanceof Ha).length,a=o.filter(u=>u instanceof Cc).length;if(s>1||s>0&&a>0)throw new M(C.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class Cc extends PN{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Cc(e,t,r)}_apply(e){const t=this._parse(e);return ON(e._query,t),new Ht(e.firestore,e.converter,qv(e._query,t))}_parse(e){const t=Ua(e.firestore);return function(o,s,a,u,l,c,d){let h;if(l.isKeyField()){if("array-contains"===c||"array-contains-any"===c)throw new M(C.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if("in"===c||"not-in"===c){FN(d,c);const f=[];for(const p of d)f.push(VN(u,o,p));h={arrayValue:{values:f}}}else h=VN(u,o,d)}else"in"!==c&&"not-in"!==c&&"array-contains-any"!==c||FN(d,c),h=function AN(n,e,t,r=!1){return Jo(t,n.Su(r?4:3,e))}(a,"where",d,"in"===c||"not-in"===c);return _e.create(l,c,h)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}function $a(n,e,t){const r=e,i=Jf("where",n);return Cc._create(i,r,t)}class Ha extends HE{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Ha(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:Me.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(i,o){let s=i;const a=o.getFlattenedFilters();for(const u of a)ON(s,u),s=qv(s,u)}(e._query,t),new Ht(e.firestore,e.converter,qv(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Xf extends PN{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new Xf(e,t,r)}_apply(e){return new Ht(e.firestore,e.converter,vf(e._query,this._limit,this._limitType))}}function VN(n,e,t){if("string"==typeof(t=ii(t))){if(""===t)throw new M(C.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Gv(e)&&-1!==t.indexOf("/"))throw new M(C.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(me.fromString(t));if(!F.isDocumentKey(r))throw new M(C.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Bo(n,new F(r))}if(t instanceof ct)return Bo(n,t._key);throw new M(C.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${zf(t)}.`)}function FN(n,e){if(!Array.isArray(n)||0===n.length)throw new M(C.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function ON(n,e){const t=function(i,o){for(const s of i)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new M(C.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class Xo{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ga extends $E{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new tp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Jf("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class tp extends Ga{data(e={}){return super.data(e)}}class qa{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Xo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new tp(this._firestore,this._userDataWriter,r.key,r,new Xo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new M(C.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>({type:"added",doc:new tp(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Xo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||3!==a.type).map(a=>{const u=new tp(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Xo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let l=-1,c=-1;return 0!==a.type&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),1!==a.type&&(s=s.add(a.doc),c=s.indexOf(a.doc.key)),{type:cK(a.type),doc:u,oldIndex:l,newIndex:c}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function cK(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return $()}}class Yi extends class uK{convertValue(e,t="none"){switch(ji(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ot(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ui(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw $()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return ki(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertGeoPoint(e){return new FE(ot(e.latitude),ot(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=ff(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Gl(e));default:return null}}convertTimestamp(e){const t=Li(e);return new et(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=me.fromString(e);H(YP(r));const i=new Lo(r.get(1),r.get(3)),o=new F(r.popFirst(5));return i.isEqual(t)||ut(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ct(this.firestore,null,t)}}function Dc(n){n=ye(n,Ht);const e=ye(n.firestore,Ue),t=dt(e),r=new Yi(e);return function xN(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new M(C.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query),function dN(n,e,t={}){const r=new It;return n.asyncQueue.enqueueAndForget(P(function*(){return function(o,s,a,u,l){const c=new Hf({next:h=>{s.enqueueAndForget(()=>Q0(o,d)),h.fromCache&&"server"===u.source?l.reject(new M(C.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(h)},error:h=>l.reject(h)}),d=new X0(a,c,{includeMetadataChanges:!0,Z_:!0});return W0(o,d)}(yield Ba(n),n.asyncQueue,e,t,r)})),r.promise}(t,n._query).then(i=>new qa(e,r,n,i))}function za(n,e,t,...r){n=ye(n,ct);const i=ye(n.firestore,Ue),o=Ua(i);let s;return s="string"==typeof(e=ii(e))||e instanceof ja?function bN(n,e,t,r,i,o){const s=n.Su(1,e,t),a=[Ec(e,r,t)],u=[i];if(o.length%2!=0)throw new M(C.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<o.length;h+=2)a.push(Ec(e,o[h])),u.push(o[h+1]);const l=[],c=$t.empty();for(let h=a.length-1;h>=0;--h)if(!RN(l,a[h])){const f=a[h];let p=u[h];p=ii(p);const g=s.fu(f);if(p instanceof vc)l.push(f);else{const m=Jo(p,g);null!=m&&(l.push(f),c.set(f,m))}}const d=new En(l);return new CN(c,d,s.fieldTransforms)}(o,"updateDoc",n._key,e,t,r):function TN(n,e,t,r){const i=n.Su(1,e,t);UE("Data must be an object, but it was:",i,r);const o=[],s=$t.empty();ki(r,(u,l)=>{const c=Qf(e,u,t);l=ii(l);const d=i.fu(c);if(l instanceof vc)o.push(c);else{const h=Jo(l,d);null!=h&&(o.push(c),s.set(c,h))}});const a=new En(o);return new CN(s,a,i.fieldTransforms)}(o,"updateDoc",n._key,e),Ic(i,[s.toMutation(n._key,Ye.exists(!0))])}function zE(n){return Ic(ye(n.firestore,Ue),[new wa(n._key,Ye.none())])}function np(n,e){const t=ye(n.firestore,Ue),r=Qi(n),i=function qE(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}(n.converter,e);return Ic(t,[OE(Ua(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,Ye.exists(!1))]).then(()=>r)}function Ic(n,e){return function(r,i){const o=new It;return r.asyncQueue.enqueueAndForget(P(function*(){return function vW(n,e,t){return rE.apply(this,arguments)}(yield function RE(n){return qf(n).then(e=>e.syncEngine)}(r),i,o)})),o.promise}(dt(n),e)}!function(e,t=!0){aa="10.8.0",Vh(new pl("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new Ue(new Kq(r.getProvider("auth-internal")),new Jq(r.getProvider("app-check-internal")),function(l,c){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new M(C.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Lo(l.options.projectId,c)}(s,i),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Zs(Dx,"4.4.2",e),Zs(Dx,"4.4.2","esm2017")}();let Zo=(()=>{class n{constructor(t){this.authService=t,this.db=eK(rQ),this.users=Wf(this.db,"Users"),this.lists=Wf(this.db,"ToDoLists"),this.tags=Wf(this.db,"Tags"),this.items=Wf(this.db,"ToDoItems")}getAllTodoLists(){var t=this;return P(function*(){let r=[],i=t.authService.currentUser;return(yield Dc(wc(t.lists,$a("user","==",i)))).forEach(s=>{let a=s.data(),u=new Ro;u.id=a.id,u.name=a.name,u.isFavorite=a.isFavorite,u.date=new Date(1e3*a.date.seconds),u.readyPer=a.readyPer;let l=new Fh;l.color=a.tag.color,l.tagName=a.tag.tagName,u.tag=l,t.getListItems(u.id).then(c=>u.list=c),r.push(u)}),r})()}addNewList(t,r){var i=this;return P(function*(){let o=i.authService.currentUser,s=yield np(i.lists,{name:t.name,isFavorite:t.isFavorite,date:t.date,tag:{tagName:t.tag.tagName,color:t.tag.color},readyPer:t.readyPer,user:o});r.forEach(a=>i.addNewItem(a,s.id)),za(s,{id:s.id})})()}editList(t){za(Qi(this.db,"ToDoLists",t.id),{name:t.name,isFavorite:t.isFavorite,date:t.date,tag:{tagName:t.tag.tagName,color:t.tag.color},readyPer:t.readyPer})}getTodoInfo(t){var r=this;return P(function*(){let i=yield function dK(n){n=ye(n,ct);const e=ye(n.firestore,Ue);return function cN(n,e,t={}){const r=new It;return n.asyncQueue.enqueueAndForget(P(function*(){return function(o,s,a,u,l){const c=new Hf({next:h=>{s.enqueueAndForget(()=>Q0(o,d));const f=h.docs.has(a);!f&&h.fromCache?l.reject(new M(C.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&h.fromCache&&u&&"server"===u.source?l.reject(new M(C.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(h)},error:h=>l.reject(h)}),d=new X0(ga(a.path),c,{includeMetadataChanges:!0,Z_:!0});return W0(o,d)}(yield Ba(n),n.asyncQueue,e,t,r)})),r.promise}(dt(e),n._key).then(t=>function WE(n,e,t){const r=t.docs.get(e._key),i=new Yi(n);return new Ga(n,i,e._key,r,new Xo(t.hasPendingWrites,t.fromCache),e.converter)}(e,n,t))}(Qi(r.db,"ToDoLists",t));const o=i.data(),s=new Ro;s.name=null==o?void 0:o.name,s.isFavorite=null==o?void 0:o.isFavorite,s.date=null==o?void 0:o.date,s.readyPer=null==o?void 0:o.readyPer;let a=new Fh;return a.color=null==o?void 0:o.tag.color,a.tagName=null==o?void 0:o.tag.tagName,s.tag=a,i})()}deleteList(t){this.deleteItemsWithList(t),zE(Qi(this.db,"ToDoLists",t))}editReadyPer(t){za(Qi(this.db,"ToDoLists",t.id),{readyPer:t.readyPer})}addNewItem(t,r){var i=this;return P(function*(){let o=yield np(i.items,{listId:r,text:t.text,isReady:t.isReady});za(o,{id:o.id})})()}getListItems(t){var r=this;return P(function*(){const i=[];return(yield Dc(wc(r.items,$a("listId","==",t)))).forEach(s=>{const a=s.data(),u=new oR;u.id=a.id,u.isReady=a.isReady,u.listId=a.listId,u.text=a.text,i.push(u)}),i})()}deleteItem(t){zE(Qi(this.db,"ToDoItems",t))}deleteItemsWithList(t){this.getListItems(t).then(r=>{r.forEach(i=>{zE(Qi(this.db,"ToDoItems",i.id))})})}checkReady(t){za(Qi(this.db,"ToDoItems",t.id),{isReady:t.isReady})}addTag(t,r){var i=this;return P(function*(){let o=yield np(i.tags,{tagName:t,color:r,user:i.authService.currentUser});za(o,{id:o.id})})()}getAllTags(){var t=this;return P(function*(){let r=t.authService.currentUser,i=yield Dc(wc(t.tags,$a("user","==",r))),o=[];return i.forEach(s=>{const a=s.data();let u=new Fh;u.color=a.color,u.tagName=a.tagName,u.user=a.user,o.push(u)}),o})()}isExistUser(t){return Dc(wc(this.users,$a("login","==",t),function aK(n){return function mN(n,e){if(e<=0)throw new M(C.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}("limit",n),Xf._create("limit",n,"F")}(1))).then(i=>{i.forEach(o=>null!=o.data().login)}),!1}registration(t,r){var i=this;return P(function*(){return np(i.users,{password:r,login:t}),t})()}login(t,r){var i=this;return P(function*(){let o=yield Dc(wc(i.users,$a("login","==",t),$a("password","==",r))),s=[];return o.forEach(a=>{const u=a.data();s.push(u.login)}),s[0]})()}}return n.\u0275fac=function(t){return new(t||n)(k(_l))},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})();const IK=["addTag"];function TK(n,e){1&n&&(E(0,"label",43),R(1,"\u041f\u043e\u0434\u043e\u0431\u043d\u044b\u0439 \u0442\u0435\u0433 \u0443\u0436\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442"),w())}function bK(n,e){if(1&n){const t=Xe();E(0,"li",44),x("click",function(){const o=ce(t).$implicit;return de(Fe().filterByTag(o.tagName))}),E(1,"label",45),j(2,"i",46),R(3),w()()}if(2&n){const t=e.$implicit;D(2),Gn("color",t.color),D(1),He(t.tagName)}}function AK(n,e){1&n&&(E(0,"li",36),R(1,"\u041d\u0435\u0442 \u0442\u0435\u0433\u043e\u0432"),w())}function SK(n,e){1&n&&(E(0,"div",47)(1,"label",48),R(2,'\u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c \u0432 \u0432\u0435\u0431-\u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 "TO-DO LIST"!'),w(),E(3,"label",49),R(4," \u0414\u0430\u043d\u043d\u043e\u0435 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u0435\u0442 \u0444\u0443\u043d\u043a\u0446\u0438\u0438 \u043f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0449\u0438\u043a\u0430 \u0441\u043f\u0438\u0441\u043a\u0430 \u0434\u0435\u043b, \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u0442\u044c, \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0438 \u0443\u0434\u0430\u043b\u044f\u0442\u044c \u0432\u0430\u0448\u0438 \u0441\u043f\u0438\u0441\u043a\u0438, \u0430 \u0442\u0430\u043a \u0436\u0435 \u0440\u0430\u0441\u043f\u0440\u0435\u0434\u0435\u043b\u044f\u0442\u044c \u0438\u0445 \u043f\u043e \u0434\u0430\u0442\u0430\u043c \u0432 \u043a\u0430\u043b\u0435\u043d\u0434\u0430\u0440\u0435 \u0438 \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0442\u044c \u0432 \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435. "),j(5,"br"),R(6,"- \u0414\u043b\u044f \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u0441\u043f\u0438\u0441\u043a\u0430 \u0432\u0430\u043c \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0443\u043a\u0430\u0437\u0430\u0442\u044c \u0435\u0433\u043e \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435, \u0432\u044b\u0431\u0440\u0430\u0442\u044c \u0434\u0430\u0442\u0443, \u0432\u044b\u0431\u0440\u0430\u0442\u044c \u0442\u0435\u0433 \u0438\u0437 \u0443\u0436\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0445 \u0438\u043b\u0438 \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u0432\u044b\u0439, \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u0430\u043c\u0438 \u0437\u0430\u0434\u0430\u0447\u0438 \u0432 \u0441\u043f\u0438\u0441\u043e\u043a \u0438, \u0435\u0441\u043b\u0438 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e, \u043f\u043e\u043c\u0435\u0442\u0438\u0442\u044c \u0441\u043f\u0438\u0441\u043e\u043a \u043a\u0430\u043a \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u044b\u0439. "),j(7,"br"),R(8,"- \u0414\u043b\u044f \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0430 \u0432\u0441\u0435\u0445 \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u044b\u0445 \u0441\u043f\u0438\u0441\u043a\u043e\u0432 \u0432\u043e\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435\u0441\u044c \u0432\u043a\u043b\u0430\u0434\u043a\u043e\u0439 "),E(9,"label",9),R(10,'"\u0418\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435"'),w(),R(11,", \u043d\u0430 \u043a\u043e\u0442\u043e\u0440\u043e\u0439 \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u044b \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u044b \u0434\u043b\u044f \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0439 \u0444\u0438\u043b\u044c\u0442\u0440\u0430\u0446\u0438\u0438 \u0438 \u0443\u0434\u043e\u0431\u043d\u043e\u0433\u043e \u043f\u043e\u0438\u0441\u043a\u0430. "),j(12,"br"),R(13,"- \u0414\u043b\u044f \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0430 \u0437\u0430\u043f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0445 \u043d\u0430 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u043d\u044b\u0435 \u0434\u0430\u0442\u044b \u0441\u043f\u0438\u0441\u043a\u043e\u0432 \u0432\u043e\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435\u0441\u044c \u0432\u043a\u043b\u0430\u0434\u043a\u043e\u0439 "),E(14,"label",9),R(15,'"\u041a\u0430\u043b\u0435\u043d\u0434\u0430\u0440\u044c"'),w(),R(16,". "),w()())}function MK(n,e){1&n&&(E(0,"div",50),j(1,"i",51),E(2,"label",52),R(3,"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0434\u0430\u043d\u043d\u044b\u0445..."),w()())}function RK(n,e){1&n&&(E(0,"div",50)(1,"label",52),R(2,"\u0421\u043f\u0438\u0441\u043a\u0438 \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u044e\u0442"),w()())}function xK(n,e){if(1&n){const t=Xe();E(0,"div",64)(1,"div",8)(2,"input",65),x("ngModelChange",function(i){return de(ce(t).$implicit.isReady=i)}),w(),E(3,"label",66),R(4),w()()()}if(2&n){const t=e.$implicit;D(2),V("ngModel",t.isReady),D(1),V("ngClass",t.isReady?"crossed-simple-text":"simple-text"),D(1),He(t.text)}}function PK(n,e){if(1&n){const t=Xe();E(0,"div",55)(1,"div",56)(2,"label",57),x("click",function(){const o=ce(t).$implicit,s=Fe(2),a=$e(1);return s.showTodoListModal(o),de(a.showModal())}),R(3),w()(),j(4,"hr"),E(5,"div",58)(6,"label",59),j(7,"i",60),R(8),w(),E(9,"label",59),R(10),w()(),E(11,"div",61),we(12,xK,5,3,"div",62),w(),E(13,"div",58)(14,"label",59),j(15,"i",63),R(16),w()()()}if(2&n){const t=e.$implicit;D(2),Su("title",t.name),D(1),He(t.name),D(4),Gn("color",t.tag.color),D(1),dn(" ",t.tag.tagName,""),D(2),dn("",t.readyPer,"%"),D(2),V("ngForOf",t.list),D(4),dn(" ",t.date.toLocaleDateString(),"")}}function NK(n,e){if(1&n&&(E(0,"div",53),we(1,PK,17,8,"div",54),w()),2&n){const t=Fe();D(1),V("ngForOf",t.filteredTodoList)}}let UN=(()=>{class n{constructor(t){this.dbService=t,this.todoList=[],this.filteredTodoList=[],this.currTodoList=new Ro,this.allTags=[],this.isOpenDropDown=!1,this.selectedTag="",this.nameToFind="",this.favoriteCount=0,this.windowWidth=window.innerWidth,this.newTag="",this.newTagColor="",this.isLoading=!1,this.isTagError=!1}ngOnInit(){this.getAllLists(),this.getAllTags()}getAllTags(){this.dbService.getAllTags().then(t=>{this.allTags=t})}getAllLists(){this.isLoading=!0,this.dbService.getAllTodoLists().then(t=>{this.todoList=t,this.filteredTodoList=t,this.favoriteCount=this.todoList.filter(r=>!0===r.isFavorite).length,this.isLoading=!1})}filterByTag(t){this.selectedTag=t,this.filteredTodoList=this.getCurrList().filter(r=>r.tag.tagName===t),console.info(`\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0430 \u0444\u0438\u043b\u044c\u0442\u0440\u0430\u0446\u0438\u044f \u043f\u043e \u0442\u0435\u0433\u0443 "${t}".`)}filterByName(){this.filteredTodoList=this.todoList.filter(t=>t.name.toLowerCase().includes(this.nameToFind.toLowerCase())),console.info(`\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d \u043f\u043e\u0438\u0441\u043a \u043f\u043e \u0438\u043c\u0435\u043d\u0438 "${this.nameToFind}".`)}filterByDate(){this.filteredTodoList=this.getCurrList().filter(t=>t.date.toISOString().split("T")[0]===this.selectedDate),console.info(`\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0430 \u0444\u0438\u043b\u044c\u0442\u0440\u0430\u0446\u0438\u044f \u043f\u043e \u0434\u0430\u0442\u0435 "${this.selectedDate}".`)}getCurrList(){return this.todoList===this.filteredTodoList?this.todoList:this.filteredTodoList}resetFilter(){this.filteredTodoList=this.todoList,this.selectedTag="",this.nameToFind="",this.selectedDate="",console.info("\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d \u0441\u0431\u0440\u043e\u0441 \u0432\u0441\u0435\u0445 \u0444\u0438\u043b\u044c\u0442\u0440\u043e\u0432.")}showTodoListModal(t){this.todoList=[],this.currTodoList=t}onResize(t){this.windowWidth=t.target.innerWidth}addNewTag(){0===this.allTags.filter(r=>r.tagName.toLowerCase().trim()===this.newTag.toLowerCase().trim()).length?(this.isTagError=!1,this.dbService.addTag(this.newTag,this.newTagColor),this.getAllTags(),this.addTag.close()):this.isTagError=!0,this.newTag="",this.newTagColor=""}}return n.\u0275fac=function(t){return new(t||n)(T(Zo))},n.\u0275cmp=Jn({type:n,selectors:[["app-home"]],viewQuery:function(t,r){if(1&t&&km(IK,5),2&t){let i;Bu(i=ju())&&(r.addTag=i.first)}},decls:66,vars:19,consts:[[1,"dialog-card"],["listCard",""],[3,"todoList","close"],[1,"dialog-add-edit"],["add",""],[3,"isEdit","close"],["addTag",""],["type","text","placeholder","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u043e\u0432\u044b\u0439 \u0442\u0435\u0433","maxlength","20",1,"neumorph-input","ms-1",3,"ngModel","ngModelChange"],[1,"d-flex","align-items-center"],[1,"title-text"],["type","color",1,"neumorph-input",3,"ngModel","ngModelChange"],[1,"fa-solid","fa-tag","fa-xl",2,"opacity","0.7"],["class","text-danger fw-light","style","font-size: smaller;",4,"ngIf"],[1,"d-flex","justify-content-between","mt-2"],[1,"neumorph-btn","sm-neumorph-btn",3,"click"],[1,"fa-solid","fa-arrow-rotate-left"],[1,"fa-solid","fa-check"],[1,"home-container",3,"resize"],[1,"neumorph-card","filter-panel"],[1,"position-relative"],["type","text","placeholder","\u0412\u044b\u0431\u0435\u0440\u0435\u0442\u0435 \u0442\u0435\u0433","readonly","true","id","tagInput",1,"neumorph-input","my-0",2,"width","12em",3,"ngModel","ngModelChange","focus","focusout"],[1,"neumorph-btn","sm-neumorph-btn","ms-0","me-1",3,"click","focusout"],[1,"fa-solid","fa-list-ul"],[1,"dropdown-tag-list",2,"z-index","2","right","0",3,"ngClass"],[3,"click",4,"ngFor","ngForOf"],["class","secondary-text",4,"ngIf"],[1,"fa-solid","fa-magnifying-glass","ms-2",2,"color","var(--secondary-text-color)"],["type","text","placeholder","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0441\u043f\u0438\u0441\u043a\u0430","id","nameInput",1,"neumorph-input","my-0",2,"width","17em",3,"ngModel","ngModelChange","input"],["id","thirdDiv",1,"d-flex","justify-content-between"],["type","date","id","dateInput",1,"neumorph-input","my-0",3,"ngModel","ngModelChange","change"],[1,"fa-solid","fa-filter-circle-xmark"],[1,"home-panels"],[1,"neumorph-card","home-functional-panel","mb-4"],[1,"just-panel"],[1,"d-flex"],[1,"neumorph-card","todo-count"],[1,"secondary-text"],[1,"d-flex","flex-column"],[1,"neumorph-btn","special-btn",3,"click"],[1,"fa-regular","fa-plus"],["class","mt-4",4,"ngIf"],["class","w-100 d-flex justify-content-center align-items-center","style","color: var(--secondary-text-color);",4,"ngIf"],["class","home-list-panel",4,"ngIf"],[1,"text-danger","fw-light",2,"font-size","smaller"],[3,"click"],[1,"tag-name","simple-text"],[1,"fa-solid","fa-tag","me-2",2,"opacity","0.7"],[1,"mt-4"],[1,"title-text","mb-2","text-center"],[1,"simple-text",2,"text-align","justify"],[1,"w-100","d-flex","justify-content-center","align-items-center",2,"color","var(--secondary-text-color)"],[1,"fa-solid","fa-spinner","fa-spin-pulse","fa-2xl"],[1,"fw-light","ms-2"],[1,"home-list-panel"],["class","neumorph-card todo-card mb-3",4,"ngFor","ngForOf"],[1,"neumorph-card","todo-card","mb-3"],[1,"d-flex","justify-content-center"],[1,"title-text",2,"cursor","pointer",3,"title","click"],[1,"d-flex","justify-content-between"],[1,"simple-text"],[1,"fa-solid","fa-tag",2,"opacity","0.7"],[1,"part-list"],["class","neumorph-list-card",4,"ngFor","ngForOf"],[1,"fa-solid","fa-calendar"],[1,"neumorph-list-card"],["type","checkbox","disabled","true",1,"neumorph-input",3,"ngModel","ngModelChange"],[3,"ngClass"]],template:function(t,r){if(1&t){const i=Xe();E(0,"dialog",0,1)(2,"list-card",2),x("close",function(){return ce(i),$e(1).close(),de(r.ngOnInit())}),w()(),E(3,"dialog",3,4)(5,"add-edit-list",5),x("close",function(){return ce(i),$e(4).close(),de(r.ngOnInit())}),w()(),E(6,"dialog",null,6)(8,"input",7),x("ngModelChange",function(s){return r.newTag=s}),w(),j(9,"br"),E(10,"div",8)(11,"label",9),R(12,"\u0412\u044b\u0431\u0435\u0440\u0435\u0442\u0435 \u0446\u0432\u0435\u0442: "),w(),E(13,"input",10),x("ngModelChange",function(s){return r.newTagColor=s}),w(),j(14,"i",11),w(),we(15,TK,2,0,"label",12),E(16,"div",13)(17,"button",14),x("click",function(){return ce(i),de($e(7).close())}),R(18,"\u041e\u0442\u043c\u0435\u043d\u0430 "),j(19,"i",15),w(),E(20,"button",14),x("click",function(){return r.addNewTag()}),R(21,"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c "),j(22,"i",16),w()()(),E(23,"div",17),x("resize",function(s){return r.onResize(s)},!1,dg),E(24,"div",18)(25,"div",19)(26,"input",20),x("ngModelChange",function(s){return r.selectedTag=s})("focus",function(){return r.isOpenDropDown=!0})("focusout",function(){return r.isOpenDropDown=!1}),w(),E(27,"button",21),x("click",function(){return r.isOpenDropDown=!r.isOpenDropDown})("focusout",function(){return r.isOpenDropDown=!1}),j(28,"i",22),w(),E(29,"ul",23),we(30,bK,4,3,"li",24),we(31,AK,2,0,"li",25),w()(),E(32,"div"),j(33,"i",26),E(34,"input",27),x("ngModelChange",function(s){return r.nameToFind=s})("input",function(){return r.filterByName()}),w()(),E(35,"div",28)(36,"input",29),x("ngModelChange",function(s){return r.selectedDate=s})("change",function(){return r.filterByDate()}),w(),E(37,"button",14),x("click",function(){return r.resetFilter()}),R(38," \u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0444\u0438\u043b\u044c\u0442\u0440\u044b "),j(39,"i",30),w()()(),j(40,"hr"),E(41,"div",31)(42,"div",32)(43,"div",33)(44,"div",34)(45,"div",35)(46,"label",9),R(47),w(),E(48,"label",36),R(49,"\u0421\u043f\u0438\u0441\u043a\u043e\u0432"),w()(),E(50,"div",35)(51,"label",9),R(52),w(),E(53,"label",36),R(54,"\u0418\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435"),w()()(),E(55,"div",37)(56,"button",38),x("click",function(){return ce(i),de($e(4).showModal())}),R(57,"\u0421\u043f\u0438\u0441\u043e\u043a "),j(58,"i",39),w(),E(59,"button",38),x("click",function(){return ce(i),de($e(7).showModal())}),R(60,"\u0422\u0435\u0433 "),j(61,"i",39),w()()(),we(62,SK,17,0,"div",40),w(),we(63,MK,4,0,"div",41),we(64,RK,3,0,"div",41),we(65,NK,2,1,"div",42),w()()}2&t&&(D(2),V("todoList",r.currTodoList),D(3),V("isEdit",!1),D(3),V("ngModel",r.newTag),D(5),V("ngModel",r.newTagColor),D(1),Gn("color",r.newTagColor),D(1),V("ngIf",r.isTagError),D(11),V("ngModel",r.selectedTag),D(3),V("ngClass",r.isOpenDropDown?"dropdown-tag-list-open":""),D(1),V("ngForOf",r.allTags),D(1),V("ngIf",0===r.allTags.length),D(3),V("ngModel",r.nameToFind),D(2),V("ngModel",r.selectedDate),D(11),He(r.todoList.length),D(5),He(r.favoriteCount),D(10),V("ngIf",!(r.windowWidth<900)),D(1),V("ngIf",r.isLoading),D(1),V("ngIf",0===r.filteredTodoList.length&&!r.isLoading),D(1),V("ngIf",!r.isLoading&&0!==r.filteredTodoList.length))},styles:[".home-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;margin:auto;width:80%}.home-panels[_ngcontent-%COMP%]{display:flex}.home-list-panel[_ngcontent-%COMP%]{max-height:70vh;width:60%;overflow:auto;display:grid;grid-template-columns:1fr 1fr;justify-items:center;flex-wrap:wrap}.home-functional-panel[_ngcontent-%COMP%]{height:calc(100% - 6em);width:40%}.todo-count[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:7em;height:7em;align-items:center}.todo-count[_ngcontent-%COMP%]   .title-text[_ngcontent-%COMP%]{font-size:xx-large}.todo-card[_ngcontent-%COMP%]{height:15em;width:90%}.just-panel[_ngcontent-%COMP%]{display:flex}.special-btn[_ngcontent-%COMP%]{border-radius:15px!important}@media (max-width: 1320px){.home-list-panel[_ngcontent-%COMP%]{grid-template-columns:1fr}}@media (max-width: 1250px){.home-list-panel[_ngcontent-%COMP%]{height:60vh}}@media (max-width: 900px){.home-panels[_ngcontent-%COMP%]{display:block}.home-list-panel[_ngcontent-%COMP%]{width:100%;margin-inline:auto;height:max-content}.home-functional-panel[_ngcontent-%COMP%]{width:100%;margin-inline:auto}.special-btn[_ngcontent-%COMP%]{padding-inline:0}.todo-card[_ngcontent-%COMP%]{margin-top:1.5em}}@media (min-width: 900px) and (max-width: 1370px){.just-panel[_ngcontent-%COMP%]{flex-direction:column}}"]}),n})();function VK(n,e){if(1&n&&(E(0,"label",14),R(1),w()),2&n){const t=Fe();D(1),He(t.errorMessageRegister)}}function FK(n,e){if(1&n&&(E(0,"label",14),R(1),w()),2&n){const t=Fe();D(1),He(t.errorMessageLogin)}}let OK=(()=>{class n{constructor(t,r,i){this.router=t,this.authService=r,this.dbService=i,this.loginName="",this.password="",this.errorMessageLogin="",this.errorMessageRegister="",this.authService.removeCookie()}ngOnInit(){console.info('\n      \u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c \u0432 \u0432\u0435\u0431-\u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 "TO-DO LIST"!\n\n      \u0414\u0430\u043d\u043d\u043e\u0435 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u0435\u0442 \u0444\u0443\u043d\u043a\u0446\u0438\u0438 \u043f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0449\u0438\u043a\u0430 \u0441\u043f\u0438\u0441\u043a\u0430 \u0434\u0435\u043b, \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u0442\u044c, \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0438\n    \u0443\u0434\u0430\u043b\u044f\u0442\u044c \u0432\u0430\u0448\u0438 \u0441\u043f\u0438\u0441\u043a\u0438, \u0430 \u0442\u0430\u043a \u0436\u0435 \u0440\u0430\u0441\u043f\u0440\u0435\u0434\u0435\u043b\u044f\u0442\u044c \u0438\u0445 \u043f\u043e \u0434\u0430\u0442\u0430\u043c \u0432 \u043a\u0430\u043b\u0435\u043d\u0434\u0430\u0440\u0435 \u0438 \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0442\u044c \u0432 \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435.\n    \u0414\u043b\u044f \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u0441\u043f\u0438\u0441\u043a\u0430 \u0432\u0430\u043c \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0443\u043a\u0430\u0437\u0430\u0442\u044c \u0435\u0433\u043e \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435, \u0432\u044b\u0431\u0440\u0430\u0442\u044c \u0434\u0430\u0442\u0443, \u0432\u044b\u0431\u0440\u0430\u0442\u044c \u0442\u0435\u0433 \u0438\u0437 \u0443\u0436\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0445\n    \u0438\u043b\u0438 \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u0432\u044b\u0439, \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u0430\u043c\u0438 \u0437\u0430\u0434\u0430\u0447\u0438 \u0432 \u0441\u043f\u0438\u0441\u043e\u043a \u0438, \u0435\u0441\u043b\u0438 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e, \u043f\u043e\u043c\u0435\u0442\u0438\u0442\u044c \u0441\u043f\u0438\u0441\u043e\u043a \u043a\u0430\u043a \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u044b\u0439.\n      \u0414\u043b\u044f \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0430 \u0432\u0441\u0435\u0445 \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u044b\u0445 \u0441\u043f\u0438\u0441\u043a\u043e\u0432 \u0432\u043e\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435\u0441\u044c \u0432\u043a\u043b\u0430\u0434\u043a\u043e\u0439 "\u0418\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435", \u043d\u0430 \u043a\u043e\u0442\u043e\u0440\u043e\u0439 \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u044b\n    \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u044b \u0434\u043b\u044f \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0439 \u0444\u0438\u043b\u044c\u0442\u0440\u0430\u0446\u0438\u0438 \u0438 \u0443\u0434\u043e\u0431\u043d\u043e\u0433\u043e \u043f\u043e\u0438\u0441\u043a\u0430.\n      \u0414\u043b\u044f \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0430 \u0437\u0430\u043f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0445 \u043d\u0430 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u043d\u044b\u0435 \u0434\u0430\u0442\u044b \u0441\u043f\u0438\u0441\u043a\u043e\u0432 \u0432\u043e\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435\u0441\u044c \u0432\u043a\u043b\u0430\u0434\u043a\u043e\u0439 "\u041a\u0430\u043b\u0435\u043d\u0434\u0430\u0440\u044c".\n      \u0413\u0440\u0430\u0444\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u0438\u0439 \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f "TO-DO LIST" \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0430\u043d \u0432 \u0441\u0442\u0438\u043b\u0435 "\u041d\u0435\u043e\u043c\u043e\u0444\u0438\u0437\u043c"\n    (\u041d\u0435\u043e\u043c\u043e\u0444\u0438\u0437\u043c - \u044d\u0442\u043e \u0441\u0442\u0438\u043b\u044c \u0434\u0438\u0437\u0430\u0439\u043d\u0430 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0433\u043e \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u0430, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043b\u0435\u0433\u043a\u043e \u0443\u0437\u043d\u0430\u0435\u0442\u0441\u044f \u043f\u043e \u0441\u0432\u043e\u0435\u043c\u0443 \u0440\u0435\u043b\u044c\u0435\u0444\u043d\u043e\u043c\u0443\n    \u044d\u0444\u0444\u0435\u043a\u0442\u0443: \u0437\u0430 \u0441\u0447\u0435\u0442 \u043c\u044f\u0433\u043a\u0438\u0445 \u0442\u0435\u043d\u0435\u0439 \u043e\u0442 \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u043e\u0432 \u043e\u043d\u0438 \u043a\u0430\u0436\u0443\u0442\u0441\u044f \u0432\u044b\u043f\u0443\u043a\u043b\u044b\u043c\u0438 \u0438\u043b\u0438, \u043d\u0430\u043e\u0431\u043e\u0440\u043e\u0442, \u0432\u0434\u0430\u0432\u043b\u0435\u043d\u043d\u044b\u043c\u0438.)\n    ')}login(){this.errorMessageLogin="";let t=document.getElementById("email");""!==this.loginName&&""!==this.password?null!=t&&t.classList.contains("ng-valid")?this.dbService.login(this.loginName,this.password).then(r=>{null!=r?(this.authService.currentUser=r,this.router.navigateByUrl("/"),console.info(`\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d \u0432\u0445\u043e\u0434 \u043f\u043e\u0434 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u043c ${r}.`)):this.errorMessageLogin="\u041d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e \u0432\u0432\u0435\u0434\u0435\u043d \u043b\u043e\u0433\u0438\u043d \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c!"}):this.errorMessageLogin="\u041b\u043e\u0433\u0438\u043d \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u043e\u0432\u0430\u0442\u044c \u0430\u0434\u0440\u0435\u0441\u0443 \u043f\u043e\u0447\u0442\u043e\u0432\u043e\u0433\u043e \u044f\u0449\u0438\u043a\u0430!":this.errorMessageLogin="\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u0432\u0441\u0435 \u043f\u043e\u043b\u044f!"}registration(){this.errorMessageRegister="";let t=document.getElementById("email2");""!==this.loginName&&""!==this.password?null!=t&&t.classList.contains("ng-valid")?!1===this.dbService.isExistUser(this.loginName)?this.dbService.registration(this.loginName,this.password).then(r=>{this.authService.currentUser=r,this.router.navigateByUrl("/"),console.info(`\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0430 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f ${r}.`),console.info(`\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d \u0432\u0445\u043e\u0434 \u043f\u043e\u0434 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u043c ${r}.`)}):this.errorMessageRegister="\u0422\u0430\u043a\u043e\u0439 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0443\u0436\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442 \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0435!":this.errorMessageRegister="\u041b\u043e\u0433\u0438\u043d \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u043e\u0432\u0430\u0442\u044c \u0430\u0434\u0440\u0435\u0441\u0443 \u043f\u043e\u0447\u0442\u043e\u0432\u043e\u0433\u043e \u044f\u0449\u0438\u043a\u0430!":this.errorMessageRegister="\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u0432\u0441\u0435 \u043f\u043e\u043b\u044f!"}}return n.\u0275fac=function(t){return new(t||n)(T(Lt),T(_l),T(Zo))},n.\u0275cmp=Jn({type:n,selectors:[["app-login"]],decls:30,vars:6,consts:[["registrationModal",""],[1,"d-flex","flex-column"],[1,"simple-text"],["id","email2","type","email","email","","placeholder","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043b\u043e\u0433\u0438\u043d",1,"neumorph-input",3,"ngModel","ngModelChange"],["type","password","placeholder","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c",1,"neumorph-input",3,"ngModel","ngModelChange"],["class","text-danger fw-light","style","font-size: smaller;",4,"ngIf"],[1,"d-flex","justify-content-between"],[1,"neumorph-btn",3,"click"],[1,"main-container"],[1,"login-div"],[1,"neumorph-logo"],[1,"neumorph-card","login-btns-div"],["id","email","type","email","email","","placeholder","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043b\u043e\u0433\u0438\u043d",1,"neumorph-input",3,"ngModel","ngModelChange"],[1,"d-flex","justify-content-between","align-items-center"],[1,"text-danger","fw-light",2,"font-size","smaller"]],template:function(t,r){if(1&t){const i=Xe();E(0,"dialog",null,0)(2,"div",1)(3,"label",2),R(4,"\u0412 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0435 \u043b\u043e\u0433\u0438\u043d\u0430 \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u0430\u0434\u0440\u0435\u0441 \u044d\u043b.\u043f\u043e\u0447\u0442\u044b:"),w(),E(5,"input",3),x("ngModelChange",function(s){return r.loginName=s}),w(),E(6,"label",2),R(7,"\u041f\u0440\u0438\u0434\u0443\u043c\u0430\u0439\u0442\u0435 \u043d\u0430\u0434\u0435\u0436\u043d\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c:"),w(),E(8,"input",4),x("ngModelChange",function(s){return r.password=s}),w(),we(9,VK,2,1,"label",5),E(10,"div",6)(11,"button",7),x("click",function(){return ce(i),$e(1).close(),r.password="",de(r.loginName="")}),R(12,"\u041e\u0442\u043c\u0435\u043d\u0430"),w(),E(13,"button",7),x("click",function(){return r.registration()}),R(14,"P\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"),w()()()(),E(15,"div",8)(16,"div",9)(17,"label",10),R(18,"TO-DO LIST"),w(),E(19,"div",11)(20,"input",12),x("ngModelChange",function(s){return r.loginName=s}),w(),E(21,"input",4),x("ngModelChange",function(s){return r.password=s}),w(),we(22,FK,2,1,"label",5),E(23,"button",7),x("click",function(){return r.login()}),R(24,"\u0412\u0445\u043e\u0434"),w(),E(25,"div",13)(26,"label",2),R(27,"\u0415\u0449\u0451 \u043d\u0435\u0442 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430?"),w(),E(28,"button",7),x("click",function(){ce(i);const s=$e(1);return r.password="",r.loginName="",de(s.showModal())}),R(29,"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"),w()()()()()}2&t&&(D(5),V("ngModel",r.loginName),D(3),V("ngModel",r.password),D(1),V("ngIf",""!=r.errorMessageRegister),D(11),V("ngModel",r.loginName),D(1),V("ngModel",r.password),D(1),V("ngIf",""!=r.errorMessageLogin))},dependencies:[go,_o,zs,G_,yo],styles:[".login-div[_ngcontent-%COMP%]{margin-top:10%;width:60%;display:flex;align-items:center;flex-direction:column}inval-input[_ngcontent-%COMP%]{border-color:#cd5c5c!important;border-width:medium!important}.login-btns-div[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:25em;padding-inline:2em;margin-block:2em}@media (max-width: 1200px) and (min-width: 500px){.login-div[_ngcontent-%COMP%]{width:100%}}"]}),n})();function kK(n,e){if(1&n&&(E(0,"label",20),R(1),w()),2&n){const t=e.$implicit;D(1),He(t)}}function LK(n,e){if(1&n){const t=Xe();E(0,"button",21),x("click",function(){const o=ce(t).$implicit;return de(Fe().dateClick(o.date))}),R(1),w()}if(2&n){const t=e.$implicit,r=Fe();V("ngClass",r.isNotEmptyDay(t.date)?r.isToday(t.date)?"not-null today":"not-null":r.isToday(t.date)?"today":"")("disabled",!t.isCurrMonth),D(1),dn(" ",t.date," ")}}function BK(n,e){1&n&&j(0,"i",31)}function jK(n,e){if(1&n){const t=Xe();E(0,"div",25)(1,"div",26)(2,"label",27),x("click",function(){const o=ce(t).$implicit,s=Fe(2),a=$e(1);return s.showTodoListModal(o),de(a.showModal())}),R(3),w(),E(4,"label",28),j(5,"i",29),R(6),w()(),we(7,BK,1,0,"i",30),w()}if(2&n){const t=e.$implicit;D(2),Su("title",t.name),D(1),He(t.name),D(2),Gn("color",t.tag.color),D(1),dn("/",t.readyPer,"%"),D(1),V("ngIf",t.isFavorite)}}function UK(n,e){if(1&n&&(E(0,"div",22)(1,"label",23),R(2),w(),we(3,jK,8,6,"div",24),w()),2&n){const t=Fe();D(2),dn("\u0421\u043f\u0438\u0441\u043a\u0438 \u043d\u0430 ",t.selectedDate.toLocaleDateString(),":"),D(1),V("ngForOf",t.todoList)}}function $K(n,e){if(1&n){const t=Xe();E(0,"div",32)(1,"label",33),R(2,"\u041d\u0430 \u0434\u0430\u0442\u0443 "),E(3,"label",23),R(4),w(),R(5," \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u044e\u0442 \u0441\u043f\u0438\u0441\u043a\u0438 \u0434\u0435\u043b"),w(),E(6,"button",34),x("click",function(){return ce(t),Fe(),de($e(4).showModal())}),j(7,"i",35),w()()}if(2&n){const t=Fe();D(4),dn(" ",t.selectedDate.toLocaleDateString()," ")}}let $N=(()=>{class n{constructor(t){this.dbService=t,this.daysInMonth=[],this.monthName="",this.weekdayNames=["\u041f\u043d","\u0412\u0442","\u0421\u0440","\u0427\u0442","\u041f\u0442","\u0421\u0431","\u0412\u0441"],this.today=new Date,this.selectedMonth=this.today,this.selectedDate=this.today,this.allTodoList=[],this.todoList=[],this.currTodoList=new Ro}ngOnInit(){this.getAllTodoList(),this.loadCalendar(this.today)}getAllTodoList(){this.dbService.getAllTodoLists().then(t=>{this.allTodoList=t,this.dateClick(this.today.getDate())})}nextMonth(){this.selectedMonth=this.getNextMonth(),this.loadCalendar(this.selectedMonth)}getNextMonth(){return new Date(this.selectedMonth.getFullYear(),this.selectedMonth.getMonth()+1,this.selectedMonth.getDate())}prevMonth(){this.selectedMonth=this.getPrevMonth(),this.loadCalendar(this.selectedMonth)}getPrevMonth(){return new Date(this.selectedMonth.getFullYear(),this.selectedMonth.getMonth()-1,this.selectedMonth.getDate())}isToday(t){return this.today.getFullYear()==this.selectedMonth.getFullYear()&&this.today.getMonth()==this.selectedMonth.getMonth()&&this.today.getDate()==t}isNotEmptyDay(t){let r=this.selectedMonth.getMonth(),i=this.selectedMonth.getFullYear();return this.allTodoList.some(o=>o.date.getDate()===t&&o.date.getMonth()===r&&o.date.getFullYear()===i)}loadCalendar(t){this.daysInMonth=[];let r=this.getDayInMonth(t),i=this.getFirstDay(t).getDay();if(1!==i){i=0===i?7:i;let s=i-1,a=this.getPrevMonth(),u=this.getDayInMonth(a);for(let l=u-s+1;l<=u;l++)this.daysInMonth.push({date:l,isCurrMonth:!1})}for(let s=1;s<=r;s++)this.daysInMonth.push({date:s,isCurrMonth:!0});let o=this.getLastDay(t,r).getDay();if(0!==o){let s=7-o;for(let a=1;a<=s;a++)this.daysInMonth.push({date:a,isCurrMonth:!1})}this.monthName=t.toLocaleString("default",{month:"long"})}getDayInMonth(t){return 32-new Date(t.getFullYear(),t.getMonth(),32).getDate()}getFirstDay(t){return new Date(t.getFullYear(),t.getMonth(),1)}getLastDay(t,r){return new Date(t.getFullYear(),t.getMonth(),r)}dateClick(t){this.todoList=[],this.selectedDate=new Date(this.selectedMonth.getFullYear(),this.selectedMonth.getMonth(),t),this.todoList=this.allTodoList.filter(r=>r.date.toLocaleDateString()===this.selectedDate.toLocaleDateString())}showTodoListModal(t){this.currTodoList=t}}return n.\u0275fac=function(t){return new(t||n)(T(Zo))},n.\u0275cmp=Jn({type:n,selectors:[["calendar"]],decls:22,vars:9,consts:[[1,"dialog-card"],["listCard",""],[3,"todoList","close"],[1,"dialog-add-edit"],["add",""],[3,"isEdit","close"],[1,"calendar-panels"],[1,"calendar-panel"],[1,"calendar-header-container"],[1,"fa-solid","fa-caret-left","big-neumorph-icon",3,"click"],[1,"month-name"],[1,"neumorph-logo"],[1,"secondary-text"],[1,"fa-solid","fa-caret-right","big-neumorph-icon",3,"click"],[1,"calendar"],["class","title-text weekday",4,"ngFor","ngForOf"],["class","neumorph-btn calendar-day",3,"ngClass","disabled","click",4,"ngFor","ngForOf"],[1,"list-panel"],["class","neumorph-card h-100 overflow-auto",4,"ngIf"],["class","null-day neumorph-card h-100",4,"ngIf"],[1,"title-text","weekday"],[1,"neumorph-btn","calendar-day",3,"ngClass","disabled","click"],[1,"neumorph-card","h-100","overflow-auto"],[1,"title-text"],["class","d-flex align-items-center",4,"ngFor","ngForOf"],[1,"d-flex","align-items-center"],[1,"neumorph-list-card","mx-0","w-100"],[1,"title-text","list-name","mx-0",3,"title","click"],[1,"simple-text"],[1,"fa-solid","fa-tag",2,"opacity","0.7"],["class","fa-solid fa-heart big-neumorph-icon ms-2","title","\u0418\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435","style","font-size: x-large;",4,"ngIf"],["title","\u0418\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435",1,"fa-solid","fa-heart","big-neumorph-icon","ms-2",2,"font-size","x-large"],[1,"null-day","neumorph-card","h-100"],[1,"simple-text","mb-2"],[1,"neumorph-btn","add-btn",3,"click"],[1,"fa-regular","fa-square-plus"]],template:function(t,r){if(1&t){const i=Xe();E(0,"dialog",0,1)(2,"list-card",2),x("close",function(){return ce(i),$e(1).close(),r.getAllTodoList(),de(r.dateClick(r.today.getDate()))}),w()(),E(3,"dialog",3,4)(5,"add-edit-list",5),x("close",function(){return ce(i),$e(4).close(),de(r.ngOnInit())}),w()(),E(6,"div",6)(7,"div",7)(8,"div",8)(9,"i",9),x("click",function(){return r.prevMonth()}),w(),E(10,"div",10)(11,"label",11),R(12),w(),E(13,"label",12),R(14),w()(),E(15,"i",13),x("click",function(){return r.nextMonth()}),w()(),E(16,"div",14),we(17,kK,2,1,"label",15),we(18,LK,2,3,"button",16),w()(),E(19,"div",17),we(20,UK,4,2,"div",18),we(21,$K,8,1,"div",19),w()()}2&t&&(D(2),V("todoList",r.currTodoList),D(3),V("isEdit",!1),D(7),He(r.monthName),D(2),_m("",r.monthName,", ",r.selectedMonth.getFullYear(),""),D(3),V("ngForOf",r.weekdayNames),D(1),V("ngForOf",r.daysInMonth),D(2),V("ngIf",0!==r.todoList.length),D(1),V("ngIf",0===r.todoList.length))},styles:[".calendar-panels[_ngcontent-%COMP%]{width:80%;display:flex;justify-content:center;margin:auto}.calendar-panel[_ngcontent-%COMP%]{width:50%;display:block;justify-content:center;top:0;margin-inline:auto;padding:1em}.list-panel[_ngcontent-%COMP%]{height:70vh;width:50%;padding:1em;margin:auto}.null-day[_ngcontent-%COMP%]{width:100%;height:65vh;margin:0!important;display:flex;align-items:center;justify-content:center;flex-direction:column}.calendar[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr 1fr 1fr 1fr 1fr 1fr;justify-items:center;flex-wrap:wrap;list-style:none}.weekday[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:1em}.today[_ngcontent-%COMP%]{border:1px solid var(--secondary-text-color)}.calendar-header-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1em}.month-name[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.calendar-day[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;border-radius:20px;width:5rem;height:5rem}.calendar-day[_ngcontent-%COMP%]:focus{box-shadow:var(--outset-shadow-active)}.list-name[_ngcontent-%COMP%]{width:70%;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;cursor:pointer;padding-inline:0}.list-name[_ngcontent-%COMP%]:hover{color:var(--link-hover-color)}.not-null[_ngcontent-%COMP%]{color:#00b6ff}@media (max-width: 1690px){.calendar-day[_ngcontent-%COMP%]{width:3rem;height:3rem;border-radius:15px}}@media (max-width: 950px){.calendar-panel[_ngcontent-%COMP%]{width:90%;margin-bottom:1em}.list-panel[_ngcontent-%COMP%]{width:90%}.calendar-panels[_ngcontent-%COMP%]{display:block}}@media (max-width: 1150px){.calendar-day[_ngcontent-%COMP%]{width:2rem;height:2rem;border-radius:10px;margin:.3em}}"]}),n})(),QE=(()=>{class n{calcPerReady(t){let r=t.list.length,i=t.list.filter(o=>!0===o.isReady).length;return Math.round(100*i/r)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})();function HK(n,e){if(1&n){const t=Xe();E(0,"div",24)(1,"div",25)(2,"input",26),x("ngModelChange",function(i){return de(ce(t).$implicit.isReady=i)})("change",function(){const o=ce(t).$implicit;return de(Fe().markAsReady(o))}),w(),E(3,"label",8),R(4),w()()()}if(2&n){const t=e.$implicit;D(2),V("ngModel",t.isReady),D(1),V("ngClass",t.isReady?"crossed-simple-text":"simple-text"),D(1),He(t.text)}}let op=(()=>{class n{constructor(t,r){this.dbService=t,this.gFuncService=r,this.todoList=new Ro,this.close=new Ge}markAsReady(t){this.todoList.readyPer=this.gFuncService.calcPerReady(this.todoList),this.dbService.checkReady(t),this.dbService.editReadyPer(this.todoList)}deleteList(){this.dbService.deleteList(this.todoList.id),this.close.emit()}}return n.\u0275fac=function(t){return new(t||n)(T(Zo),T(QE))},n.\u0275cmp=Jn({type:n,selectors:[["list-card"]],inputs:{todoList:"todoList"},outputs:{close:"close"},decls:46,vars:13,consts:[["delete",""],[1,"title-text"],[1,"d-flex","justify-content-around","mt-3"],[1,"neumorph-btn","sm-neumorph-btn","my-0",3,"click"],[1,"dialog-add-edit"],["edit",""],[3,"todoList","isEdit","close"],[1,"list-card-header"],[3,"ngClass"],[1,"fa-solid","fa-xmark","close-icon",3,"click"],[1,"list-info"],[1,"simple-text"],[1,"fa-solid","fa-calendar","ms-1"],[1,"fa-solid","fa-tag","me-2",2,"opacity","0.7"],[1,"list"],["class","neumorph-list-card",4,"ngFor","ngForOf"],[1,"progress-container","neumorph-card"],[1,"progerss-line"],[1,"fa-solid","fa-person-running","fa-fade",2,"color","var(--secondary-text-color)"],[1,"list-card-header","mb-0"],["title","\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0441\u043f\u0438\u0441\u043e\u043a",1,"neumorph-btn","sm-neumorph-btn","my-0",3,"click"],[1,"fa-solid","fa-trash"],["title","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441\u043f\u0438\u0441\u043e\u043a",1,"neumorph-btn","sm-neumorph-btn","my-0",3,"click"],[1,"fa-solid","fa-pen"],[1,"neumorph-list-card"],[1,"d-flex","align-items-center"],["type","checkbox",1,"neumorph-input",3,"ngModel","ngModelChange","change"]],template:function(t,r){if(1&t){const i=Xe();E(0,"dialog",null,0)(2,"label",1),R(3),w(),E(4,"div",2)(5,"button",3),x("click",function(){return ce(i),de($e(1).close())}),R(6,"\u041d\u0435\u0442"),w(),E(7,"button",3),x("click",function(){ce(i);const s=$e(1);return r.deleteList(),de(s.close())}),R(8,"\u0414\u0430"),w()()(),E(9,"dialog",4,5)(11,"add-edit-list",6),x("close",function(){return ce(i),de($e(10).close())}),w()(),E(12,"div",7),j(13,"i",8),E(14,"label",1),R(15),w(),E(16,"i",9),x("click",function(){return r.close.emit()}),w()(),j(17,"hr"),E(18,"div",10)(19,"label",1),R(20," \u0414\u0430\u0442\u0430: "),E(21,"label",11),R(22),w(),j(23,"i",12),w(),E(24,"label",1)(25,"label",11),j(26,"i",13),R(27),w()()(),E(28,"div",14),we(29,HK,5,3,"div",15),w(),E(30,"div")(31,"label",1),R(32,"\u041f\u0440\u043e\u0446\u0435\u043d\u0442 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f:"),w(),E(33,"div",16)(34,"div",17)(35,"label",1),R(36),w(),j(37,"i",18),w()()(),j(38,"hr"),E(39,"div",19)(40,"button",20),x("click",function(){return ce(i),de($e(1).showModal())}),R(41,"\u0423\u0434\u0430\u043b\u0438\u0442\u044c "),j(42,"i",21),w(),E(43,"button",22),x("click",function(){return ce(i),de($e(10).showModal())}),R(44,"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c "),j(45,"i",23),w()()}2&t&&(D(3),dn("\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0441\u043f\u0438\u0441\u043e\u043a ",r.todoList.name,"?"),D(8),V("todoList",r.todoList)("isEdit",!0),D(2),V("ngClass",r.todoList.isFavorite?"fa-solid fa-heart fa-beat big-neumorph-icon":""),D(2),He(r.todoList.name),D(7),He(r.todoList.date.toLocaleDateString()),D(4),Gn("color",r.todoList.tag.color),D(1),He(r.todoList.tag.tagName),D(2),V("ngForOf",r.todoList.list),D(5),Gn("width",r.todoList.readyPer,"%"),D(2),dn("",r.todoList.readyPer,"%"))},styles:[".progress-container[_ngcontent-%COMP%]{width:100%;border-radius:50px;margin-inline:0!important}.progerss-line[_ngcontent-%COMP%]{background:var(--bg-color);display:flex;border-radius:50px;justify-content:space-between;align-items:center;box-shadow:var(--inset-shadow-default);padding-inline:.5em;transition:4s}.list-card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:.5em}.list-info[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:.5em;margin-inline:1.2em}.list[_ngcontent-%COMP%]{height:22em;overflow:auto}"]}),n})();const GK=["addTag"];function qK(n,e){1&n&&(E(0,"label",40),R(1,"\u041f\u043e\u0434\u043e\u0431\u043d\u044b\u0439 \u0442\u0435\u0433 \u0443\u0436\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442"),w())}function zK(n,e){if(1&n){const t=Xe();E(0,"li",41),x("click",function(){const o=ce(t).$implicit;return de(Fe().tagClick(o))}),E(1,"label",42),j(2,"i",43),R(3),w()()}if(2&n){const t=e.$implicit;D(2),Gn("color",t.color),D(1),He(t.tagName)}}function WK(n,e){1&n&&(E(0,"li",19),R(1,"\u041d\u0435\u0442 \u0442\u0435\u0433\u043e\u0432"),w())}function KK(n,e){if(1&n){const t=Xe();E(0,"div",44)(1,"div",45)(2,"input",46),x("ngModelChange",function(i){return de(ce(t).$implicit.isReady=i)})("change",function(){const o=ce(t).$implicit;return de(Fe().markAsReady(o))}),w(),E(3,"label",47),R(4),w()(),E(5,"button",48),x("click",function(){const o=ce(t).$implicit;return de(Fe().deleteItem(o.id))}),j(6,"i",49),w()()}if(2&n){const t=e.$implicit;D(2),V("ngModel",t.isReady),D(1),V("ngClass",t.isReady?"crossed-simple-text":"simple-text"),D(1),He(t.text)}}let YE=(()=>{class n{constructor(t,r){this.dbService=t,this.gFuncService=r,this.todoList=new Ro,this.isEdit=!1,this.close=new Ge,this.allTags=[],this.isOpenDropDown=!1,this.newTag="",this.newTagColor="",this.newItemText="",this.isTagError=!1}ngOnInit(){this.getAllTags()}getAllTags(){this.dbService.getAllTags().then(t=>{this.allTags=t})}closeForm(){this.close.emit()}changeDate(t){this.todoList.date=t.currentTarget.valueAsDate}tagClick(t){this.todoList.tag=t,this.isOpenDropDown=!1}addNewTag(){0===this.allTags.filter(r=>r.tagName.toLowerCase().trim()===this.newTag.toLowerCase().trim()).length?(this.isTagError=!1,this.dbService.addTag(this.newTag,this.newTagColor),this.getAllTags(),this.addTag.close()):this.isTagError=!0,this.newTag="",this.newTagColor=""}addNewItem(){let t=new oR;t.text=this.newItemText,this.todoList.list.push(t),this.newItemText=""}deleteItem(t){this.dbService.deleteItem(t);let r=this.todoList.list.findIndex(i=>i.id===t);this.todoList.list.splice(r,1)}isValid(){return null!=this.todoList.name&&""!=this.todoList.name&&null!=this.todoList.date&&null!=this.todoList.tag&&""!=this.todoList.tag.tagName}save(){this.todoList.readyPer=this.gFuncService.calcPerReady(this.todoList),this.isEdit?this.dbService.editList(this.todoList):this.dbService.addNewList(this.todoList,this.todoList.list),this.closeForm()}markAsReady(t){this.todoList.readyPer=this.gFuncService.calcPerReady(this.todoList),this.dbService.checkReady(t),this.dbService.editReadyPer(this.todoList)}}return n.\u0275fac=function(t){return new(t||n)(T(Zo),T(QE))},n.\u0275cmp=Jn({type:n,selectors:[["add-edit-list"]],viewQuery:function(t,r){if(1&t&&km(GK,5),2&t){let i;Bu(i=ju())&&(r.addTag=i.first)}},inputs:{todoList:"todoList",isEdit:"isEdit"},outputs:{close:"close"},decls:77,vars:21,consts:[["addTag",""],["type","text","placeholder","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u043e\u0432\u044b\u0439 \u0442\u0435\u0433","maxlength","20",1,"neumorph-input","ms-1",3,"ngModel","ngModelChange"],[1,"d-flex","align-items-center"],[1,"title-text"],["type","color",1,"neumorph-input",3,"ngModel","ngModelChange"],[1,"fa-solid","fa-tag","fa-xl",2,"opacity","0.7"],["class","text-danger fw-light","style","font-size: smaller;",4,"ngIf"],[1,"d-flex","justify-content-between","mt-2"],[1,"neumorph-btn","sm-neumorph-btn",3,"click"],[1,"fa-solid","fa-arrow-rotate-left"],[1,"fa-solid","fa-check"],["addItem",""],["type","text","placeholder","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u043e\u0432\u0443\u044e \u0437\u0430\u0434\u0430\u0447\u0443","maxlength","30",1,"neumorph-input","ms-1",2,"width","20em",3,"ngModel","ngModelChange"],[1,"list-card-header"],[1,"fa-solid","fa-xmark","close-icon",3,"click"],[1,"field"],[1,"simple-text","w-25"],[1,"w-75"],["type","text","maxlength","20",1,"neumorph-input","ms-0","mt-0",3,"ngModel","ngModelChange"],[1,"secondary-text"],["type","date",1,"neumorph-input","ms-0","mt-0","w-75",3,"ngModel","change"],["type","text","readonly","true",1,"neumorph-input","ms-0","mt-0",3,"ngModel","ngModelChange","focus","focusout"],[1,"neumorph-btn","sm-neumorph-btn","ms-0","me-1",3,"click","focusout"],[1,"fa-solid","fa-list-ul"],[1,"neumorph-btn","sm-neumorph-btn","mx-0",3,"click"],[1,"fa-solid","fa-plus"],[1,"dropdown-tag-list",2,"z-index","2",3,"ngClass"],[3,"click",4,"ngFor","ngForOf"],["class","secondary-text",4,"ngIf"],[1,"field","w-75"],["type","checkbox",1,"neumorph-input",2,"cursor","pointer",3,"ngModel","ngModelChange"],[1,"fa-solid","fa-heart","big-neumorph-icon","ms-2",2,"font-size","x-large",3,"ngClass"],[2,"z-index","1"],[1,"d-flex","align-items-start"],["title","\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u0432\u0443\u044e \u0437\u0430\u0434\u0430\u0447\u0443",1,"neumorph-btn","sm-neumorph-btn","mx-0",3,"click"],[1,"list","w-100",2,"height","16em"],["class","neumorph-list-card",4,"ngFor","ngForOf"],[1,"list-card-header","mb-0"],[1,"neumorph-btn","sm-neumorph-btn","my-0",3,"click"],[1,"neumorph-btn","sm-neumorph-btn","my-0",3,"disabled","click"],[1,"text-danger","fw-light",2,"font-size","smaller"],[3,"click"],[1,"tag-name","simple-text"],[1,"fa-solid","fa-tag","me-2",2,"opacity","0.7"],[1,"neumorph-list-card"],[1,"d-flex","align-items-center",2,"width","90%"],["type","checkbox",1,"neumorph-input",3,"ngModel","ngModelChange","change"],[1,"item-text",3,"ngClass"],["title","\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043f\u0443\u043d\u043a\u0442",1,"neumorph-btn","sm-neumorph-btn","mx-0",3,"click"],[1,"fa-solid","fa-trash"]],template:function(t,r){if(1&t){const i=Xe();E(0,"dialog",null,0)(2,"input",1),x("ngModelChange",function(s){return r.newTag=s}),w(),j(3,"br"),E(4,"div",2)(5,"label",3),R(6,"\u0412\u044b\u0431\u0435\u0440\u0435\u0442\u0435 \u0446\u0432\u0435\u0442: "),w(),E(7,"input",4),x("ngModelChange",function(s){return r.newTagColor=s}),w(),j(8,"i",5),w(),we(9,qK,2,0,"label",6),E(10,"div",7)(11,"button",8),x("click",function(){return ce(i),de($e(1).close())}),R(12,"\u041e\u0442\u043c\u0435\u043d\u0430 "),j(13,"i",9),w(),E(14,"button",8),x("click",function(){return r.addNewTag()}),R(15,"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c "),j(16,"i",10),w()()(),E(17,"dialog",null,11)(19,"input",12),x("ngModelChange",function(s){return r.newItemText=s}),w(),E(20,"div",7)(21,"button",8),x("click",function(){ce(i);const s=$e(18);return r.newItemText="",de(s.close())}),R(22,"\u041e\u0442\u043c\u0435\u043d\u0430 "),j(23,"i",9),w(),E(24,"button",8),x("click",function(){ce(i);const s=$e(18);return r.addNewItem(),de(s.close())}),R(25,"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c "),j(26,"i",10),w()()(),E(27,"div",13)(28,"label",3),R(29),w(),E(30,"i",14),x("click",function(){return r.closeForm()}),w()(),j(31,"hr"),E(32,"div")(33,"div",15)(34,"label",16),R(35,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"),w(),E(36,"div",17)(37,"input",18),x("ngModelChange",function(s){return r.todoList.name=s}),w(),E(38,"label",19),R(39),w()()(),E(40,"div",15)(41,"label",16),R(42,"\u0414\u0430\u0442\u0430"),w(),E(43,"input",20),x("change",function(s){return r.changeDate(s)}),function gb(n,e){const t=Ee();let r;const i=n+22;t.firstCreatePass?(r=function VB(n,e){if(e)for(let t=e.length-1;t>=0;t--){const r=e[t];if(n===r.name)return r}}(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks||(t.destroyHooks=[])).push(i,r.onDestroy)):r=t.data[i];const o=r.factory||(r.factory=oo(r.type)),s=gr(T);try{const a=Kc(!1),u=o();return Kc(a),function _2(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}(t,A(),i,u),u}finally{gr(s)}}(44,"date"),w()(),E(45,"div",15)(46,"label",16),R(47,"\u0422\u0435\u0433"),w(),E(48,"div",17)(49,"input",21),x("ngModelChange",function(s){return r.todoList.tag.tagName=s})("focus",function(){return r.isOpenDropDown=!0})("focusout",function(){return r.isOpenDropDown=!1}),w(),E(50,"button",22),x("click",function(){return r.isOpenDropDown=!r.isOpenDropDown})("focusout",function(){return r.isOpenDropDown=!1}),j(51,"i",23),w(),E(52,"button",24),x("click",function(){return ce(i),de($e(1).showModal())}),j(53,"i",25),w(),E(54,"ul",26),we(55,zK,4,3,"li",27),we(56,WK,2,0,"li",28),w()()(),E(57,"div",15)(58,"label",16),R(59,"\u0418\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435"),w(),E(60,"div",29)(61,"input",30),x("ngModelChange",function(s){return r.todoList.isFavorite=s}),w(),j(62,"i",31),w()()(),j(63,"hr",32),E(64,"div",33)(65,"button",34),x("click",function(){return ce(i),de($e(18).showModal())}),j(66,"i",25),w(),E(67,"div",35),we(68,KK,7,3,"div",36),w()(),j(69,"hr"),E(70,"div",37)(71,"button",38),x("click",function(){return r.closeForm()}),R(72,"\u041e\u0442\u043c\u0435\u043d\u0430 "),j(73,"i",9),w(),E(74,"button",39),x("click",function(){return r.save()}),R(75,"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c "),j(76,"i",10),w()()}2&t&&(D(2),V("ngModel",r.newTag),D(5),V("ngModel",r.newTagColor),D(1),Gn("color",r.newTagColor),D(1),V("ngIf",r.isTagError),D(10),V("ngModel",r.newItemText),D(10),He(r.isEdit?"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435":"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435"),D(8),V("ngModel",r.todoList.name),D(2),dn("",r.todoList.name.length,"/20"),D(4),V("ngModel",function mb(n,e,t,r){const i=n+22,o=A(),s=ss(o,i);return function Lu(n,e){return n[1].data[e].pure}(o,i)?db(o,un(),e,s.transform,t,r,s):s.transform(t,r)}(44,18,r.todoList.date,"yyyy-MM-dd")),D(6),V("ngModel",r.todoList.tag.tagName),D(5),V("ngClass",r.isOpenDropDown?"dropdown-tag-list-open":""),D(1),V("ngForOf",r.allTags),D(1),V("ngIf",0===r.allTags.length),D(5),V("ngModel",r.todoList.isFavorite),D(1),V("ngClass",r.todoList.isFavorite?"fa-beat":""),D(6),V("ngForOf",r.todoList.list),D(6),V("disabled",!r.isValid()))},dependencies:[po,Gs,go,_o,qs,zs,dh,yo,FA],styles:[".field[_ngcontent-%COMP%]{display:flex;align-items:center}.tag-name[_ngcontent-%COMP%]{text-decoration:none;color:var(--text-color);letter-spacing:.1em}.item-text[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis}",".progress-container[_ngcontent-%COMP%]{width:100%;border-radius:50px;margin-inline:0!important}.progerss-line[_ngcontent-%COMP%]{background:var(--bg-color);display:flex;border-radius:50px;justify-content:space-between;align-items:center;box-shadow:var(--inset-shadow-default);padding-inline:.5em;transition:4s}.list-card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:.5em}.list-info[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:.5em;margin-inline:1.2em}.list[_ngcontent-%COMP%]{height:22em;overflow:auto}"]}),n})();function QK(n,e){if(1&n){const t=Xe();E(0,"li",20),x("click",function(){const o=ce(t).$implicit,s=Fe();return s.selectedTag=o.tagName,de(s.filter())}),E(1,"label",21),j(2,"i",22),R(3),w()()}if(2&n){const t=e.$implicit;D(2),Gn("color",t.color),D(1),He(t.tagName)}}function YK(n,e){1&n&&(E(0,"li",23),R(1,"\u041d\u0435\u0442 \u0442\u0435\u0433\u043e\u0432"),w())}function JK(n,e){1&n&&(E(0,"div",24),j(1,"i",25),E(2,"label",26),R(3,"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0434\u0430\u043d\u043d\u044b\u0445..."),w()())}function XK(n,e){1&n&&(E(0,"div",24)(1,"label",26),R(2,"\u0421\u043f\u0438\u0441\u043a\u0438 \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u044e\u0442"),w()())}function ZK(n,e){if(1&n){const t=Xe();E(0,"div",37)(1,"div",38)(2,"input",39),x("ngModelChange",function(i){return de(ce(t).$implicit.isReady=i)}),w(),E(3,"label",40),R(4),w()()()}if(2&n){const t=e.$implicit;D(2),V("ngModel",t.isReady),D(1),V("ngClass",t.isReady?"crossed-simple-text":"simple-text"),D(1),He(t.text)}}function eQ(n,e){if(1&n){const t=Xe();E(0,"div",29)(1,"div",30)(2,"label",31),x("click",function(){const o=ce(t).$implicit,s=Fe(2),a=$e(1);return s.showTodoListModal(o),de(a.showModal())}),R(3),w()(),j(4,"hr"),E(5,"div",32)(6,"label",33),j(7,"i",22),R(8),w(),E(9,"label",33),R(10),w()(),E(11,"div",34),we(12,ZK,5,3,"div",35),w(),E(13,"div",32)(14,"label",33),j(15,"i",36),R(16),w()()()}if(2&n){const t=e.$implicit;D(2),Su("title",t.name),D(1),He(t.name),D(4),Gn("color",t.tag.color),D(1),He(t.tag.tagName),D(2),dn("",t.readyPer,"%"),D(2),V("ngForOf",t.list),D(4),dn(" ",t.date.toLocaleDateString(),"")}}function tQ(n,e){if(1&n&&(E(0,"div",27),we(1,eQ,17,8,"div",28),w()),2&n){const t=Fe();D(1),V("ngForOf",t.filteredTodoList)}}let HN=(()=>{class n{constructor(t){this.dbService=t,this.todoList=[],this.filteredTodoList=this.todoList,this.currTodoList=new Ro,this.allTags=[],this.isOpenDropDown=!1,this.selectedTag="",this.nameToFind="",this.isLoading=!1}ngOnInit(){this.getFavoriteList(),this.getAllTags()}getAllTags(){this.dbService.getAllTags().then(t=>{this.allTags=t})}getFavoriteList(){this.isLoading=!0,this.dbService.getAllTodoLists().then(t=>{this.todoList=t.filter(r=>!0===r.isFavorite),this.filteredTodoList=t.filter(r=>!0===r.isFavorite),this.isLoading=!1})}filter(){""!=this.selectedDate&&""!=this.selectedTag&&(this.filteredTodoList=this.todoList.filter(t=>t.date.toISOString().split("T")[0]===this.selectedDate&&t.tag.tagName===this.selectedTag)),this.filteredTodoList=this.todoList.filter(""!=this.selectedDate?t=>t.date.toISOString().split("T")[0]===this.selectedDate:t=>t.tag.tagName===this.selectedTag)}filterByName(){this.filteredTodoList=this.todoList.filter(t=>t.name.toLowerCase().includes(this.nameToFind.toLowerCase())),console.info(`\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d \u043f\u043e\u0438\u0441\u043a \u043f\u043e \u0438\u043c\u0435\u043d\u0438 "${this.nameToFind}".`)}resetFilter(){this.filteredTodoList=this.todoList,this.selectedTag="",this.nameToFind="",this.selectedDate="",console.info("\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d \u0441\u0431\u0440\u043e\u0441 \u0432\u0441\u0435\u0445 \u0444\u0438\u043b\u044c\u0442\u0440\u043e\u0432.")}showTodoListModal(t){this.todoList=[],this.currTodoList=t}}return n.\u0275fac=function(t){return new(t||n)(T(Zo))},n.\u0275cmp=Jn({type:n,selectors:[["favorite"]],decls:24,vars:10,consts:[[1,"dialog-card"],["listCard",""],[3,"todoList","close"],[1,"favorite-panel"],[1,"neumorph-card","filter-panel"],[1,"position-relative"],["type","text","placeholder","\u0412\u044b\u0431\u0435\u0440\u0435\u0442\u0435 \u0442\u0435\u0433","readonly","true","id","tagInput",1,"neumorph-input","my-0",2,"width","12em",3,"ngModel","ngModelChange","focus","focusout"],[1,"neumorph-btn","sm-neumorph-btn","ms-0","me-1",3,"click","focusout"],[1,"fa-solid","fa-list-ul"],[1,"dropdown-tag-list",2,"z-index","2","right","0",3,"ngClass"],[3,"click",4,"ngFor","ngForOf"],["class","secondary-text",4,"ngIf"],[1,"fa-solid","fa-magnifying-glass","ms-2",2,"color","var(--secondary-text-color)"],["type","text","placeholder","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0441\u043f\u0438\u0441\u043a\u0430","id","nameInput",1,"neumorph-input","my-0",2,"width","17em",3,"ngModel","ngModelChange","input"],["id","thirdDiv",1,"d-flex","justify-content-between"],["type","date","id","dateInput",1,"neumorph-input","my-0",3,"ngModel","ngModelChange","change"],[1,"neumorph-btn","sm-neumorph-btn",3,"click"],[1,"fa-solid","fa-filter-circle-xmark"],["class","w-100 d-flex justify-content-center align-items-center","style","color: var(--secondary-text-color);",4,"ngIf"],["class","fav-todo-list",4,"ngIf"],[3,"click"],[1,"tag-name","simple-text"],[1,"fa-solid","fa-tag","me-2",2,"opacity","0.7"],[1,"secondary-text"],[1,"w-100","d-flex","justify-content-center","align-items-center",2,"color","var(--secondary-text-color)"],[1,"fa-solid","fa-spinner","fa-spin-pulse","fa-2xl"],[1,"fw-light","ms-2"],[1,"fav-todo-list"],["class","neumorph-card fav-card",4,"ngFor","ngForOf"],[1,"neumorph-card","fav-card"],[1,"d-flex","justify-content-center"],[1,"title-text",2,"cursor","pointer",3,"title","click"],[1,"d-flex","justify-content-between"],[1,"simple-text"],[1,"part-list"],["class","neumorph-list-card",4,"ngFor","ngForOf"],[1,"fa-solid","fa-calendar"],[1,"neumorph-list-card"],[1,"d-flex","align-items-center"],["type","checkbox","disabled","true",1,"neumorph-input",3,"ngModel","ngModelChange"],[3,"ngClass"]],template:function(t,r){if(1&t){const i=Xe();E(0,"dialog",0,1)(2,"list-card",2),x("close",function(){return ce(i),$e(1).close(),de(r.getFavoriteList())}),w()(),E(3,"div",3)(4,"div",4)(5,"div",5)(6,"input",6),x("ngModelChange",function(s){return r.selectedTag=s})("focus",function(){return r.isOpenDropDown=!0})("focusout",function(){return r.isOpenDropDown=!1}),w(),E(7,"button",7),x("click",function(){return r.isOpenDropDown=!r.isOpenDropDown})("focusout",function(){return r.isOpenDropDown=!1}),j(8,"i",8),w(),E(9,"ul",9),we(10,QK,4,3,"li",10),we(11,YK,2,0,"li",11),w()(),E(12,"div"),j(13,"i",12),E(14,"input",13),x("ngModelChange",function(s){return r.nameToFind=s})("input",function(){return r.filterByName()}),w()(),E(15,"div",14)(16,"input",15),x("ngModelChange",function(s){return r.selectedDate=s})("change",function(){return r.filter()}),w(),E(17,"button",16),x("click",function(){return r.resetFilter()}),R(18," \u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0444\u0438\u043b\u044c\u0442\u0440\u044b "),j(19,"i",17),w()()(),j(20,"hr"),we(21,JK,4,0,"div",18),we(22,XK,3,0,"div",18),we(23,tQ,2,1,"div",19),w()}2&t&&(D(2),V("todoList",r.currTodoList),D(4),V("ngModel",r.selectedTag),D(3),V("ngClass",r.isOpenDropDown?"dropdown-tag-list-open":""),D(1),V("ngForOf",r.allTags),D(1),V("ngIf",0===r.allTags.length),D(3),V("ngModel",r.nameToFind),D(2),V("ngModel",r.selectedDate),D(5),V("ngIf",r.isLoading),D(1),V("ngIf",0===r.filteredTodoList.length&&!r.isLoading),D(1),V("ngIf",!r.isLoading&&0!==r.filteredTodoList.length))},styles:[".favorite-panel[_ngcontent-%COMP%]{width:80%;display:flex;flex-direction:column;justify-content:center;margin:auto}.fav-todo-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr 1fr 1fr;justify-items:center;flex-wrap:wrap}.fav-card[_ngcontent-%COMP%]{height:15em;width:90%}#thirdDiv[_ngcontent-%COMP%]{width:40%}@media (max-width: 1370px){.fav-todo-list[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr 1fr}}@media (max-width: 1090px){.fav-todo-list[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr}}@media (max-width: 750px){.fav-todo-list[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]}),n})();const nQ=[{path:"",component:UN,pathMatch:"full"},{path:"login",component:OK,data:{title:"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f"}},{path:"calendar",component:$N},{path:"favorite",component:HN}],rQ=KM({apiKey:"AIzaSyB5-TNb5YWX8YPIH-T-9_pjSaEAMyOwraA",authDomain:"to-do-project-edd86.firebaseapp.com",projectId:"to-do-project-edd86",storageBucket:"to-do-project-edd86.appspot.com",messagingSenderId:"720737302769",appId:"1:720737302769:web:35df9eff459f3aeaff5150",measurementId:"G-5W8XHTKQPM"});let iQ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ln({type:n,bootstrap:[BG]}),n.\u0275inj=In({providers:[_l,Zo,QE],imports:[Z$.withServerTransition({appId:"ng-cli-universal"}),NG.withOptions(),P5,g5,B9.forRoot(nQ)]}),n})();Xa(UN,function(){return[po,Gs,go,_o,qs,zs,dh,yo,op,YE]},[]),Xa($N,function(){return[po,Gs,go,op,YE]},[]),Xa(op,function(){return[po,Gs,qs,zs,yo,YE]},[]),Xa(HN,function(){return[po,Gs,go,_o,qs,zs,yo,op]},[]);X$([{provide:"BASE_URL",useFactory:function oQ(){return document.getElementsByTagName("base")[0].href},deps:[]}]).bootstrapModule(iQ).catch(n=>console.log(n))}},pe=>{pe(pe.s=877)}]);