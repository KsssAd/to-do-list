<dialog #listCard class="dialog-card">
  <list-card [todoList]="currTodoList"
             (close)="listCard.close(); dateClick(today.getDate());">
  </list-card>
</dialog>

<div class="calendar-panels">
  <div class="calendar-panel">
    <div class="calendar-header-container">
      <i (click)="prevMonth()" class="fa-solid fa-caret-left big-neumorph-icon"></i>
      <div class="month-name">
        <label class="neumorph-logo">{{monthName}}</label>
        <label class="secondary-text">{{monthName}}, {{selectedMonth.getFullYear()}}</label>
      </div>
      <i (click)="nextMonth()" class="fa-solid fa-caret-right big-neumorph-icon"></i>
    </div>

    <div class="calendar">
      <label *ngFor="let dayName of weekdayNames" class="title-text weekday">{{dayName}}</label>
      <button (click)="dateClick(day.date)" *ngFor="let day of daysInMonth" class="neumorph-btn calendar-day" [ngClass]="isToday(day.date) ? 'today' : ''" [disabled]="!day.isCurrMonth">
        {{day.date}}
      </button>
    </div>
  </div>

  <div class="list-panel">
    <div *ngIf="todoList.length !== 0" class="neumorph-card h-100">
      <label class="title-text">Списки на {{selectedDate.toLocaleDateString()}}:</label>
      <div *ngFor="let item of todoList" style="display: flex; align-items: center;">
        <i *ngIf="item.isFavorite" class="fa-solid fa-heart big-neumorph-icon me-2" title="Избранное" style="font-size: x-large;"></i>

        <div class="neumorph-list-card mx-0 w-100">
          <a (click)="showTodoListModal(item); listCard.showModal()" title="{{item.name}}" class="nav-link title-text list-name mx-0">{{item.name}}</a>
          <label class="title-text">
            <i class="fa-solid fa-tag me-1"></i>
            <label class="simple-text">{{item.tag}}</label>
          </label>
          <label class="simple-text">{{item.readyPer}}%</label>
        </div>
      </div>
    </div>

    <div *ngIf="todoList.length === 0" class="null-day neumorph-card h-100">
      <label class="simple-text mb-2">На дату <label class="title-text"> {{selectedDate.toLocaleDateString()}} </label> отсутствуют списки дел</label>
      <button class="neumorph-btn add-btn-cal"><i class="fa-regular fa-square-plus"></i></button>
    </div>
  </div>
</div>
